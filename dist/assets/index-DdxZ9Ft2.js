(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function s0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Td={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function o0(){if(vv)return De;vv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function $(M,X,te){this.props=M,this.context=X,this.refs=ee,this.updater=te||x}$.prototype.isReactComponent={},$.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ue(){}ue.prototype=$.prototype;function re(M,X,te){this.props=M,this.context=X,this.refs=ee,this.updater=te||x}var oe=re.prototype=new ue;oe.constructor=re,J(oe,$.prototype),oe.isPureReactComponent=!0;var Se=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function V(M,X,te,Z,he,Me){return te=Me.ref,{$$typeof:a,type:M,key:X,ref:te!==void 0?te:null,props:Me}}function S(M,X){return V(M.type,X,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function D(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return X[te]})}var O=/\/+/g;function P(M,X){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):X.toString(36)}function w(){}function rt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(w,w):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Qe(M,X,te,Z,he){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var ve=!1;if(M===null)ve=!0;else switch(Me){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(M.$$typeof){case a:case e:ve=!0;break;case E:return ve=M._init,Qe(ve(M._payload),X,te,Z,he)}}if(ve)return he=he(M),ve=Z===""?"."+P(M,0):Z,Se(he)?(te="",ve!=null&&(te=ve.replace(O,"$&/")+"/"),Qe(he,X,te,"",function(un){return un})):he!=null&&(I(he)&&(he=S(he,te+(he.key==null||M&&M.key===he.key?"":(""+he.key).replace(O,"$&/")+"/")+ve)),X.push(he)),1;ve=0;var mt=Z===""?".":Z+":";if(Se(M))for(var Ke=0;Ke<M.length;Ke++)Z=M[Ke],Me=mt+P(Z,Ke),ve+=Qe(Z,X,te,Me,he);else if(Ke=b(M),typeof Ke=="function")for(M=Ke.call(M),Ke=0;!(Z=M.next()).done;)Z=Z.value,Me=mt+P(Z,Ke++),ve+=Qe(Z,X,te,Me,he);else if(Me==="object"){if(typeof M.then=="function")return Qe(rt(M),X,te,Z,he);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(M,X,te){if(M==null)return M;var Z=[],he=0;return Qe(M,Z,"","",function(Me){return X.call(te,Me,he++)}),Z}function ie(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Oe(){}return De.Children={map:K,forEach:function(M,X,te){K(M,function(){X.apply(this,arguments)},te)},count:function(M){var X=0;return K(M,function(){X++}),X},toArray:function(M){return K(M,function(X){return X})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=$,De.Fragment=n,De.Profiler=l,De.PureComponent=re,De.StrictMode=r,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return de.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,X,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=J({},M.props),he=M.key,Me=void 0;if(X!=null)for(ve in X.ref!==void 0&&(Me=void 0),X.key!==void 0&&(he=""+X.key),X)!be.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(Z[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)Z.children=te;else if(1<ve){for(var mt=Array(ve),Ke=0;Ke<ve;Ke++)mt[Ke]=arguments[Ke+2];Z.children=mt}return V(M.type,he,void 0,void 0,Me,Z)},De.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},De.createElement=function(M,X,te){var Z,he={},Me=null;if(X!=null)for(Z in X.key!==void 0&&(Me=""+X.key),X)be.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(he[Z]=X[Z]);var ve=arguments.length-2;if(ve===1)he.children=te;else if(1<ve){for(var mt=Array(ve),Ke=0;Ke<ve;Ke++)mt[Ke]=arguments[Ke+2];he.children=mt}if(M&&M.defaultProps)for(Z in ve=M.defaultProps,ve)he[Z]===void 0&&(he[Z]=ve[Z]);return V(M,Me,void 0,void 0,null,he)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:g,render:M}},De.isValidElement=I,De.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ie}},De.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},De.startTransition=function(M){var X=de.T,te={};de.T=te;try{var Z=M(),he=de.S;he!==null&&he(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Oe,ce)}catch(Me){ce(Me)}finally{de.T=X}},De.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},De.use=function(M){return de.H.use(M)},De.useActionState=function(M,X,te){return de.H.useActionState(M,X,te)},De.useCallback=function(M,X){return de.H.useCallback(M,X)},De.useContext=function(M){return de.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,X){return de.H.useDeferredValue(M,X)},De.useEffect=function(M,X,te){var Z=de.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(M,X)},De.useId=function(){return de.H.useId()},De.useImperativeHandle=function(M,X,te){return de.H.useImperativeHandle(M,X,te)},De.useInsertionEffect=function(M,X){return de.H.useInsertionEffect(M,X)},De.useLayoutEffect=function(M,X){return de.H.useLayoutEffect(M,X)},De.useMemo=function(M,X){return de.H.useMemo(M,X)},De.useOptimistic=function(M,X){return de.H.useOptimistic(M,X)},De.useReducer=function(M,X,te){return de.H.useReducer(M,X,te)},De.useRef=function(M){return de.H.useRef(M)},De.useState=function(M){return de.H.useState(M)},De.useSyncExternalStore=function(M,X,te){return de.H.useSyncExternalStore(M,X,te)},De.useTransition=function(){return de.H.useTransition()},De.version="19.1.0",De}var _v;function cm(){return _v||(_v=1,Td.exports=o0()),Td.exports}var ge=cm();const N=s0(ge);var Ad={exports:{}},ml={},Sd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function l0(){return Ev||(Ev=1,function(a){function e(K,ie){var ce=K.length;K.push(ie);e:for(;0<ce;){var Oe=ce-1>>>1,M=K[Oe];if(0<l(M,ie))K[Oe]=ie,K[ce]=M,ce=Oe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],ce=K.pop();if(ce!==ie){K[0]=ce;e:for(var Oe=0,M=K.length,X=M>>>1;Oe<X;){var te=2*(Oe+1)-1,Z=K[te],he=te+1,Me=K[he];if(0>l(Z,ce))he<M&&0>l(Me,Z)?(K[Oe]=Me,K[he]=ce,Oe=he):(K[Oe]=Z,K[te]=ce,Oe=te);else if(he<M&&0>l(Me,ce))K[Oe]=Me,K[he]=ce,Oe=he;else break e}}return ie}function l(K,ie){var ce=K.sortIndex-ie.sortIndex;return ce!==0?ce:K.id-ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,R=null,b=3,x=!1,J=!1,ee=!1,$=!1,ue=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Se(K){for(var ie=n(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=K)r(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function de(K){if(ee=!1,Se(K),!J)if(n(p)!==null)J=!0,be||(be=!0,P());else{var ie=n(y);ie!==null&&Qe(de,ie.startTime-K)}}var be=!1,V=-1,S=5,I=-1;function D(){return $?!0:!(a.unstable_now()-I<S)}function O(){if($=!1,be){var K=a.unstable_now();I=K;var ie=!0;try{e:{J=!1,ee&&(ee=!1,re(V),V=-1),x=!0;var ce=b;try{t:{for(Se(K),R=n(p);R!==null&&!(R.expirationTime>K&&D());){var Oe=R.callback;if(typeof Oe=="function"){R.callback=null,b=R.priorityLevel;var M=Oe(R.expirationTime<=K);if(K=a.unstable_now(),typeof M=="function"){R.callback=M,Se(K),ie=!0;break t}R===n(p)&&r(p),Se(K)}else r(p);R=n(p)}if(R!==null)ie=!0;else{var X=n(y);X!==null&&Qe(de,X.startTime-K),ie=!1}}break e}finally{R=null,b=ce,x=!1}ie=void 0}}finally{ie?P():be=!1}}}var P;if(typeof oe=="function")P=function(){oe(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,rt=w.port2;w.port1.onmessage=O,P=function(){rt.postMessage(null)}}else P=function(){ue(O,0)};function Qe(K,ie){V=ue(function(){K(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ce=b;b=ie;try{return K()}finally{b=ce}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=b;b=K;try{return ie()}finally{b=ce}},a.unstable_scheduleCallback=function(K,ie,ce){var Oe=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Oe+ce:Oe):ce=Oe,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,K={id:E++,callback:ie,priorityLevel:K,startTime:ce,expirationTime:M,sortIndex:-1},ce>Oe?(K.sortIndex=ce,e(y,K),n(p)===null&&K===n(y)&&(ee?(re(V),V=-1):ee=!0,Qe(de,ce-Oe))):(K.sortIndex=M,e(p,K),J||x||(J=!0,be||(be=!0,P()))),K},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(K){var ie=b;return function(){var ce=b;b=ie;try{return K.apply(this,arguments)}finally{b=ce}}}}(bd)),bd}var Tv;function u0(){return Tv||(Tv=1,Sd.exports=l0()),Sd.exports}var Rd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function c0(){if(Av)return an;Av=1;var a=cm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:y,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},an.flushSync=function(p){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=E,r.d.f()}},an.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,R=g(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:b,fetchPriority:x}):E==="script"&&r.d.X(p,{crossOrigin:R,integrity:b,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},an.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=g(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,y){return p(y)},an.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.1.0",an}var Sv;function h0(){if(Sv)return Rd.exports;Sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Rd.exports=c0(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function f0(){if(bv)return ml;bv=1;var a=u0(),e=cm(),n=h0();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,o=d;break}if(T===o){_=!0,o=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,o=h;break}if(T===o){_=!0,o=d,s=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case $:return"Profiler";case ee:return"StrictMode";case de:return"Suspense";case be:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Qe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Oe=[],M=-1;function X(t){return{current:t}}function te(t){0>M||(t.current=Oe[M],Oe[M]=null,M--)}function Z(t,i){M++,Oe[M]=t.current,t.current=i}var he=X(null),Me=X(null),ve=X(null),mt=X(null);function Ke(t,i){switch(Z(ve,i),Z(Me,t),Z(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Fy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Fy(i),t=jy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),Z(he,t)}function un(){te(he),te(Me),te(ve)}function me(t){t.memoizedState!==null&&Z(mt,t);var i=he.current,s=jy(i,t.type);i!==s&&(Z(Me,t),Z(he,s))}function Re(t){Me.current===t&&(te(he),te(Me)),mt.current===t&&(te(mt),ul._currentValue=ce)}var it=Object.prototype.hasOwnProperty,ot=a.unstable_scheduleCallback,lt=a.unstable_cancelCallback,Ie=a.unstable_shouldYield,ut=a.unstable_requestPaint,gt=a.unstable_now,Jt=a.unstable_getCurrentPriorityLevel,en=a.unstable_ImmediatePriority,Fe=a.unstable_UserBlockingPriority,Kt=a.unstable_NormalPriority,oo=a.unstable_LowPriority,Ti=a.unstable_IdlePriority,ia=a.log,Kr=a.unstable_setDisableYieldValue,ht=null,We=null;function En(t){if(typeof ia=="function"&&Kr(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ht,t)}catch{}}var tn=Math.clz32?Math.clz32:tr,Xl=Math.log,Ah=Math.LN2;function tr(t){return t>>>=0,t===0?32:31-(Xl(t)/Ah|0)|0}var nr=256,ir=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fr(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=qn(o):(_&=T,_!==0?h=qn(_):s||(s=T&~t,s!==0&&(h=qn(s))))):(T=o&~d,T!==0?h=qn(T):_!==0?h=qn(_):s||(s=o&~t,s!==0&&(h=qn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var t=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),t}function co(){var t=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),t}function Ai(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ho(t,i,s,o,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(s=_&~s;0<s;){var F=31-tn(s),Q=1<<F;T[F]=0,C[F]=-1;var H=U[F];if(H!==null)for(U[F]=null,F=0;F<H.length;F++){var G=H[F];G!==null&&(G.lane&=-536870913)}s&=~Q}o!==0&&$n(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function $n(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-tn(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function fo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-tn(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ra(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function $l(t,i){var s=ie.p;try{return ie.p=t,i()}finally{ie.p=s}}var ft=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ft,bt="__reactProps$"+ft,Dn="__reactContainer$"+ft,mo="__reactEvents$"+ft,Sh="__reactListeners$"+ft,sa="__reactHandles$"+ft,Zl="__reactResources$"+ft,rr="__reactMarker$"+ft;function oa(t){delete t[Dt],delete t[bt],delete t[mo],delete t[Sh],delete t[sa]}function bi(t){var i=t[Dt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Dn]||s[Dt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Xy(t);t!==null;){if(s=t[Dt])return s;t=Xy(t)}return i}t=s,s=t.parentNode}return null}function Zn(t){if(t=t[Dt]||t[Dn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ei(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function cn(t){var i=t[Zl];return i||(i=t[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[rr]=!0}var go=new Set,Yr={};function Jn(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(Yr[t]=i,t=0;t<i.length;t++)go.add(i[t])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},sr={};function nu(t){return it.call(sr,t)?!0:it.call(tu,t)?!1:eu.test(t)?sr[t]=!0:(tu[t]=!0,!1)}function la(t,i,s){if(nu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ti(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ft(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}var or,iu;function wi(t){if(or===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);or=i&&i[1]||"",iu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+t+iu}var Qr=!1;function Wr(t,i){if(!t||Qr)return"";Qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var H=G}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(G){H=G}t.call(Q.prototype)}}else{try{throw Error()}catch(G){H=G}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?wi(s):""}function po(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Wr(t.type,!1);case 11:return Wr(t.type.render,!1);case 1:return Wr(t.type,!0);case 31:return wi("Activity");default:return""}}function Xr(t){try{var i="";do i+=po(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bh(t){var i=yo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $r(t){t._valueTracker||(t._valueTracker=bh(t))}function vo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=yo(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rh=/[\n"\\]/g;function Rt(t){return t.replace(Rh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(t,i,s,o,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+hn(i)):t.value!==""+hn(i)&&(t.value=""+hn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ua(t,_,hn(i)):s!=null?ua(t,_,hn(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+hn(T):t.removeAttribute("name")}function ur(t,i,s,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+hn(s):"",i=i!=null?""+hn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ua(t,i,s){i==="number"&&lr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ci(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+hn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ze(t,i,s){if(i!=null&&(i=""+hn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+hn(s):""}function cr(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(r(92));if(Qe(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=hn(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function kn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||hr.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function _o(t,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&au(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&au(t,d,i[d])}function Eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return Ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Di=null;function To(t){var i=Zn(t);if(i&&(t=i.stateNode)){var s=t[bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[bt]||null;if(!h)throw Error(r(90));Tn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&vo(o)}break e;case"textarea":Ze(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ci(t,!!s.multiple,i,!1)}}}var ni=!1;function ru(t,i,s){if(ni)return t(i,s);ni=!0;try{var o=t(i);return o}finally{if(ni=!1,(Mi!==null||Di!==null)&&($u(),Mi&&(i=Mi,t=Di,Di=Mi=null,To(i),t)))for(i=0;i<t.length;i++)To(t[i])}}function fr(t,i){var s=t.stateNode;if(s===null)return null;var o=s[bt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Kn)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){On=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{On=!1}var ii=null,ca=null,ki=null;function Ao(){if(ki)return ki;var t,i=ca,s=i.length,o,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(o=1;o<=_&&i[s-o]===h[d-o];o++);return ki=h.slice(t,1<o?1-o:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function So(){return!1}function zt(t){function i(s,o,h,d,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:So,this.isPropagationStopped=So,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=zt(je),mr=E({},je,{view:0,detail:0}),su=zt(mr),ts,ns,si,gr=E({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(ts=t.screenX-si.screenX,ns=t.screenY-si.screenY):ns=ts=0,si=t),ts)},movementY:function(t){return"movementY"in t?t.movementY:ns}}),Vn=zt(gr),ou=E({},gr,{dataTransfer:0}),Ih=zt(ou),pr=E({},mr,{relatedTarget:0}),is=zt(pr),bo=E({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),as=zt(bo),lu=E({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rs=zt(lu),Mh=E({},je,{data:0}),Ro=zt(Mh),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function vr(){return wo}var hu=E({},mr,{key:function(t){if(t.key){var i=yr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ss=zt(hu),fu=E({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=zt(fu),Ni=E({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),du=zt(Ni),mu=E({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=zt(mu),pu=E({},gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),os=zt(pu),fn=E({},je,{newState:0,oldState:0}),yu=zt(fn),vu=[9,13,27,32],oi=Kn&&"CompositionEvent"in window,u=null;Kn&&"documentMode"in document&&(u=document.documentMode);var m=Kn&&"TextEvent"in window&&!u,v=Kn&&(!oi||u&&8<u&&11>=u),A=" ",z=!1;function q(t,i){switch(t){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function kt(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function Ue(t,i){if(Be)return t==="compositionend"||!oi&&q(t,i)?(t=Ao(),ki=ca=ii=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function Oi(t,i,s,o){Mi?Di?Di.push(o):Di=[o]:Mi=o,i=ac(i,"onChange"),0<i.length&&(s=new es("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var jt=null,li=null;function Io(t){Hy(t,0)}function _u(t){var i=ei(t);if(vo(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Kn){var Dh;if(Kn){var kh="oninput"in document;if(!kh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),kh=typeof cg.oninput=="function"}Dh=kh}else Dh=!1;ug=Dh&&(!document.documentMode||9<document.documentMode)}function hg(){jt&&(jt.detachEvent("onpropertychange",fg),li=jt=null)}function fg(t){if(t.propertyName==="value"&&_u(li)){var i=[];Oi(i,li,t,Nn(t)),ru(Io,i)}}function LA(t,i,s){t==="focusin"?(hg(),jt=i,li=s,jt.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(li)}function xA(t,i){if(t==="click")return _u(i)}function BA(t,i){if(t==="input"||t==="change")return _u(i)}function UA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:UA;function Mo(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!it.call(i,h)||!An(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var s=dg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=dg(s)}}function gg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?gg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=lr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=lr(t.document)}return i}function Nh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var HA=Kn&&"documentMode"in document&&11>=document.documentMode,ls=null,Oh=null,Do=null,Vh=!1;function yg(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vh||ls==null||ls!==lr(o)||(o=ls,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Mo(Do,o)||(Do=o,o=ac(Oh,"onSelect"),0<o.length&&(i=new es("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=ls)))}function _r(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var us={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Ph={},vg={};Kn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Er(t){if(Ph[t])return Ph[t];if(!us[t])return t;var i=us[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in vg)return Ph[t]=i[s];return t}var _g=Er("animationend"),Eg=Er("animationiteration"),Tg=Er("animationstart"),GA=Er("transitionrun"),qA=Er("transitionstart"),JA=Er("transitioncancel"),Ag=Er("transitionend"),Sg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Fn(t,i){Sg.set(t,i),Jn(i,[t])}var bg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var s=bg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Xr(i)},bg.set(t,i),i)}return{value:t,source:i,stack:Xr(i)}}var Ln=[],cs=0,zh=0;function Eu(){for(var t=cs,i=zh=cs=0;i<t;){var s=Ln[i];Ln[i++]=null;var o=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Rg(s,h,d)}}function Tu(t,i,s,o){Ln[cs++]=t,Ln[cs++]=i,Ln[cs++]=s,Ln[cs++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function xh(t,i,s,o){return Tu(t,i,s,o),Au(t)}function hs(t,i){return Tu(t,null,null,i),Au(t)}function Rg(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-tn(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),d):null}function Au(t){if(50<tl)throw tl=0,Kf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var fs={};function KA(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,s,o){return new KA(t,i,s,o)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,i){var s=t.alternate;return s===null?(s=Sn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function wg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Su(t,i,s,o,h,d){var _=0;if(o=t,typeof t=="function")Bh(t)&&(_=1);else if(typeof t=="string")_=jS(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Sn(31,s,i,h),t.elementType=I,t.lanes=d,t;case J:return Tr(s.children,h,d,i);case ee:_=8,h|=24;break;case $:return t=Sn(12,s,i,h|2),t.elementType=$,t.lanes=d,t;case de:return t=Sn(13,s,i,h),t.elementType=de,t.lanes=d,t;case be:return t=Sn(19,s,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:case oe:_=10;break e;case re:_=9;break e;case Se:_=11;break e;case V:_=14;break e;case S:_=16,o=null;break e}_=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Sn(_,s,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Tr(t,i,s,o){return t=Sn(7,t,o,i),t.lanes=s,t}function Uh(t,i,s){return t=Sn(6,t,null,i),t.lanes=s,t}function Hh(t,i,s){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ds=[],ms=0,bu=null,Ru=0,zn=[],xn=0,Ar=null,Pi=1,Li="";function Sr(t,i){ds[ms++]=Ru,ds[ms++]=bu,bu=t,Ru=i}function Cg(t,i,s){zn[xn++]=Pi,zn[xn++]=Li,zn[xn++]=Ar,Ar=t;var o=Pi;t=Li;var h=32-tn(o)-1;o&=~(1<<h),s+=1;var d=32-tn(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Pi=1<<32-tn(i)+h|s<<h|o,Li=d+t}else Pi=1<<d|s<<h|o,Li=t}function Gh(t){t.return!==null&&(Sr(t,1),Cg(t,1,0))}function qh(t){for(;t===bu;)bu=ds[--ms],ds[ms]=null,Ru=ds[--ms],ds[ms]=null;for(;t===Ar;)Ar=zn[--xn],zn[xn]=null,Li=zn[--xn],zn[xn]=null,Pi=zn[--xn],zn[xn]=null}var dn=null,vt=null,Je=!1,br=null,ui=!1,Jh=Error(r(519));function Rr(t){var i=Error(r(418,""));throw Oo(Pn(i,t)),Jh}function Ig(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[bt]=o,s){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(s=0;s<il.length;s++)Le(il[s],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),ur(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$r(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),cr(i,o.value,o.defaultValue,o.children),$r(i)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||Ky(i.textContent,s)?(o.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),o.onScroll!=null&&Le("scroll",i),o.onScrollEnd!=null&&Le("scrollend",i),o.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||Rr(t)}function Mg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:dn=dn.return}}function ko(t){if(t!==dn)return!1;if(!Je)return Mg(t),Je=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||od(t.type,t.memoizedProps)),s=!s),s&&vt&&Rr(t),Mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){vt=Yn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}vt=null}}else i===27?(i=vt,wa(t.type)?(t=hd,hd=null,vt=t):vt=i):vt=dn?Yn(t.stateNode.nextSibling):null;return!0}function No(){vt=dn=null,Je=!1}function Dg(){var t=br;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),br=null),t}function Oo(t){br===null?br=[t]:br.push(t)}var Kh=X(null),wr=null,zi=null;function ha(t,i,s){Z(Kh,i._currentValue),i._currentValue=s}function xi(t){t._currentValue=Kh.current,te(Kh)}function Fh(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function jh(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Fh(d.return,s,t),o||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Fh(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Vo(t,i,s,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;An(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===mt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&jh(i,t,s,o),i.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){wr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return kg(wr,t)}function Cu(t,i){return wr===null&&Cr(t),kg(t,i)}function kg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(r(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return s}var FA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},jA=a.unstable_scheduleCallback,YA=a.unstable_NormalPriority,Ot={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new FA,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&jA(YA,function(){t.controller.abort()})}var Lo=null,Qh=0,gs=0,ps=null;function QA(t,i){if(Lo===null){var s=Lo=[];Qh=0,gs=$f(),ps={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,i.then(Ng,Ng),i}function Ng(){if(--Qh===0&&Lo!==null){ps!==null&&(ps.status="fulfilled");var t=Lo;Lo=null,gs=0,ps=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function WA(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&QA(t,i),Og!==null&&Og(t,i)};var Ir=X(null);function Wh(){var t=Ir.current;return t!==null?t:st.pooledCache}function Iu(t,i){i===null?Z(Ir,Ir.current):Z(Ir,i.pool)}function Vg(){var t=Wh();return t===null?null:{parent:Ot._currentValue,pool:t}}var zo=Error(r(460)),Pg=Error(r(474)),Mu=Error(r(542)),Xh={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function zg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Du,Du),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(Du,Du);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw xo=i,zo}}var xo=null;function xg(){if(xo===null)throw Error(r(459));var t=xo;return xo=null,t}function Bg(t){if(t===zo||t===Mu)throw Error(r(483))}var fa=!1;function $h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ma(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Au(t),Rg(t,null,s),i}return Tu(t,o,i,s),Au(t)}function Bo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,fo(t,s)}}function ef(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var tf=!1;function Uo(){if(tf){var t=ps;if(t!==null)throw t}}function Ho(t,i,s,o){tf=!1;var h=t.updateQueue;fa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?d=U:_.next=U,_=C;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=C))}if(d!==null){var Q=h.baseState;_=0,F=U=C=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(He&H)===H:(o&H)===H){H!==0&&H===gs&&(tf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,ye=T;H=i;var nt=s;switch(ye.tag){case 1:if(Ae=ye.payload,typeof Ae=="function"){Q=Ae.call(nt,Q,H);break e}Q=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ye.payload,H=typeof Ae=="function"?Ae.call(nt,Q,H):Ae,H==null)break e;Q=E({},Q,H);break e;case 2:fa=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=G,C=Q):F=F.next=G,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);F===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Aa|=_,t.lanes=_,t.memoizedState=Q}}function Ug(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ug(s[t],i)}var ys=X(null),ku=X(0);function Gg(t,i){t=Ki,Z(ku,t),Z(ys,i),Ki=t|i.baseLanes}function nf(){Z(ku,Ki),Z(ys,ys.current)}function af(){Ki=ku.current,te(ys),te(ku)}var ga=0,ke=null,et=null,wt=null,Nu=!1,vs=!1,Mr=!1,Ou=0,Go=0,_s=null,XA=0;function Tt(){throw Error(r(321))}function rf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!An(t[s],i[s]))return!1;return!0}function sf(t,i,s,o,h,d){return ga=d,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Rp:wp,Mr=!1,d=s(o,h),Mr=!1,vs&&(d=Jg(i,s,o,h)),qg(t),d}function qg(t){K.H=Bu;var i=et!==null&&et.next!==null;if(ga=0,wt=et=ke=null,Nu=!1,Go=0,_s=null,i)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&wu(t)&&(Bt=!0))}function Jg(t,i,s,o){ke=t;var h=0;do{if(vs&&(_s=null),Go=0,vs=!1,25<=h)throw Error(r(301));if(h+=1,wt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=aS,d=i(s,o)}while(vs);return d}function $A(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?qo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(ke.flags|=1024),i}function of(){var t=Ou!==0;return Ou=0,t}function lf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function uf(t){if(Nu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nu=!1}ga=0,wt=et=ke=null,vs=!1,Go=Ou=0,_s=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ke.memoizedState=wt=t:wt=wt.next=t,wt}function Ct(){if(et===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=wt===null?ke.memoizedState:wt.next;if(i!==null)wt=i,et=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},wt===null?ke.memoizedState=wt=t:wt=wt.next=t}return wt}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(t){var i=Go;return Go+=1,_s===null&&(_s=[]),t=zg(_s,t,i),i=ke,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Rp:wp),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qo(t);if(t.$$typeof===oe)return nn(t)}throw Error(r(438,String(t)))}function hf(t){var i=null,s=ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=cf(),ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=D;return i.index++,s}function Bi(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=Ct();return ff(i,et,t)}function ff(t,i,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,U=i,F=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(He&Q)===Q:(ga&Q)===Q){var H=U.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===gs&&(F=!0);else if((ga&H)===H){U=U.next,H===gs&&(F=!0);continue}else Q={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Q,_=d):C=C.next=Q,ke.lanes|=H,Aa|=H;Q=U.action,Mr&&s(d,Q),d=U.hasEagerState?U.eagerState:s(d,Q)}else H={lane:Q,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,ke.lanes|=Q,Aa|=Q;U=U.next}while(U!==null&&U!==i);if(C===null?_=d:C.next=T,!An(d,t.memoizedState)&&(Bt=!0,F&&(s=ps,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function df(t){var i=Ct(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);An(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function Kg(t,i,s){var o=ke,h=Ct(),d=Je;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var _=!An((et||h).memoizedState,s);_&&(h.memoizedState=s,Bt=!0),h=h.queue;var T=Yg.bind(null,o,h,t);if(Jo(2048,8,T,[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Es(9,Lu(),jg.bind(null,o,h,s,i),null),st===null)throw Error(r(349));d||(ga&124)!==0||Fg(o,i,s)}return s}function Fg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ke.updateQueue,i===null?(i=cf(),ke.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function jg(t,i,s,o){i.value=s,i.getSnapshot=o,Qg(i)&&Wg(t)}function Yg(t,i,s){return s(function(){Qg(i)&&Wg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!An(t,s)}catch{return!0}}function Wg(t){var i=hs(t,2);i!==null&&In(i,t,2)}function mf(t){var i=gn();if(typeof t=="function"){var s=t;if(t=s(),Mr){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Xg(t,i,s,o){return t.baseState=s,ff(t,et,typeof o=="function"?o:Bi)}function ZA(t,i,s,o,h){if(xu(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,$g(i,d)):(d.next=s.next,i.pending=s.next=d)}}function $g(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=s(h,o),C=K.S;C!==null&&C(_,T),Zg(t,i,T)}catch(U){gf(t,i,U)}finally{K.T=d}}else try{d=s(h,o),Zg(t,i,d)}catch(U){gf(t,i,U)}}function Zg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ep(t,i,o)},function(o){return gf(t,i,o)}):ep(t,i,s)}function ep(t,i,s){i.status="fulfilled",i.value=s,tp(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,$g(t,s)))}function gf(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,tp(i),i=i.next;while(i!==o)}t.action=null}function tp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function np(t,i){return i}function ip(t,i){if(Je){var s=st.formState;if(s!==null){e:{var o=ke;if(Je){if(vt){t:{for(var h=vt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){vt=Yn(h.nextSibling),o=h.data==="F!";break e}}Rr(o)}o=!1}o&&(i=s[0])}}return s=gn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:i},s.queue=o,s=Ap.bind(null,ke,o),o.dispatch=s,o=mf(!1),d=Ef.bind(null,ke,!1,o.queue),o=gn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=ZA.bind(null,ke,h,d,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function ap(t){var i=Ct();return rp(i,et,t)}function rp(t,i,s){if(i=ff(t,i,np)[0],t=Pu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=qo(i)}catch(_){throw _===zo?Mu:_}else o=i;i=Ct();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(ke.flags|=2048,Es(9,Lu(),eS.bind(null,h,s),null)),[o,d,t]}function eS(t,i){t.action=i}function sp(t){var i=Ct(),s=et;if(s!==null)return rp(i,s,t);Ct(),i=i.memoizedState,s=Ct();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function Es(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=ke.updateQueue,i===null&&(i=cf(),ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function Lu(){return{destroy:void 0,resource:void 0}}function op(){return Ct().memoizedState}function zu(t,i,s,o){var h=gn();o=o===void 0?null:o,ke.flags|=t,h.memoizedState=Es(1|i,Lu(),s,o)}function Jo(t,i,s,o){var h=Ct();o=o===void 0?null:o;var d=h.memoizedState.inst;et!==null&&o!==null&&rf(o,et.memoizedState.deps)?h.memoizedState=Es(i,d,s,o):(ke.flags|=t,h.memoizedState=Es(1|i,d,s,o))}function lp(t,i){zu(8390656,8,t,i)}function up(t,i){Jo(2048,8,t,i)}function cp(t,i){return Jo(4,2,t,i)}function hp(t,i){return Jo(4,4,t,i)}function fp(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dp(t,i,s){s=s!=null?s.concat([t]):null,Jo(4,4,fp.bind(null,i,t),s)}function pf(){}function mp(t,i){var s=Ct();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&rf(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function gp(t,i){var s=Ct();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&rf(i,o[1]))return o[0];if(o=t(),Mr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o}function yf(t,i,s){return s===void 0||(ga&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=vy(),ke.lanes|=t,Aa|=t,s)}function pp(t,i,s,o){return An(s,i)?s:ys.current!==null?(t=yf(t,s,o),An(t,i)||(Bt=!0),t):(ga&42)===0?(Bt=!0,t.memoizedState=s):(t=vy(),ke.lanes|=t,Aa|=t,i)}function yp(t,i,s,o,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Ef(t,!1,i,s);try{var C=h(),U=K.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=WA(C,o);Ko(t,i,F,Cn(t))}else Ko(t,i,o,Cn(t))}catch(Q){Ko(t,i,{then:function(){},status:"rejected",reason:Q},Cn())}finally{ie.p=d,K.T=_}}function tS(){}function vf(t,i,s,o){if(t.tag!==5)throw Error(r(476));var h=vp(t).queue;yp(t,h,i,ce,s===null?tS:function(){return _p(t),s(o)})}function vp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ce},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _p(t){var i=vp(t).next.queue;Ko(t,i,{},Cn())}function _f(){return nn(ul)}function Ep(){return Ct().memoizedState}function Tp(){return Ct().memoizedState}function nS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Cn();t=da(s);var o=ma(i,t,s);o!==null&&(In(o,i,s),Bo(o,i,s)),i={cache:Yh()},t.payload=i;return}i=i.return}}function iS(t,i,s){var o=Cn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},xu(t)?Sp(i,s):(s=xh(t,i,s,o),s!==null&&(In(s,t,o),bp(s,i,o)))}function Ap(t,i,s){var o=Cn();Ko(t,i,s,o)}function Ko(t,i,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(xu(t))Sp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,An(T,_))return Tu(t,i,h,0),st===null&&Eu(),!1}catch{}finally{}if(s=xh(t,i,h,o),s!==null)return In(s,t,o),bp(s,i,o),!0}return!1}function Ef(t,i,s,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(i)throw Error(r(479))}else i=xh(t,s,o,2),i!==null&&In(i,t,2)}function xu(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Sp(t,i){vs=Nu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function bp(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,fo(t,s)}}var Bu={readContext:nn,use:Vu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Rp={readContext:nn,use:Vu,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:lp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,zu(4194308,4,fp.bind(null,i,t),s)},useLayoutEffect:function(t,i){return zu(4194308,4,t,i)},useInsertionEffect:function(t,i){zu(4,2,t,i)},useMemo:function(t,i){var s=gn();i=i===void 0?null:i;var o=t();if(Mr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=gn();if(s!==void 0){var h=s(i);if(Mr){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=iS.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=mf(t);var i=t.queue,s=Ap.bind(null,ke,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(t,i){var s=gn();return yf(s,t,i)},useTransition:function(){var t=mf(!1);return t=yp.bind(null,ke,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=ke,h=gn();if(Je){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),st===null)throw Error(r(349));(He&124)!==0||Fg(o,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,lp(Yg.bind(null,o,d,t),[t]),o.flags|=2048,Es(9,Lu(),jg.bind(null,o,d,s,i),null),s},useId:function(){var t=gn(),i=st.identifierPrefix;if(Je){var s=Li,o=Pi;s=(o&~(1<<32-tn(o)-1)).toString(32)+s,i="«"+i+"R"+s,s=Ou++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=XA++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:_f,useFormState:ip,useActionState:ip,useOptimistic:function(t){var i=gn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ef.bind(null,ke,!0,s),s.dispatch=i,[t,i]},useMemoCache:hf,useCacheRefresh:function(){return gn().memoizedState=nS.bind(null,ke)}},wp={readContext:nn,use:Vu,useCallback:mp,useContext:nn,useEffect:up,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:Pu,useRef:op,useState:function(){return Pu(Bi)},useDebugValue:pf,useDeferredValue:function(t,i){var s=Ct();return pp(s,et.memoizedState,t,i)},useTransition:function(){var t=Pu(Bi)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:qo(t),i]},useSyncExternalStore:Kg,useId:Ep,useHostTransitionStatus:_f,useFormState:ap,useActionState:ap,useOptimistic:function(t,i){var s=Ct();return Xg(s,et,t,i)},useMemoCache:hf,useCacheRefresh:Tp},aS={readContext:nn,use:Vu,useCallback:mp,useContext:nn,useEffect:up,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:df,useRef:op,useState:function(){return df(Bi)},useDebugValue:pf,useDeferredValue:function(t,i){var s=Ct();return et===null?yf(s,t,i):pp(s,et.memoizedState,t,i)},useTransition:function(){var t=df(Bi)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:qo(t),i]},useSyncExternalStore:Kg,useId:Ep,useHostTransitionStatus:_f,useFormState:sp,useActionState:sp,useOptimistic:function(t,i){var s=Ct();return et!==null?Xg(s,et,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Tp},Ts=null,Fo=0;function Uu(t){var i=Fo;return Fo+=1,Ts===null&&(Ts=[]),zg(Ts,t,i)}function jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Hu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cp(t){var i=t._init;return i(t._payload)}function Ip(t){function i(L,k){if(t){var B=L.deletions;B===null?(L.deletions=[k],L.flags|=16):B.push(k)}}function s(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function o(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=Vi(L,k),L.index=0,L.sibling=null,L}function d(L,k,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<k?(L.flags|=67108866,k):B):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,B,j){return k===null||k.tag!==6?(k=Uh(B,L.mode,j),k.return=L,k):(k=h(k,B),k.return=L,k)}function C(L,k,B,j){var le=B.type;return le===J?F(L,k,B.props.children,j,B.key):k!==null&&(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===S&&Cp(le)===k.type)?(k=h(k,B.props),jo(k,B),k.return=L,k):(k=Su(B.type,B.key,B.props,null,L.mode,j),jo(k,B),k.return=L,k)}function U(L,k,B,j){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Hh(B,L.mode,j),k.return=L,k):(k=h(k,B.children||[]),k.return=L,k)}function F(L,k,B,j,le){return k===null||k.tag!==7?(k=Tr(B,L.mode,j,le),k.return=L,k):(k=h(k,B),k.return=L,k)}function Q(L,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uh(""+k,L.mode,B),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return B=Su(k.type,k.key,k.props,null,L.mode,B),jo(B,k),B.return=L,B;case x:return k=Hh(k,L.mode,B),k.return=L,k;case S:var j=k._init;return k=j(k._payload),Q(L,k,B)}if(Qe(k)||P(k))return k=Tr(k,L.mode,B,null),k.return=L,k;if(typeof k.then=="function")return Q(L,Uu(k),B);if(k.$$typeof===oe)return Q(L,Cu(L,k),B);Hu(L,k)}return null}function H(L,k,B,j){var le=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:T(L,k,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===le?C(L,k,B,j):null;case x:return B.key===le?U(L,k,B,j):null;case S:return le=B._init,B=le(B._payload),H(L,k,B,j)}if(Qe(B)||P(B))return le!==null?null:F(L,k,B,j,null);if(typeof B.then=="function")return H(L,k,Uu(B),j);if(B.$$typeof===oe)return H(L,k,Cu(L,B),j);Hu(L,B)}return null}function G(L,k,B,j,le){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return L=L.get(B)||null,T(k,L,""+j,le);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return L=L.get(j.key===null?B:j.key)||null,C(k,L,j,le);case x:return L=L.get(j.key===null?B:j.key)||null,U(k,L,j,le);case S:var Ve=j._init;return j=Ve(j._payload),G(L,k,B,j,le)}if(Qe(j)||P(j))return L=L.get(B)||null,F(k,L,j,le,null);if(typeof j.then=="function")return G(L,k,B,Uu(j),le);if(j.$$typeof===oe)return G(L,k,B,Cu(k,j),le);Hu(k,j)}return null}function Ae(L,k,B,j){for(var le=null,Ve=null,fe=k,_e=k=0,Ht=null;fe!==null&&_e<B.length;_e++){fe.index>_e?(Ht=fe,fe=null):Ht=fe.sibling;var qe=H(L,fe,B[_e],j);if(qe===null){fe===null&&(fe=Ht);break}t&&fe&&qe.alternate===null&&i(L,fe),k=d(qe,k,_e),Ve===null?le=qe:Ve.sibling=qe,Ve=qe,fe=Ht}if(_e===B.length)return s(L,fe),Je&&Sr(L,_e),le;if(fe===null){for(;_e<B.length;_e++)fe=Q(L,B[_e],j),fe!==null&&(k=d(fe,k,_e),Ve===null?le=fe:Ve.sibling=fe,Ve=fe);return Je&&Sr(L,_e),le}for(fe=o(fe);_e<B.length;_e++)Ht=G(fe,L,_e,B[_e],j),Ht!==null&&(t&&Ht.alternate!==null&&fe.delete(Ht.key===null?_e:Ht.key),k=d(Ht,k,_e),Ve===null?le=Ht:Ve.sibling=Ht,Ve=Ht);return t&&fe.forEach(function(ka){return i(L,ka)}),Je&&Sr(L,_e),le}function ye(L,k,B,j){if(B==null)throw Error(r(151));for(var le=null,Ve=null,fe=k,_e=k=0,Ht=null,qe=B.next();fe!==null&&!qe.done;_e++,qe=B.next()){fe.index>_e?(Ht=fe,fe=null):Ht=fe.sibling;var ka=H(L,fe,qe.value,j);if(ka===null){fe===null&&(fe=Ht);break}t&&fe&&ka.alternate===null&&i(L,fe),k=d(ka,k,_e),Ve===null?le=ka:Ve.sibling=ka,Ve=ka,fe=Ht}if(qe.done)return s(L,fe),Je&&Sr(L,_e),le;if(fe===null){for(;!qe.done;_e++,qe=B.next())qe=Q(L,qe.value,j),qe!==null&&(k=d(qe,k,_e),Ve===null?le=qe:Ve.sibling=qe,Ve=qe);return Je&&Sr(L,_e),le}for(fe=o(fe);!qe.done;_e++,qe=B.next())qe=G(fe,L,_e,qe.value,j),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?_e:qe.key),k=d(qe,k,_e),Ve===null?le=qe:Ve.sibling=qe,Ve=qe);return t&&fe.forEach(function(r0){return i(L,r0)}),Je&&Sr(L,_e),le}function nt(L,k,B,j){if(typeof B=="object"&&B!==null&&B.type===J&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var le=B.key;k!==null;){if(k.key===le){if(le=B.type,le===J){if(k.tag===7){s(L,k.sibling),j=h(k,B.props.children),j.return=L,L=j;break e}}else if(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===S&&Cp(le)===k.type){s(L,k.sibling),j=h(k,B.props),jo(j,B),j.return=L,L=j;break e}s(L,k);break}else i(L,k);k=k.sibling}B.type===J?(j=Tr(B.props.children,L.mode,j,B.key),j.return=L,L=j):(j=Su(B.type,B.key,B.props,null,L.mode,j),jo(j,B),j.return=L,L=j)}return _(L);case x:e:{for(le=B.key;k!==null;){if(k.key===le)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){s(L,k.sibling),j=h(k,B.children||[]),j.return=L,L=j;break e}else{s(L,k);break}else i(L,k);k=k.sibling}j=Hh(B,L.mode,j),j.return=L,L=j}return _(L);case S:return le=B._init,B=le(B._payload),nt(L,k,B,j)}if(Qe(B))return Ae(L,k,B,j);if(P(B)){if(le=P(B),typeof le!="function")throw Error(r(150));return B=le.call(B),ye(L,k,B,j)}if(typeof B.then=="function")return nt(L,k,Uu(B),j);if(B.$$typeof===oe)return nt(L,k,Cu(L,B),j);Hu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(s(L,k.sibling),j=h(k,B),j.return=L,L=j):(s(L,k),j=Uh(B,L.mode,j),j.return=L,L=j),_(L)):s(L,k)}return function(L,k,B,j){try{Fo=0;var le=nt(L,k,B,j);return Ts=null,le}catch(fe){if(fe===zo||fe===Mu)throw fe;var Ve=Sn(29,fe,null,L.mode);return Ve.lanes=j,Ve.return=L,Ve}finally{}}}var As=Ip(!0),Mp=Ip(!1),Bn=X(null),ci=null;function pa(t){var i=t.alternate;Z(Vt,Vt.current&1),Z(Bn,t),ci===null&&(i===null||ys.current!==null||i.memoizedState!==null)&&(ci=t)}function Dp(t){if(t.tag===22){if(Z(Vt,Vt.current),Z(Bn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else ya()}function ya(){Z(Vt,Vt.current),Z(Bn,Bn.current)}function Ui(t){te(Bn),ci===t&&(ci=null),te(Vt)}var Vt=X(0);function Gu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tf(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Af={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=Cn(),h=da(o);h.payload=i,s!=null&&(h.callback=s),i=ma(t,h,o),i!==null&&(In(i,t,o),Bo(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=Cn(),h=da(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ma(t,h,o),i!==null&&(In(i,t,o),Bo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Cn(),o=da(s);o.tag=2,i!=null&&(o.callback=i),i=ma(t,o,s),i!==null&&(In(i,t,s),Bo(i,t,s))}};function kp(t,i,s,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,d):!0}function Np(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&Af.enqueueReplaceState(i,i.state,null)}function Dr(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Op(t){qu(t)}function Vp(t){console.error(t)}function Pp(t){qu(t)}function Ju(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,i,s){return s=da(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(t,i)},s}function zp(t){return t=da(t),t.tag=3,t}function xp(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Lp(i,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Lp(i,s,o),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rS(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&Vo(i,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 13:return ci===null?jf():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Xh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Qf(t,o,h)),!1;case 22:return s.flags|=65536,o===Xh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Qf(t,o,h)),!1}throw Error(r(435,s.tag))}return Qf(t,o,h),jf(),!1}if(Je)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Jh&&(t=Error(r(422),{cause:o}),Oo(Pn(t,s)))):(o!==Jh&&(i=Error(r(423),{cause:o}),Oo(Pn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Pn(o,s),h=Sf(t.stateNode,o,h),ef(t,h),_t!==4&&(_t=2)),!1;var d=Error(r(520),{cause:o});if(d=Pn(d,s),el===null?el=[d]:el.push(d),_t!==4&&(_t=2),i===null)return!0;o=Pn(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Sf(s.stateNode,o,t),ef(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sa===null||!Sa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),xp(h,t,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var Bp=Error(r(461)),Bt=!1;function Yt(t,i,s,o){i.child=t===null?Mp(i,null,s,o):As(i,t.child,s,o)}function Up(t,i,s,o,h){s=s.render;var d=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Cr(i),o=sf(t,i,s,_,d,h),T=of(),t!==null&&!Bt?(lf(t,i,h),Hi(t,i,h)):(Je&&T&&Gh(i),i.flags|=1,Yt(t,i,o,h),i.child)}function Hp(t,i,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!Bh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Gp(t,i,d,o,h)):(t=Su(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(_,o)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=Vi(d,o),t.ref=i.ref,t.return=i,i.child=t}function Gp(t,i,s,o,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,o)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=o=d,kf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return bf(t,i,s,o,h)}function qp(t,i,s){var o=i.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Jp(t,i,o,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(i,d!==null?d.cachePool:null),d!==null?Gg(i,d):nf(),Dp(i);else return i.lanes=i.childLanes=536870912,Jp(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Iu(i,d.cachePool),Gg(i,d),ya(),i.memoizedState=null):(t!==null&&Iu(i,null),nf(),ya());return Yt(t,i,h,s),i.child}function Jp(t,i,s,o){var h=Wh();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Iu(i,null),nf(),Dp(i),t!==null&&Vo(t,i,o,!0),null}function Ku(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function bf(t,i,s,o,h){return Cr(i),s=sf(t,i,s,o,void 0,h),o=of(),t!==null&&!Bt?(lf(t,i,h),Hi(t,i,h)):(Je&&o&&Gh(i),i.flags|=1,Yt(t,i,s,h),i.child)}function Kp(t,i,s,o,h,d){return Cr(i),i.updateQueue=null,s=Jg(i,o,s,h),qg(t),o=of(),t!==null&&!Bt?(lf(t,i,d),Hi(t,i,d)):(Je&&o&&Gh(i),i.flags|=1,Yt(t,i,s,d),i.child)}function Fp(t,i,s,o,h){if(Cr(i),i.stateNode===null){var d=fs,_=s.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},$h(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?nn(_):fs,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Tf(i,s,_,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Af.enqueueReplaceState(d,d.state,null),Ho(i,o,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Dr(s,T);d.props=C;var U=d.context,F=s.contextType;_=fs,typeof F=="object"&&F!==null&&(_=nn(F));var Q=s.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Np(i,d,o,_),fa=!1;var H=i.memoizedState;d.state=H,Ho(i,o,d,h),Uo(),U=i.memoizedState,T||H!==U||fa?(typeof Q=="function"&&(Tf(i,s,Q,o),U=i.memoizedState),(C=fa||kp(i,s,C,o,H,U,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),d.props=o,d.state=U,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Zh(t,i),_=i.memoizedProps,F=Dr(s,_),d.props=F,Q=i.pendingProps,H=d.context,U=s.contextType,C=fs,typeof U=="object"&&U!==null&&(C=nn(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||H!==C)&&Np(i,d,o,C),fa=!1,H=i.memoizedState,d.state=H,Ho(i,o,d,h),Uo();var G=i.memoizedState;_!==Q||H!==G||fa||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof T=="function"&&(Tf(i,s,T,o),G=i.memoizedState),(F=fa||kp(i,s,F,o,H,G,C)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=G),d.props=o,d.state=G,d.context=C,o=F):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Ku(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=As(i,t.child,null,h),i.child=As(i,null,s,h)):Yt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function jp(t,i,s,o){return No(),i.flags|=256,Yt(t,i,s,o),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Vg()}}function Cf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Un),t}function Yp(t,i,s){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Je){if(h?pa(i):ya(),Je){var T=vt,C;if(C=T){e:{for(C=T,T=ui;C.nodeType!==8;){if(!T){T=null;break e}if(C=Yn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ar!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},C=Sn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,dn=i,vt=null,C=!0):C=!1}C||Rr(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cd(T)?i.lanes=32:i.lanes=536870912,null;Ui(i)}return T=o.children,o=o.fallback,h?(ya(),h=i.mode,T=Fu({mode:"hidden",children:T},h),o=Tr(o,h,s,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=wf(s),h.childLanes=Cf(t,_,s),i.memoizedState=Rf,o):(pa(i),If(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(pa(i),i.flags&=-257,i=Mf(t,i,s)):i.memoizedState!==null?(ya(),i.child=t.child,i.flags|=128,i=null):(ya(),h=o.fallback,T=i.mode,o=Fu({mode:"visible",children:o.children},T),h=Tr(h,T,s,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,As(i,t.child,null,s),o=i.child,o.memoizedState=wf(s),o.childLanes=Cf(t,_,s),i.memoizedState=Rf,i=h);else if(pa(i),cd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(r(419)),o.stack="",o.digest=_,Oo({value:o,source:null,stack:null}),i=Mf(t,i,s)}else if(Bt||Vo(t,i,s,!1),_=(s&t.childLanes)!==0,Bt||_){if(_=st,_!==null&&(o=s&-s,o=(o&42)!==0?1:aa(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,hs(t,o),In(_,t,o),Bp;T.data==="$?"||jf(),i=Mf(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,vt=Yn(T.nextSibling),dn=i,Je=!0,br=null,ui=!1,t!==null&&(zn[xn++]=Pi,zn[xn++]=Li,zn[xn++]=Ar,Pi=t.id,Li=t.overflow,Ar=i),i=If(i,o.children),i.flags|=4096);return i}return h?(ya(),h=o.fallback,T=i.mode,C=t.child,U=C.sibling,o=Vi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?h=Vi(U,h):(h=Tr(h,T,s,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=t.child.memoizedState,T===null?T=wf(s):(C=T.cachePool,C!==null?(U=Ot._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Vg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Cf(t,_,s),i.memoizedState=Rf,o):(pa(i),s=t.child,t=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function If(t,i){return i=Fu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fu(t,i){return t=Sn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,i,s){return As(i,t.child,null,s),t=If(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qp(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Fh(t.return,i,s)}function Df(t,i,s,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function Wp(t,i,s){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Yt(t,i,o.children,s),o=Vt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qp(t,s,i);else if(t.tag===19)Qp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Z(Vt,o),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Df(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Df(i,!0,s,null,d);break;case"together":Df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Aa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Vo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,s=Vi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Vi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function kf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function sS(t,i,s){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),ha(i,Ot,t.memoizedState.cache),No();break;case 27:case 5:me(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:ha(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(pa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Yp(t,i,s):(pa(i),t=Hi(t,i,s),t!==null?t.sibling:null);pa(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(Vo(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Wp(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Vt,Vt.current),o)break;return null;case 22:case 23:return i.lanes=0,qp(t,i,s);case 24:ha(i,Ot,t.memoizedState.cache)}return Hi(t,i,s)}function Xp(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!kf(t,s)&&(i.flags&128)===0)return Bt=!1,sS(t,i,s);Bt=(t.flags&131072)!==0}else Bt=!1,Je&&(i.flags&1048576)!==0&&Cg(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Bh(o)?(t=Dr(o,t),i.tag=1,i=Fp(null,i,o,t,s)):(i.tag=0,i=bf(null,i,o,t,s));else{if(o!=null){if(h=o.$$typeof,h===Se){i.tag=11,i=Up(null,i,o,t,s);break e}else if(h===V){i.tag=14,i=Hp(null,i,o,t,s);break e}}throw i=rt(o)||o,Error(r(306,i,""))}}return i;case 0:return bf(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Dr(o,i.pendingProps),Fp(t,i,o,h,s);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Zh(t,i),Ho(i,o,null,s);var _=i.memoizedState;if(o=_.cache,ha(i,Ot,o),o!==d.cache&&jh(i,[Ot],s,!0),Uo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=jp(t,i,o,s);break e}else if(o!==h){h=Pn(Error(r(424)),i),Oo(h),i=jp(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Yn(t.firstChild),dn=i,Je=!0,br=null,ui=!0,s=Mp(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(No(),o===h){i=Hi(t,i,s);break e}Yt(t,i,o,s)}i=i.child}return i;case 26:return Ku(t,i),t===null?(s=tv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Je||(s=i.type,t=i.pendingProps,o=sc(ve.current).createElement(s),o[Dt]=i,o[bt]=t,Wt(o,s,t),Et(o),i.stateNode=o):i.memoizedState=tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return me(i),t===null&&Je&&(o=i.stateNode=$y(i.type,i.pendingProps,ve.current),dn=i,ui=!0,h=vt,wa(i.type)?(hd=h,vt=Yn(o.firstChild)):vt=h),Yt(t,i,i.pendingProps.children,s),Ku(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Je&&((h=o=vt)&&(o=VS(o,i.type,i.pendingProps,ui),o!==null?(i.stateNode=o,dn=i,vt=Yn(o.firstChild),ui=!1,h=!0):h=!1),h||Rr(i)),me(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,od(h,d)?o=null:_!==null&&od(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=sf(t,i,$A,null,null,s),ul._currentValue=h),Ku(t,i),Yt(t,i,o,s),i.child;case 6:return t===null&&Je&&((t=s=vt)&&(s=PS(s,i.pendingProps,ui),s!==null?(i.stateNode=s,dn=i,vt=null,t=!0):t=!1),t||Rr(i)),null;case 13:return Yp(t,i,s);case 4:return Ke(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=As(i,null,o,s):Yt(t,i,o,s),i.child;case 11:return Up(t,i,i.type,i.pendingProps,s);case 7:return Yt(t,i,i.pendingProps,s),i.child;case 8:return Yt(t,i,i.pendingProps.children,s),i.child;case 12:return Yt(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,ha(i,i.type,o.value),Yt(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Cr(i),h=nn(h),o=o(h),i.flags|=1,Yt(t,i,o,s),i.child;case 14:return Hp(t,i,i.type,i.pendingProps,s);case 15:return Gp(t,i,i.type,i.pendingProps,s);case 19:return Wp(t,i,s);case 31:return o=i.pendingProps,s=i.mode,o={mode:o.mode,children:o.children},t===null?(s=Fu(o,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Vi(t.child,o),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return qp(t,i,s);case 24:return Cr(i),o=nn(Ot),t===null?(h=Wh(),h===null&&(h=st,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:o,cache:h},$h(i),ha(i,Ot,h)):((t.lanes&s)!==0&&(Zh(t,i),Ho(i,null,null,s),Uo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ha(i,Ot,o)):(o=d.cache,ha(i,Ot,o),o!==h.cache&&jh(i,[Ot],s,!0))),Yt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Gi(t){t.flags|=4}function $p(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(i)){if(i=Bn.current,i!==null&&((He&4194048)===He?ci!==null:(He&62914560)!==He&&(He&536870912)===0||i!==ci))throw xo=Xh,Pg;t.flags|=8192}}function ju(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?co():536870912,t.lanes|=i,ws|=i)}function Yo(t,i){if(!Je)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function oS(t,i,s){var o=i.pendingProps;switch(qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xi(Ot),un(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ko(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dg())),pt(i),null;case 26:return s=i.memoizedState,t===null?(Gi(i),s!==null?(pt(i),$p(i,s)):(pt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Gi(i),pt(i),$p(i,s)):(pt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Gi(i),pt(i),i.flags&=-16777217),null;case 27:Re(i),s=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return pt(i),null}t=he.current,ko(i)?Ig(i):(t=$y(h,o,s),i.stateNode=t,Gi(i))}return pt(i),null;case 5:if(Re(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(t=he.current,ko(i))Ig(i);else{switch(h=sc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}t[Dt]=i,t[bt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Wt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,ko(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ky(t.nodeValue,s)),t||Rr(i)}else t=sc(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return pt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),h=!1}else h=Dg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),ju(i,i.updateQueue),pt(i),null;case 4:return un(),t===null&&nd(i.stateNode.containerInfo),pt(i),null;case 10:return xi(i.type),pt(i),null;case 19:if(te(Vt),h=i.memoizedState,h===null)return pt(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Yo(h,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Gu(t),d!==null){for(i.flags|=128,Yo(h,!1),t=d.updateQueue,i.updateQueue=t,ju(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)wg(s,t),s=s.sibling;return Z(Vt,Vt.current&1|2),i.child}t=t.sibling}h.tail!==null&&gt()>Wu&&(i.flags|=128,o=!0,Yo(h,!1),i.lanes=4194304)}else{if(!o)if(t=Gu(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,ju(i,t),Yo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Je)return pt(i),null}else 2*gt()-h.renderingStartTime>Wu&&s!==536870912&&(i.flags|=128,o=!0,Yo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gt(),i.sibling=null,t=Vt.current,Z(Vt,o?t&1|2:t&1),i):(pt(i),null);case 22:case 23:return Ui(i),af(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),s=i.updateQueue,s!==null&&ju(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&te(Ir),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),xi(Ot),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function lS(t,i){switch(qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xi(Ot),un(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Re(i),null;case 13:if(Ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));No()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Vt),null;case 4:return un(),null;case 10:return xi(i.type),null;case 22:case 23:return Ui(i),af(),t!==null&&te(Ir),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xi(Ot),null;case 25:return null;default:return null}}function Zp(t,i){switch(qh(i),i.tag){case 3:xi(Ot),un();break;case 26:case 27:case 5:Re(i);break;case 4:un();break;case 13:Ui(i);break;case 19:te(Vt);break;case 10:xi(i.type);break;case 22:case 23:Ui(i),af(),t!==null&&te(Ir);break;case 24:xi(Ot)}}function Qo(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==h)}}catch(T){at(i,i.return,T)}}function va(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=s,U=T;try{U()}catch(F){at(h,C,F)}}}o=o.next}while(o!==d)}}catch(F){at(i,i.return,F)}}function ey(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Hg(i,s)}catch(o){at(t,t.return,o)}}}function ty(t,i,s){s.props=Dr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){at(t,i,o)}}function Wo(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){at(t,i,h)}}function hi(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,i,h)}else s.current=null}function ny(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function Nf(t,i,s){try{var o=t.stateNode;MS(o,t.type,s,i),o[bt]=i}catch(h){at(t,t.return,h)}}function iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wa(t.type)||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rc));else if(o!==4&&(o===27&&wa(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Vf(t,i,s),t=t.sibling;t!==null;)Vf(t,i,s),t=t.sibling}function Yu(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&wa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yu(t,i,s),t=t.sibling;t!==null;)Yu(t,i,s),t=t.sibling}function ay(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,o,s),i[Dt]=t,i[bt]=s}catch(d){at(t,t.return,d)}}var qi=!1,At=!1,Pf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function uS(t,i){if(t=t.containerInfo,rd=fc,t=pg(t),Nh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,C=-1,U=0,F=0,Q=t,H=null;t:for(;;){for(var G;Q!==s||h!==0&&Q.nodeType!==3||(T=_+h),Q!==d||o!==0&&Q.nodeType!==3||(C=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(G=Q.firstChild)!==null;)H=Q,Q=G;for(;;){if(Q===t)break t;if(H===s&&++U===h&&(T=_),H===d&&++F===o&&(C=_),(G=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=G}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:t,selectionRange:s},fc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ae=Dr(s.type,h,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){at(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function sy(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_a(t,s),o&4&&Qo(5,s);break;case 1:if(_a(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){at(s,s.return,_)}else{var h=Dr(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(s,s.return,_)}}o&64&&ey(s),o&512&&Wo(s,s.return);break;case 3:if(_a(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Hg(t,i)}catch(_){at(s,s.return,_)}}break;case 27:i===null&&o&4&&ay(s);case 26:case 5:_a(t,s),i===null&&o&4&&ny(s),o&512&&Wo(s,s.return);break;case 12:_a(t,s);break;case 13:_a(t,s),o&4&&uy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vS.bind(null,s),LS(t,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||At,h=qi;var d=At;qi=o,(At=i)&&!d?Ea(t,s,(s.subtreeFlags&8772)!==0):_a(t,s),qi=h,At=d}break;case 30:break;default:_a(t,s)}}function oy(t){var i=t.alternate;i!==null&&(t.alternate=null,oy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,pn=!1;function Ji(t,i,s){for(s=s.child;s!==null;)ly(t,i,s),s=s.sibling}function ly(t,i,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ht,s)}catch{}switch(s.tag){case 26:At||hi(s,i),Ji(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||hi(s,i);var o=dt,h=pn;wa(s.type)&&(dt=s.stateNode,pn=!1),Ji(t,i,s),rl(s.stateNode),dt=o,pn=h;break;case 5:At||hi(s,i);case 6:if(o=dt,h=pn,dt=null,Ji(t,i,s),dt=o,pn=h,dt!==null)if(pn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(s.stateNode)}catch(d){at(s,i,d)}else try{dt.removeChild(s.stateNode)}catch(d){at(s,i,d)}break;case 18:dt!==null&&(pn?(t=dt,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),dl(t)):Wy(dt,s.stateNode));break;case 4:o=dt,h=pn,dt=s.stateNode.containerInfo,pn=!0,Ji(t,i,s),dt=o,pn=h;break;case 0:case 11:case 14:case 15:At||va(2,s,i),At||va(4,s,i),Ji(t,i,s);break;case 1:At||(hi(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ty(s,i,o)),Ji(t,i,s);break;case 21:Ji(t,i,s);break;case 22:At=(o=At)||s.memoizedState!==null,Ji(t,i,s),At=o;break;default:Ji(t,i,s)}}function uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(s){at(i,i.return,s)}}function cS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ry),i;default:throw Error(r(435,t.tag))}}function Lf(t,i){var s=cS(t);i.forEach(function(o){var h=_S.bind(null,t,o);s.has(o)||(s.add(o),o.then(h,h))})}function bn(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(wa(T.type)){dt=T.stateNode,pn=!1;break e}break;case 5:dt=T.stateNode,pn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(dt===null)throw Error(r(160));ly(d,_,h),dt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cy(i,t),i=i.sibling}var jn=null;function cy(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),Rn(t),o&4&&(va(3,t,t.return),Qo(3,t),va(5,t,t.return));break;case 1:bn(i,t),Rn(t),o&512&&(At||s===null||hi(s,s.return)),o&64&&qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=jn;if(bn(i,t),Rn(t),o&512&&(At||s===null||hi(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,o,s),d[Dt]=t,Et(d),o=d;break e;case"link":var _=av("link","href",h).get(o+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(o),Wt(d,o,s),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(o+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(o),Wt(d,o,s),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Dt]=t,Et(d),o=d}t.stateNode=o}else rv(h,t.type,t.stateNode);else t.stateNode=iv(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?rv(h,t.type,t.stateNode):iv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Nf(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(i,t),Rn(t),o&512&&(At||s===null||hi(s,s.return)),s!==null&&o&4&&Nf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(i,t),Rn(t),o&512&&(At||s===null||hi(s,s.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(G){at(t,t.return,G)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Nf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(bn(i,t),Rn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(G){at(t,t.return,G)}}break;case 3:if(uc=null,h=jn,jn=oc(i.containerInfo),bn(i,t),jn=h,Rn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(G){at(t,t.return,G)}Pf&&(Pf=!1,hy(t));break;case 4:o=jn,jn=oc(t.stateNode.containerInfo),bn(i,t),Rn(t),jn=o;break;case 12:bn(i,t),Rn(t);break;case 13:bn(i,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gf=gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lf(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,U=qi,F=At;if(qi=U||h,At=F||C,bn(i,t),At=F,qi=U,Rn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||qi||At||kr(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Q=C.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){at(C,C.return,G)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){at(C,C.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Lf(t,s))));break;case 19:bn(i,t),Rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lf(t,o)));break;case 30:break;case 21:break;default:bn(i,t),Rn(t)}}function Rn(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(iy(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=Of(t);Yu(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(kn(_,""),s.flags&=-33);var T=Of(t);Yu(t,T,_);break;case 3:case 4:var C=s.stateNode.containerInfo,U=Of(t);Vf(t,U,C);break;default:throw Error(r(161))}}catch(F){at(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _a(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sy(t,i.alternate,i),i=i.sibling}function kr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:va(4,i,i.return),kr(i);break;case 1:hi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ty(i,i.return,s),kr(i);break;case 27:rl(i.stateNode);case 26:case 5:hi(i,i.return),kr(i);break;case 22:i.memoizedState===null&&kr(i);break;case 30:kr(i);break;default:kr(i)}t=t.sibling}}function Ea(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ea(h,d,s),Qo(4,d);break;case 1:if(Ea(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){at(o,o.return,U)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ug(C[h],T)}catch(U){at(o,o.return,U)}}s&&_&64&&ey(d),Wo(d,d.return);break;case 27:ay(d);case 26:case 5:Ea(h,d,s),s&&o===null&&_&4&&ny(d),Wo(d,d.return);break;case 12:Ea(h,d,s);break;case 13:Ea(h,d,s),s&&_&4&&uy(h,d);break;case 22:d.memoizedState===null&&Ea(h,d,s),Wo(d,d.return);break;case 30:break;default:Ea(h,d,s)}i=i.sibling}}function zf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Po(s))}function xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t))}function fi(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fy(t,i,s,o),i=i.sibling}function fy(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,s,o),h&2048&&Qo(9,i);break;case 1:fi(t,i,s,o);break;case 3:fi(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){fi(t,i,s,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(i,i.return,C)}}else fi(t,i,s,o);break;case 13:fi(t,i,s,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?fi(t,i,s,o):Xo(t,i):d._visibility&2?fi(t,i,s,o):(d._visibility|=2,Ss(t,i,s,o,(i.subtreeFlags&10256)!==0)),h&2048&&zf(_,i);break;case 24:fi(t,i,s,o),h&2048&&xf(i.alternate,i);break;default:fi(t,i,s,o)}}function Ss(t,i,s,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=s,C=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ss(d,_,T,C,h),Qo(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ss(d,_,T,C,h):Xo(d,_):(F._visibility|=2,Ss(d,_,T,C,h)),h&&U&2048&&zf(_.alternate,_);break;case 24:Ss(d,_,T,C,h),h&&U&2048&&xf(_.alternate,_);break;default:Ss(d,_,T,C,h)}i=i.sibling}}function Xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&zf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&xf(o.alternate,o);break;default:Xo(s,o)}i=i.sibling}}var $o=8192;function bs(t){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 26:bs(t),t.flags&$o&&t.memoizedState!==null&&QS(jn,t.memoizedState,t.memoizedProps);break;case 5:bs(t);break;case 3:case 4:var i=jn;jn=oc(t.stateNode.containerInfo),bs(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$o,$o=16777216,bs(t),$o=i):bs(t));break;default:bs(t)}}function my(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Ut=o,py(o,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&va(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Qu(t)):Zo(t);break;default:Zo(t)}}function Qu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Ut=o,py(o,t)}my(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:va(8,i,i.return),Qu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(i));break;default:Qu(i)}t=t.sibling}}function py(t,i){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:va(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ut=o;else e:for(s=t;Ut!==null;){o=Ut;var h=o.sibling,d=o.return;if(oy(o),o===s){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var hS={getCacheForType:function(t){var i=nn(Ot),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},fS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Pe=null,He=0,$e=0,wn=null,Ta=!1,Rs=!1,Bf=!1,Ki=0,_t=0,Aa=0,Nr=0,Uf=0,Un=0,ws=0,el=null,yn=null,Hf=!1,Gf=0,Wu=1/0,Xu=null,Sa=null,Qt=0,ba=null,Cs=null,Is=0,qf=0,Jf=null,yy=null,tl=0,Kf=null;function Cn(){if((Xe&2)!==0&&He!==0)return He&-He;if(K.T!==null){var t=gs;return t!==0?t:$f()}return ra()}function vy(){Un===0&&(Un=(He&536870912)===0||Je?uo():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),Un}function In(t,i,s){(t===st&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),Ra(t,He,Un,!1)),Si(t,s),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(Nr|=s),_t===4&&Ra(t,He,Un,!1)),di(t))}function _y(t,i,s){if((Xe&6)!==0)throw Error(r(327));var o=!s&&(i&124)===0&&(i&t.expiredLanes)===0||ar(t,i),h=o?gS(t,i):Yf(t,i,!0),d=o;do{if(h===0){Rs&&!o&&Ra(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!dS(s)){h=Yf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=el;var C=T.current.memoizedState.isDehydrated;if(C&&(Ms(T,_).flags|=256),_=Yf(T,_,!1),_!==2){if(Bf&&!C){T.errorRecoveryDisabledLanes|=d,Nr|=d,h=4;break e}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ms(t,0),Ra(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ra(o,i,Un,!Ta);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Gf+300-gt(),10<h)){if(Ra(o,i,Un,!Ta),Fr(o,0,!0)!==0)break e;o.timeoutHandle=Yy(Ey.bind(null,o,s,yn,Xu,Hf,i,Un,Nr,ws,Ta,d,2,-0,0),h);break e}Ey(o,s,yn,Xu,Hf,i,Un,Nr,ws,Ta,d,0,-0,0)}}break}while(!0);di(t)}function Ey(t,i,s,o,h,d,_,T,C,U,F,Q,H,G){if(t.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:YS},dy(i),Q=WS(),Q!==null)){t.cancelPendingCommit=Q(Cy.bind(null,t,i,d,s,o,h,_,T,C,F,1,H,G)),Ra(t,d,_,!U);return}Cy(t,i,d,s,o,h,_,T,C)}function dS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ra(t,i,s,o){i&=~Uf,i&=~Nr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),_=1<<d;o[d]=-1,h&=~_}s!==0&&$n(t,s,i)}function $u(){return(Xe&6)===0?(nl(0),!1):!0}function Ff(){if(Pe!==null){if($e===0)var t=Pe.return;else t=Pe,zi=wr=null,uf(t),Ts=null,Fo=0,t=Pe;for(;t!==null;)Zp(t.alternate,t),t=t.return;Pe=null}}function Ms(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,kS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ff(),st=t,Pe=s=Vi(t.current,null),He=i,$e=0,wn=null,Ta=!1,Rs=ar(t,i),Bf=!1,ws=Un=Uf=Nr=Aa=_t=0,yn=el=null,Hf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-tn(o),d=1<<h;i|=t[h],o&=~d}return Ki=i,Eu(),s}function Ty(t,i){ke=null,K.H=Bu,i===zo||i===Mu?(i=xg(),$e=3):i===Pg?(i=xg(),$e=4):$e=i===Bp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Pe===null&&(_t=1,Ju(t,Pn(i,t.current)))}function Ay(){var t=K.H;return K.H=Bu,t===null?Bu:t}function Sy(){var t=K.A;return K.A=hS,t}function jf(){_t=4,Ta||(He&4194048)!==He&&Bn.current!==null||(Rs=!0),(Aa&134217727)===0&&(Nr&134217727)===0||st===null||Ra(st,He,Un,!1)}function Yf(t,i,s){var o=Xe;Xe|=2;var h=Ay(),d=Sy();(st!==t||He!==i)&&(Xu=null,Ms(t,i)),i=!1;var _=_t;e:do try{if($e!==0&&Pe!==null){var T=Pe,C=wn;switch($e){case 8:Ff(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var U=$e;if($e=0,wn=null,Ds(t,T,C,U),s&&Rs){_=0;break e}break;default:U=$e,$e=0,wn=null,Ds(t,T,C,U)}}mS(),_=_t;break}catch(F){Ty(t,F)}while(!0);return i&&t.shellSuspendCounter++,zi=wr=null,Xe=o,K.H=h,K.A=d,Pe===null&&(st=null,He=0,Eu()),_}function mS(){for(;Pe!==null;)by(Pe)}function gS(t,i){var s=Xe;Xe|=2;var o=Ay(),h=Sy();st!==t||He!==i?(Xu=null,Wu=gt()+500,Ms(t,i)):Rs=ar(t,i);e:do try{if($e!==0&&Pe!==null){i=Pe;var d=wn;t:switch($e){case 1:$e=0,wn=null,Ds(t,i,d,1);break;case 2:case 9:if(Lg(d)){$e=0,wn=null,Ry(i);break}i=function(){$e!==2&&$e!==9||st!==t||($e=7),di(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Lg(d)?($e=0,wn=null,Ry(i)):($e=0,wn=null,Ds(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(!_||sv(_)){$e=0,wn=null;var C=T.sibling;if(C!==null)Pe=C;else{var U=T.return;U!==null?(Pe=U,Zu(U)):Pe=null}break t}}$e=0,wn=null,Ds(t,i,d,5);break;case 6:$e=0,wn=null,Ds(t,i,d,6);break;case 8:Ff(),_t=6;break e;default:throw Error(r(462))}}pS();break}catch(F){Ty(t,F)}while(!0);return zi=wr=null,K.H=o,K.A=h,Xe=s,Pe!==null?0:(st=null,He=0,Eu(),_t)}function pS(){for(;Pe!==null&&!Ie();)by(Pe)}function by(t){var i=Xp(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?Zu(t):Pe=i}function Ry(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Kp(s,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Kp(s,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:uf(i);default:Zp(s,i),i=Pe=wg(i,Ki),i=Xp(s,i,Ki)}t.memoizedProps=t.pendingProps,i===null?Zu(t):Pe=i}function Ds(t,i,s,o){zi=wr=null,uf(i),Ts=null,Fo=0;var h=i.return;try{if(rS(t,h,i,s,He)){_t=1,Ju(t,Pn(s,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;_t=1,Ju(t,Pn(s,t.current)),Pe=null;return}i.flags&32768?(Je||o===1?t=!0:Rs||(He&536870912)!==0?t=!1:(Ta=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(i,t)):Zu(i)}function Zu(t){var i=t;do{if((i.flags&32768)!==0){wy(i,Ta);return}t=i.return;var s=oS(i.alternate,i,Ki);if(s!==null){Pe=s;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);_t===0&&(_t=5)}function wy(t,i){do{var s=lS(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);_t=6,Pe=null}function Cy(t,i,s,o,h,d,_,T,C){t.cancelPendingCommit=null;do ec();while(Qt!==0);if((Xe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=zh,ho(t,s,d,_,T,C),t===st&&(Pe=st=null,He=0),Cs=i,ba=t,Is=s,qf=d,Jf=h,yy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(Kt,function(){return Ny(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ie.p,ie.p=2,_=Xe,Xe|=4;try{uS(t,i,s)}finally{Xe=_,ie.p=h,K.T=o}}Qt=1,Iy(),My(),Dy()}}function Iy(){if(Qt===1){Qt=0;var t=ba,i=Cs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=ie.p;ie.p=2;var h=Xe;Xe|=4;try{cy(i,t);var d=sd,_=pg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(C!==null&&Nh(T)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ae=T.textContent.length,ye=Math.min(C.start,Ae),nt=C.end===void 0?ye:Math.min(C.end,Ae);!G.extend&&ye>nt&&(_=nt,nt=ye,ye=_);var L=mg(T,ye),k=mg(T,nt);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var B=Q.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),ye>nt?(G.addRange(B),G.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),G.addRange(B))}}}}for(Q=[],G=T;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var j=Q[T];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}fc=!!rd,sd=rd=null}finally{Xe=h,ie.p=o,K.T=s}}t.current=i,Qt=2}}function My(){if(Qt===2){Qt=0;var t=ba,i=Cs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=ie.p;ie.p=2;var h=Xe;Xe|=4;try{sy(t,i.alternate,i)}finally{Xe=h,ie.p=o,K.T=s}}Qt=3}}function Dy(){if(Qt===4||Qt===3){Qt=0,ut();var t=ba,i=Cs,s=Is,o=yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qt=5:(Qt=0,Cs=ba=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sa=null),jr(s),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ie.p=h}}(Is&3)!==0&&ec(),di(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Kf?tl++:(tl=0,Kf=t):tl=0,nl(0)}}function ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Po(i)))}function ec(t){return Iy(),My(),Dy(),Ny()}function Ny(){if(Qt!==5)return!1;var t=ba,i=qf;qf=0;var s=jr(Is),o=K.T,h=ie.p;try{ie.p=32>s?32:s,K.T=null,s=Jf,Jf=null;var d=ba,_=Is;if(Qt=0,Cs=ba=null,Is=0,(Xe&6)!==0)throw Error(r(331));var T=Xe;if(Xe|=4,gy(d.current),fy(d,d.current,_,s),Xe=T,nl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{ie.p=h,K.T=o,ky(t,i)}}function Oy(t,i,s){i=Pn(s,i),i=Sf(t.stateNode,i,2),t=ma(t,i,2),t!==null&&(Si(t,2),di(t))}function at(t,i,s){if(t.tag===3)Oy(t,t,s);else for(;i!==null;){if(i.tag===3){Oy(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sa===null||!Sa.has(o))){t=Pn(s,t),s=zp(2),o=ma(i,s,2),o!==null&&(xp(s,o,i,t),Si(o,2),di(o));break}}i=i.return}}function Qf(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new fS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(Bf=!0,h.add(s),t=yS.bind(null,t,i,s),i.then(t,t))}function yS(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(He&s)===s&&(_t===4||_t===3&&(He&62914560)===He&&300>gt()-Gf?(Xe&2)===0&&Ms(t,0):Uf|=s,ws===He&&(ws=0)),di(t)}function Vy(t,i){i===0&&(i=co()),t=hs(t,i),t!==null&&(Si(t,i),di(t))}function vS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Vy(t,s)}function _S(t,i){var s=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Vy(t,s)}function ES(t,i){return ot(t,i)}var tc=null,ks=null,Wf=!1,nc=!1,Xf=!1,Or=0;function di(t){t!==ks&&t.next===null&&(ks===null?tc=ks=t:ks=ks.next=t),nc=!0,Wf||(Wf=!0,AS())}function nl(t,i){if(!Xf&&nc){Xf=!0;do for(var s=!1,o=tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,xy(o,d))}else d=He,d=Fr(o,o===st?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ar(o,d)||(s=!0,xy(o,d));o=o.next}while(s);Xf=!1}}function TS(){Py()}function Py(){nc=Wf=!1;var t=0;Or!==0&&(DS()&&(t=Or),Or=0);for(var i=gt(),s=null,o=tc;o!==null;){var h=o.next,d=Ly(o,i);d===0?(o.next=null,s===null?tc=h:s.next=h,h===null&&(ks=s)):(s=o,(t!==0||(d&3)!==0)&&(nc=!0)),o=h}nl(t)}function Ly(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-tn(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&o)!==0)&&(h[_]=lo(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,s=He,s=Fr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&lt(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ar(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&lt(o),jr(s)){case 2:case 8:s=Fe;break;case 32:s=Kt;break;case 268435456:s=Ti;break;default:s=Kt}return o=zy.bind(null,t),s=ot(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&lt(o),t.callbackPriority=2,t.callbackNode=null,2}function zy(t,i){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ec()&&t.callbackNode!==s)return null;var o=He;return o=Fr(t,t===st?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(_y(t,o,i),Ly(t,gt()),t.callbackNode!=null&&t.callbackNode===s?zy.bind(null,t):null)}function xy(t,i){if(ec())return null;_y(t,i,!0)}function AS(){NS(function(){(Xe&6)!==0?ot(en,TS):Py()})}function $f(){return Or===0&&(Or=uo()),Or}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function Uy(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function SS(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var d=By((h[bt]||null).action),_=o.submitter;_&&(i=(i=_[bt]||null)?By(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new es("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var C=_?Uy(h,_):new FormData(h);vf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?Uy(h,_):new FormData(h),vf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Zf=0;Zf<Lh.length;Zf++){var ed=Lh[Zf],bS=ed.toLowerCase(),RS=ed[0].toUpperCase()+ed.slice(1);Fn(bS,"on"+RS)}Fn(_g,"onAnimationEnd"),Fn(Eg,"onAnimationIteration"),Fn(Tg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(GA,"onTransitionRun"),Fn(qA,"onTransitionStart"),Fn(JA,"onTransitionCancel"),Fn(Ag,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Hy(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(F){qu(F)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(F){qu(F)}h.currentTarget=null,d=C}}}}function Le(t,i){var s=i[mo];s===void 0&&(s=i[mo]=new Set);var o=t+"__bubble";s.has(o)||(Gy(i,t,2,!1),s.add(o))}function td(t,i,s){var o=0;i&&(o|=4),Gy(s,t,o,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[ic]){t[ic]=!0,go.forEach(function(s){s!=="selectionchange"&&(wS.has(s)||td(s,!1,t),td(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ic]||(i[ic]=!0,td("selectionchange",!1,i))}}function Gy(t,i,s,o){switch(fv(i)){case 2:var h=ZS;break;case 8:h=e0;break;default:h=pd}s=h.bind(null,i,s,t),h=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function id(t,i,s,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=bi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue e}T=T.parentNode}}o=o.return}ru(function(){var U=d,F=Nn(s),Q=[];e:{var H=Sg.get(t);if(H!==void 0){var G=es,Ae=t;switch(t){case"keypress":if(ai(s)===0)break e;case"keydown":case"keyup":G=ss;break;case"focusin":Ae="focus",G=is;break;case"focusout":Ae="blur",G=is;break;case"beforeblur":case"afterblur":G=is;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=du;break;case _g:case Eg:case Tg:G=as;break;case Ag:G=gu;break;case"scroll":case"scrollend":G=su;break;case"wheel":G=os;break;case"copy":case"cut":case"paste":G=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Co;break;case"toggle":case"beforetoggle":G=yu}var ye=(i&4)!==0,nt=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var k=U,B;k!==null;){var j=k;if(B=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||B===null||L===null||(j=fr(k,L),j!=null&&ye.push(al(k,j,B))),nt)break;k=k.return}0<ye.length&&(H=new G(H,Ae,null,s,F),Q.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&s!==Ii&&(Ae=s.relatedTarget||s.fromElement)&&(bi(Ae)||Ae[Dn]))break e;if((G||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ae=s.relatedTarget||s.toElement,G=U,Ae=Ae?bi(Ae):null,Ae!==null&&(nt=c(Ae),ye=Ae.tag,Ae!==nt||ye!==5&&ye!==27&&ye!==6)&&(Ae=null)):(G=null,Ae=U),G!==Ae)){if(ye=Vn,j="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Co,j="onPointerLeave",L="onPointerEnter",k="pointer"),nt=G==null?H:ei(G),B=Ae==null?H:ei(Ae),H=new ye(j,k+"leave",G,s,F),H.target=nt,H.relatedTarget=B,j=null,bi(F)===U&&(ye=new ye(L,k+"enter",Ae,s,F),ye.target=B,ye.relatedTarget=nt,j=ye),nt=j,G&&Ae)t:{for(ye=G,L=Ae,k=0,B=ye;B;B=Ns(B))k++;for(B=0,j=L;j;j=Ns(j))B++;for(;0<k-B;)ye=Ns(ye),k--;for(;0<B-k;)L=Ns(L),B--;for(;k--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Ns(ye),L=Ns(L)}ye=null}else ye=null;G!==null&&qy(Q,H,G,ye,!1),Ae!==null&&nt!==null&&qy(Q,nt,Ae,ye,!0)}}e:{if(H=U?ei(U):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var le=lg;else if(Nt(H))if(ug)le=BA;else{le=zA;var Ve=LA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Eo(U.elementType)&&(le=lg):le=xA;if(le&&(le=le(t,U))){Oi(Q,le,s,F);break e}Ve&&Ve(t,H,U),t==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&ua(H,"number",H.value)}switch(Ve=U?ei(U):window,t){case"focusin":(Nt(Ve)||Ve.contentEditable==="true")&&(ls=Ve,Oh=U,Do=null);break;case"focusout":Do=Oh=ls=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,yg(Q,s,F);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":yg(Q,s,F)}var fe;if(oi)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Be?q(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(v&&s.locale!=="ko"&&(Be||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Be&&(fe=Ao()):(ii=F,ca="value"in ii?ii.value:ii.textContent,Be=!0)),Ve=ac(U,_e),0<Ve.length&&(_e=new Ro(_e,t,null,s,F),Q.push({event:_e,listeners:Ve}),fe?_e.data=fe:(fe=ne(s),fe!==null&&(_e.data=fe)))),(fe=m?kt(t,s):Ue(t,s))&&(_e=ac(U,"onBeforeInput"),0<_e.length&&(Ve=new Ro("onBeforeInput","beforeinput",null,s,F),Q.push({event:Ve,listeners:_e}),Ve.data=fe)),SS(Q,t,U,s,F)}Hy(Q,i)})}function al(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ac(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fr(t,s),h!=null&&o.unshift(al(t,h,d)),h=fr(t,i),h!=null&&o.push(al(t,h,d))),t.tag===3)return o;t=t.return}return[]}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qy(t,i,s,o,h){for(var d=i._reactName,_=[];s!==null&&s!==o;){var T=s,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=fr(s,d),U!=null&&_.unshift(al(s,U,C))):h||(U=fr(s,d),U!=null&&_.push(al(s,U,C)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var CS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(CS,`
`).replace(IS,"")}function Ky(t,i){return i=Jy(i),Jy(t)===i}function rc(){}function tt(t,i,s,o,h,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||kn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&kn(t,""+o);break;case"className":ti(t,"class",o);break;case"tabIndex":ti(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,s,o);break;case"style":_o(t,o,d);break;case"data":if(i!=="object"){ti(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Zr(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Zr(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=rc);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Zr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),la(t,"popover",o);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wh.get(s)||s,la(t,s,o))}}function ad(t,i,s,o,h,d){switch(s){case"style":_o(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?kn(t,o):(typeof o=="number"||typeof o=="bigint")&&kn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[bt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):la(t,s,o)}}}function Wt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,s,null)}}h&&tt(t,i,"srcSet",s.srcSet,s,null),o&&tt(t,i,"src",s.src,s,null);return;case"input":Le("invalid",t);var T=d=_=h=null,C=null,U=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:tt(t,i,o,F,s,null)}}ur(t,d,T,C,U,_,h,!1),$r(t);return;case"select":Le("invalid",t),o=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:tt(t,i,h,T,s,null)}i=d,s=_,t.multiple=!!o,i!=null?Ci(t,!!o,i,!1):s!=null&&Ci(t,!!o,s,!0);return;case"textarea":Le("invalid",t),d=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,i,_,T,s,null)}cr(t,o,h,d),$r(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,C,o,s,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<il.length;o++)Le(il[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(o=s[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,U,o,s,null)}return;default:if(Eo(i)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ad(t,i,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&tt(t,i,T,o,s,null))}function MS(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,U=null,F=null;for(G in s){var Q=s[G];if(s.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(G)||tt(t,i,G,null,o,Q)}}for(var H in o){var G=o[H];if(Q=s[H],o.hasOwnProperty(H)&&(G!=null||Q!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":U=G;break;case"defaultChecked":F=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==Q&&tt(t,i,H,G,o,Q)}}Tn(t,_,T,C,U,F,d,h);return;case"select":G=_=T=H=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(d)||tt(t,i,d,null,o,C)}for(h in o)if(d=o[h],C=s[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&tt(t,i,h,d,o,C)}i=T,s=_,o=G,H!=null?Ci(t,!!s,H,!1):!!o!=!!s&&(i!=null?Ci(t,!!s,i,!0):Ci(t,!!s,s?[]:"",!1));return;case"textarea":G=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,o,h)}for(_ in o)if(h=o[_],d=s[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,o,d)}Ze(t,H,G);return;case"option":for(var Ae in s)if(H=s[Ae],s.hasOwnProperty(Ae)&&H!=null&&!o.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:tt(t,i,Ae,null,o,H)}for(C in o)if(H=o[C],G=s[C],o.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:tt(t,i,C,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)H=s[ye],s.hasOwnProperty(ye)&&H!=null&&!o.hasOwnProperty(ye)&&tt(t,i,ye,null,o,H);for(U in o)if(H=o[U],G=s[U],o.hasOwnProperty(U)&&H!==G&&(H!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:tt(t,i,U,H,o,G)}return;default:if(Eo(i)){for(var nt in s)H=s[nt],s.hasOwnProperty(nt)&&H!==void 0&&!o.hasOwnProperty(nt)&&ad(t,i,nt,void 0,o,H);for(F in o)H=o[F],G=s[F],!o.hasOwnProperty(F)||H===G||H===void 0&&G===void 0||ad(t,i,F,H,o,G);return}}for(var L in s)H=s[L],s.hasOwnProperty(L)&&H!=null&&!o.hasOwnProperty(L)&&tt(t,i,L,null,o,H);for(Q in o)H=o[Q],G=s[Q],!o.hasOwnProperty(Q)||H===G||H==null&&G==null||tt(t,i,Q,H,o,G)}var rd=null,sd=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function od(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function DS(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(t){return Qy.resolve(null).then(t).catch(OS)}:Yy;function OS(t){setTimeout(function(){throw t})}function wa(t){return t==="head"}function Wy(t,i){var s=i,o=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var _=t.ownerDocument;if(s&1&&rl(_.documentElement),s&2&&rl(_.body),s&4)for(s=_.head,rl(s),_=s.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[rr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),dl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);dl(i)}function ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),oa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function VS(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[rr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function PS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function LS(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var hd=null;function Xy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function $y(t,i,s){switch(i=sc(s),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);oa(t)}var Hn=new Map,Zy=new Set;function oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ie.d;ie.d={f:zS,r:xS,D:BS,C:US,L:HS,m:GS,X:JS,S:qS,M:KS};function zS(){var t=Fi.f(),i=$u();return t||i}function xS(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?_p(i):Fi.r(t)}var Os=typeof document>"u"?null:document;function ev(t,i,s){var o=Os;if(o&&typeof i=="string"&&i){var h=Rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zy.has(h)||(Zy.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Wt(i,"link",t),Et(i),o.head.appendChild(i)))}}function BS(t){Fi.D(t),ev("dns-prefetch",t,null)}function US(t,i){Fi.C(t,i),ev("preconnect",t,i)}function HS(t,i,s){Fi.L(t,i,s);var o=Os;if(o&&t&&i){var h='link[rel="preload"][as="'+Rt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Rt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Rt(s.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var d=h;switch(i){case"style":d=Vs(t);break;case"script":d=Ps(t)}Hn.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Hn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(sl(d))||i==="script"&&o.querySelector(ol(d))||(i=o.createElement("link"),Wt(i,"link",t),Et(i),o.head.appendChild(i)))}}function GS(t,i){Fi.m(t,i);var s=Os;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Rt(o)+'"][href="'+Rt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ps(t)}if(!Hn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Hn.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(d)))return}o=s.createElement("link"),Wt(o,"link",t),Et(o),s.head.appendChild(o)}}}function qS(t,i,s){Fi.S(t,i,s);var o=Os;if(o&&t){var h=cn(o).hoistableStyles,d=Vs(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(sl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Hn.get(d))&&fd(t,s);var C=_=o.createElement("link");Et(C),Wt(C,"link",t),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function JS(t,i){Fi.X(t,i);var s=Os;if(s&&t){var o=cn(s).hoistableScripts,h=Ps(t),d=o.get(h);d||(d=s.querySelector(ol(h)),d||(t=E({src:t,async:!0},i),(i=Hn.get(h))&&dd(t,i),d=s.createElement("script"),Et(d),Wt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function KS(t,i){Fi.M(t,i);var s=Os;if(s&&t){var o=cn(s).hoistableScripts,h=Ps(t),d=o.get(h);d||(d=s.querySelector(ol(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&dd(t,i),d=s.createElement("script"),Et(d),Wt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function tv(t,i,s,o){var h=(h=ve.current)?oc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Vs(s.href),s=cn(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Vs(s.href);var d=cn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(sl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),d||FS(h,t,s,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ps(s),s=cn(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vs(t){return'href="'+Rt(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Wt(i,"link",s),Et(i),t.head.appendChild(i))}function Ps(t){return'[src="'+Rt(t)+'"]'}function ol(t){return"script[async]"+t}function iv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Rt(s.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Wt(o,"style",h),lc(o,s.precedence,t),i.instance=o;case"stylesheet":h=Vs(s.href);var d=t.querySelector(sl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;o=nv(s),(h=Hn.get(h))&&fd(o,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Wt(d,"link",o),i.state.loading|=4,lc(d,s.precedence,t),i.instance=d;case"script":return d=Ps(s.src),(h=t.querySelector(ol(d)))?(i.instance=h,Et(h),h):(o=s,(h=Hn.get(d))&&(o=E({},s),dd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Wt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,lc(o,s.precedence,t));return i.instance}function lc(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uc=null;function av(t,i,s){if(uc===null){var o=new Map,h=uc=new Map;h.set(s,o)}else h=uc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[rr]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function rv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function jS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ll=null;function YS(){}function QS(t,i,s){if(ll===null)throw Error(r(475));var o=ll;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Vs(s.href),d=t.querySelector(sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=cc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,Et(d);return}d=t.ownerDocument||t,s=nv(s),(h=Hn.get(h))&&fd(s,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Wt(d,"link",s),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=cc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function WS(){if(ll===null)throw Error(r(475));var t=ll;return t.stylesheets&&t.count===0&&md(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&md(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function md(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,i.forEach(XS,t),hc=null,cc.call(t))}function XS(t,i){if(!(i.state.loading&4)){var s=hc.get(t);if(s)var o=s.get(null);else{s=new Map,hc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,h),s.set(_,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ul={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function $S(t,i,s,o,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ov(t,i,s,o,h,d,_,T,C,U,F,Q){return t=new $S(t,i,s,_,T,C,U,Q),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),t.current=d,d.stateNode=t,i=Yh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},$h(d),t}function lv(t){return t?(t=fs,t):fs}function uv(t,i,s,o,h,d){h=lv(h),o.context===null?o.context=h:o.pendingContext=h,o=da(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=ma(t,o,i),s!==null&&(In(s,t,i),Bo(s,t,i))}function cv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function gd(t,i){cv(t,i),(t=t.alternate)&&cv(t,i)}function hv(t){if(t.tag===13){var i=hs(t,67108864);i!==null&&In(i,t,67108864),gd(t,67108864)}}var fc=!0;function ZS(t,i,s,o){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,pd(t,i,s,o)}finally{ie.p=d,K.T=h}}function e0(t,i,s,o){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,pd(t,i,s,o)}finally{ie.p=d,K.T=h}}function pd(t,i,s,o){if(fc){var h=yd(o);if(h===null)id(t,i,o,dc,s),dv(t,o);else if(n0(h,t,i,s,o))o.stopPropagation();else if(dv(t,o),i&4&&-1<t0.indexOf(t)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-tn(_);T.entanglements[1]|=C,_&=~C}di(d),(Xe&6)===0&&(Wu=gt()+500,nl(0))}}break;case 13:T=hs(d,2),T!==null&&In(T,d,2),$u(),gd(d,2)}if(d=yd(o),d===null&&id(t,i,o,dc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else id(t,i,o,null,s)}}function yd(t){return t=Nn(t),vd(t)}var dc=null;function vd(t){if(dc=null,t=bi(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case en:return 2;case Fe:return 8;case Kt:case oo:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var _d=!1,Ca=null,Ia=null,Ma=null,cl=new Map,hl=new Map,Da=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(i.pointerId)}}function fl(t,i,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&hv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function n0(t,i,s,o,h){switch(i){case"focusin":return Ca=fl(Ca,t,i,s,o,h),!0;case"dragenter":return Ia=fl(Ia,t,i,s,o,h),!0;case"mouseover":return Ma=fl(Ma,t,i,s,o,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,t,i,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,t,i,s,o,h)),!0}return!1}function mv(t){var i=bi(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,$l(t.priority,function(){if(s.tag===13){var o=Cn();o=aa(o);var h=hs(s,o);h!==null&&In(h,s,o),gd(s,o)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=yd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ii=o,s.target.dispatchEvent(o),Ii=null}else return i=Zn(s),i!==null&&hv(i),t.blockedOn=s,!1;i.shift()}return!0}function gv(t,i,s){mc(t)&&s.delete(i)}function i0(){_d=!1,Ca!==null&&mc(Ca)&&(Ca=null),Ia!==null&&mc(Ia)&&(Ia=null),Ma!==null&&mc(Ma)&&(Ma=null),cl.forEach(gv),hl.forEach(gv)}function gc(t,i){t.blockedOn===i&&(t.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,i0)))}var pc=null;function pv(t){pc!==t&&(pc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var d=Zn(s);d!==null&&(t.splice(i,3),i-=3,vf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function dl(t){function i(C){return gc(C,t)}Ca!==null&&gc(Ca,t),Ia!==null&&gc(Ia,t),Ma!==null&&gc(Ma,t),cl.forEach(i),hl.forEach(i);for(var s=0;s<Da.length;s++){var o=Da[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Da.length&&(s=Da[0],s.blockedOn===null);)mv(s),s.blockedOn===null&&Da.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],_=h[bt]||null;if(typeof d=="function")_||pv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[bt]||null)T=_.formAction;else if(vd(h)!==null)continue}else T=_.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),pv(s)}}}function Ed(t){this._internalRoot=t}yc.prototype.render=Ed.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,o=Cn();uv(s,o,t,i,null,null)},yc.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;uv(t.current,2,null,t,null,null),$u(),i[Dn]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ra();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Da.length&&i!==0&&i<Da[s].priority;s++);Da.splice(s,0,t),s===0&&mv(t)}};var yv=e.version;if(yv!=="19.1.0")throw Error(r(527,yv,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var a0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ht=vc.inject(a0),We=vc}catch{}}return ml.createRoot=function(t,i){if(!l(t))throw Error(r(299));var s=!1,o="",h=Op,d=Vp,_=Pp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=ov(t,1,!1,null,null,s,o,h,d,_,T,null),t[Dn]=i.current,nd(t),new Ed(i)},ml.hydrateRoot=function(t,i,s){if(!l(t))throw Error(r(299));var o=!1,h="",d=Op,_=Vp,T=Pp,C=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=ov(t,1,!0,i,s??null,o,h,d,_,T,C,U),i.context=lv(null),s=i.current,o=Cn(),o=aa(o),h=da(o),h.callback=null,ma(s,h,o),s=o,i.current.lanes=s,Si(i,s),di(i),t[Dn]=i.current,nd(t),new yc(i)},ml.version="19.1.0",ml}var Rv;function d0(){if(Rv)return Ad.exports;Rv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ad.exports=f0(),Ad.exports}var m0=d0();const g0=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(a){const e=[];let n=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},p0=function(a){const e=[];let n=0,r=0;for(;n<a.length;){const l=a[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[n++],f=a[n++],g=a[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=a[n++],f=a[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],f=l+1<a.length,g=f?a[l+1]:0,p=l+2<a.length,y=p?a[l+2]:0,E=c>>2,R=(c&3)<<4|g>>4;let b=(g&15)<<2|y>>6,x=y&63;p||(x=64,f||(b=64)),r.push(n[E],n[R],n[b],n[x])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(iE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):p0(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=n[a.charAt(l++)],g=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const R=l<a.length?n[a.charAt(l)]:64;if(++l,c==null||g==null||y==null||R==null)throw new y0;const b=c<<2|g>>4;if(r.push(b),y!==64){const x=g<<4&240|y>>2;if(r.push(x),R!==64){const J=y<<6&192|R;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v0=function(a){const e=iE(a);return aE.encodeByteArray(e,!0)},Pc=function(a){return v0(a).replace(/\./g,"")},rE=function(a){try{return aE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=()=>_0().__FIREBASE_DEFAULTS__,T0=()=>{if(typeof process>"u"||typeof wv>"u")return;const a=wv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},A0=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&rE(a[1]);return e&&JSON.parse(e)},th=()=>{try{return g0()||E0()||T0()||A0()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},sE=a=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},S0=a=>{const e=sE(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oE=()=>{var a;return(a=th())===null||a===void 0?void 0:a.config},lE=a=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(a){return a.endsWith(".cloudworkstations.dev")}async function uE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}const Tl={};function w0(){const a={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?a.emulator.push(e):a.prod.push(e);return a}function C0(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let Cv=!1;function cE(a,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||Tl[a]===e||Tl[a]||Cv)return;Tl[a]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=w0().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Cv=!0,f()},b}function E(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function R(){const b=C0(r),x=n("text"),J=document.getElementById(x)||document.createElement("span"),ee=n("learnmore"),$=document.getElementById(ee)||document.createElement("a"),ue=n("preprendIcon"),re=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const oe=b.element;g(oe),E($,ee);const Se=y();p(re,ue),oe.append(re,J,$,Se),document.body.appendChild(oe)}c?(J.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function M0(){var a;const e=(a=th())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k0(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function N0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O0(){const a=ln();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function V0(){return!M0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P0(){try{return typeof indexedDB=="object"}catch{return!1}}function L0(){return new Promise((a,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="FirebaseError";class na extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z0,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?x0(c,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new na(l,g,r)}}function x0(a,e){return a.replace(B0,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const B0=/\{\$([^}]+)}/g;function U0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Lr(a,e){if(a===e)return!0;const n=Object.keys(a),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=a[l],f=e[l];if(Iv(c)&&Iv(f)){if(!Lr(c,f))return!1}else if(c!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Iv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(a){const e=[];for(const[n,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gl(a){const e={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function pl(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function H0(a,e){const n=new G0(a,e);return n.subscribe.bind(n)}class G0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q0(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q0(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a){return a&&a._delegate?a._delegate:a}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F0(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&f.resolve(l)}return l}onInit(e,n){var r;const l=this.normalizeInstanceIdentifier(n),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K0(a){return a===Vr?void 0:a}function F0(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const Y0={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Q0=ze.INFO,W0={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},X0=(a,e,...n)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=W0[e];if(l)console[l](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=Q0,this._logHandler=X0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const $0=(a,e)=>e.some(n=>a instanceof n);let Mv,Dv;function Z0(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,xd=new WeakMap,fE=new WeakMap,Cd=new WeakMap,fm=new WeakMap;function tb(a){const e=new Promise((n,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{n(Ba(a.result)),l()},f=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&hE.set(n,a)}).catch(()=>{}),fm.set(e,a),e}function nb(a){if(xd.has(a))return;const e=new Promise((n,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});xd.set(a,e)}let Bd={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return xd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||fE.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function ib(a){Bd=a(Bd)}function ab(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=a.call(Id(this),e,...n);return fE.set(r,e.sort?e.sort():[e]),Ba(r)}:eb().includes(a)?function(...e){return a.apply(Id(this),e),Ba(hE.get(this))}:function(...e){return Ba(a.apply(Id(this),e))}}function rb(a){return typeof a=="function"?ab(a):(a instanceof IDBTransaction&&nb(a),$0(a,Z0())?new Proxy(a,Bd):a)}function Ba(a){if(a instanceof IDBRequest)return tb(a);if(Cd.has(a))return Cd.get(a);const e=rb(a);return e!==a&&(Cd.set(a,e),fm.set(e,a)),e}const Id=a=>fm.get(a);function sb(a,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const f=indexedDB.open(a,e),g=Ba(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ba(f.result),p.oldVersion,p.newVersion,Ba(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const ob=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Md=new Map;function kv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=lb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ob.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Md.set(e,c),c}ib(a=>({...a,get:(e,n,r)=>kv(e,n)||a.get(e,n,r),has:(e,n)=>!!kv(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cb(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",Nv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new hm("@firebase/app"),hb="@firebase/app-compat",fb="@firebase/analytics-compat",db="@firebase/analytics",mb="@firebase/app-check-compat",gb="@firebase/app-check",pb="@firebase/auth",yb="@firebase/auth-compat",vb="@firebase/database",_b="@firebase/data-connect",Eb="@firebase/database-compat",Tb="@firebase/functions",Ab="@firebase/functions-compat",Sb="@firebase/installations",bb="@firebase/installations-compat",Rb="@firebase/messaging",wb="@firebase/messaging-compat",Cb="@firebase/performance",Ib="@firebase/performance-compat",Mb="@firebase/remote-config",Db="@firebase/remote-config-compat",kb="@firebase/storage",Nb="@firebase/storage-compat",Ob="@firebase/firestore",Vb="@firebase/ai",Pb="@firebase/firestore-compat",Lb="firebase",zb="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",xb={[Ud]:"fire-core",[hb]:"fire-core-compat",[db]:"fire-analytics",[fb]:"fire-analytics-compat",[gb]:"fire-app-check",[mb]:"fire-app-check-compat",[pb]:"fire-auth",[yb]:"fire-auth-compat",[vb]:"fire-rtdb",[_b]:"fire-data-connect",[Eb]:"fire-rtdb-compat",[Tb]:"fire-fn",[Ab]:"fire-fn-compat",[Sb]:"fire-iid",[bb]:"fire-iid-compat",[Rb]:"fire-fcm",[wb]:"fire-fcm-compat",[Cb]:"fire-perf",[Ib]:"fire-perf-compat",[Mb]:"fire-rc",[Db]:"fire-rc-compat",[kb]:"fire-gcs",[Nb]:"fire-gcs-compat",[Ob]:"fire-fst",[Pb]:"fire-fst-compat",[Vb]:"fire-vertex","fire-js":"fire-js",[Lb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,Bb=new Map,Gd=new Map;function Ov(a,e){try{a.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Ks(a){const e=a.name;if(Gd.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,a);for(const n of Lc.values())Ov(n,a);for(const n of Bb.values())Ov(n,a);return!0}function dm(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Gn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new xl("app","Firebase",Ub);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=zb;function dE(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hd,automaticDataCollectionEnabled:!0},e),l=r.name;if(typeof l!="string"||!l)throw Ua.create("bad-app-name",{appName:String(l)});if(n||(n=oE()),!n)throw Ua.create("no-options");const c=Lc.get(l);if(c){if(Lr(n,c.options)&&Lr(r,c.config))return c;throw Ua.create("duplicate-app",{appName:l})}const f=new j0(l);for(const p of Gd.values())f.addComponent(p);const g=new Hb(n,r,f);return Lc.set(l,g),g}function mE(a=Hd){const e=Lc.get(a);if(!e&&a===Hd&&oE())return dE();if(!e)throw Ua.create("no-app",{appName:a});return e}function Ha(a,e,n){var r;let l=(r=xb[a])!==null&&r!==void 0?r:a;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(g.join(" "));return}Ks(new zr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebase-heartbeat-database",qb=1,Cl="firebase-heartbeat-store";let Dd=null;function gE(){return Dd||(Dd=sb(Gb,qb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(a=>{throw Ua.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function Jb(a){try{const n=(await gE()).transaction(Cl),r=await n.objectStore(Cl).get(pE(a));return await n.done,r}catch(e){if(e instanceof na)Xi.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function Vv(a,e){try{const r=(await gE()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,pE(a)),await r.done}catch(n){if(n instanceof na)Xi.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function pE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1024,Fb=30;class jb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Pv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Fb){const f=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:r,unsentEntries:l}=Yb(this._heartbeatsCache.heartbeats),c=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Xi.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function Yb(a,e=Kb){const n=[];let r=a.slice();for(const l of a){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),Lv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P0()?L0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Lv(a){return Pc(JSON.stringify({version:2,heartbeats:a})).length}function Wb(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(a){Ks(new zr("platform-logger",e=>new ub(e),"PRIVATE")),Ks(new zr("heartbeat",e=>new jb(e),"PRIVATE")),Ha(Ud,Nv,a),Ha(Ud,Nv,"esm2017"),Ha("fire-js","")}Xb("");var $b="firebase",Zb="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha($b,Zb,"app");function mm(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(a);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(a,r[l])&&(n[r[l]]=a[r[l]]);return n}function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eR=yE,vE=new xl("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new hm("@firebase/auth");function tR(a,...e){zc.logLevel<=ze.WARN&&zc.warn(`Auth (${eo}): ${a}`,...e)}function Rc(a,...e){zc.logLevel<=ze.ERROR&&zc.error(`Auth (${eo}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(a,...e){throw gm(a,...e)}function gi(a,...e){return gm(a,...e)}function _E(a,e,n){const r=Object.assign(Object.assign({},eR()),{[e]:n});return new xl("auth","Firebase",r).create(e,{appName:a.name})}function Qi(a){return _E(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(a,...e){if(typeof a!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(n,...r)}return vE.create(a,...e)}function Ee(a,e,...n){if(!a)throw gm(e,...n)}function ji(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Rc(e),new Error(e)}function $i(a,e){a||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function nR(){return zv()==="http:"||zv()==="https:"}function zv(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||k0()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=I0()||N0()}get(){return iR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(a,e){$i(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oR=new Ul(3e4,6e4);function Wa(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}async function Xa(a,e,n,r,l={}){return TE(a,l,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const g=Bl(Object.assign({key:a.config.apiKey},f)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y=Object.assign({method:e,headers:p},c);return D0()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Zs(a.emulatorConfig.host)&&(y.credentials="include"),EE.fetch()(await AE(a,a.config.apiHost,n,g),y)})}async function TE(a,e,n){a._canInitEmulator=!1;const r=Object.assign(Object.assign({},rR),e);try{const l=new uR(a),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw _c(a,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw _c(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw _c(a,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _E(a,E,y);Wn(a,E)}}catch(l){if(l instanceof na)throw l;Wn(a,"network-request-failed",{message:String(l)})}}async function Hl(a,e,n,r,l={}){const c=await Xa(a,e,n,r,l);return"mfaPendingCredential"in c&&Wn(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function AE(a,e,n,r){const l=`${e}${n}?${r}`,c=a,f=c.config.emulator?pm(a.config,l):`${a.config.apiScheme}://${l}`;return sR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function lR(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),oR.get())})}}function _c(a,e,n){const r={appName:a.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=gi(a,e,r);return l.customData._tokenResponse=n,l}function xv(a){return a!==void 0&&a.enterprise!==void 0}class cR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hR(a,e){return Xa(a,"GET","/v2/recaptchaConfig",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(a,e){return Xa(a,"POST","/v1/accounts:delete",e)}async function xc(a,e){return Xa(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dR(a,e=!1){const n=qt(a),r=await n.getIdToken(e),l=ym(r);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Al(kd(l.auth_time)),issuedAtTime:Al(kd(l.iat)),expirationTime:Al(kd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function kd(a){return Number(a)*1e3}function ym(a){const[e,n,r]=a.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(n);return l?JSON.parse(l):(Rc("Failed to decode base64 JWT payload"),null)}catch(l){return Rc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Bv(a){const e=ym(a);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(a,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof na&&mR(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function mR({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(a){var e;const n=a.auth,r=await a.getIdToken(),l=await Il(a,xc(n,{idToken:r}));Ee(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?SE(c.providerUserInfo):[],g=yR(a.providerData,f),p=a.isAnonymous,y=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?y:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Jd(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(a,R)}async function pR(a){const e=qt(a);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yR(a,e){return[...a.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function SE(a){return a.map(e=>{var{providerId:n}=e,r=mm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(a,e){const n=await TE(a,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,f=await AE(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return a.emulatorConfig&&Zs(a.emulatorConfig.host)&&(p.credentials="include"),EE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _R(a,e){return Xa(a,"POST","/v2/accounts:revokeToken",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await vR(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,f=new Hs;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(a,e){Ee(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:r,stsTokenManager:l}=e,c=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Jd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dR(this,e)}reload(){return pR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Il(this,fR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,l,c,f,g,p,y,E;const R=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(l=n.email)!==null&&l!==void 0?l:void 0,x=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,J=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ee=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:Se,isAnonymous:de,providerData:be,stsTokenManager:V}=n;Ee(oe&&V,e,"internal-error");const S=Hs.fromJSON(this.name,V);Ee(typeof oe=="string",e,"internal-error"),Na(R,e.name),Na(b,e.name),Ee(typeof Se=="boolean",e,"internal-error"),Ee(typeof de=="boolean",e,"internal-error"),Na(x,e.name),Na(J,e.name),Na(ee,e.name),Na($,e.name),Na(ue,e.name),Na(re,e.name);const I=new Qn({uid:oe,auth:e,email:b,emailVerified:Se,displayName:R,isAnonymous:de,photoURL:J,phoneNumber:x,tenantId:ee,stsTokenManager:S,createdAt:ue,lastLoginAt:re});return be&&Array.isArray(be)&&(I.providerData=be.map(D=>Object.assign({},D))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(e,n,r=!1){const l=new Hs;l.updateFromServerResponse(n);const c=new Qn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Bc(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?SE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Hs;g.updateFromIdToken(r);const p=new Qn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function Yi(a){$i(a instanceof Function,"Expected a class definition");let e=Uv.get(a);return e?($i(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Uv.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bE.type="NONE";const Hv=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(a,e,n){return`firebase:${a}:${e}:${n}`}class Gs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xc(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gs(Yi(Hv),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Yi(Hv);const f=wc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const E=await y._get(f);if(E){let R;if(typeof E=="string"){const b=await xc(e,{idToken:E}).catch(()=>{});if(!b)break;R=await Qn._fromGetAccountInfoResponse(e,b,E)}else R=Qn._fromJSON(e,E);y!==c&&(g=R),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Gs(c,e,r):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Gs(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DE(e))return"Blackberry";if(kE(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||CE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RE(a=ln()){return/firefox\//i.test(a)}function wE(a=ln()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CE(a=ln()){return/crios\//i.test(a)}function IE(a=ln()){return/iemobile/i.test(a)}function ME(a=ln()){return/android/i.test(a)}function DE(a=ln()){return/blackberry/i.test(a)}function kE(a=ln()){return/webos/i.test(a)}function vm(a=ln()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function ER(a=ln()){var e;return vm(a)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TR(){return O0()&&document.documentMode===10}function NE(a=ln()){return vm(a)||ME(a)||kE(a)||DE(a)||/windows phone/i.test(a)||IE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(a,e=[]){let n;switch(a){case"Browser":n=Gv(ln());break;case"Worker":n=`${Gv(ln())}-${a}`;break;default:n=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(a,e={}){return Xa(a,"GET","/v2/passwordPolicy",Wa(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=6;class RR{constructor(e){var n,r,l,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:bR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new AR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xc(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Qi(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SR(this),n=new RR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _R(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gr(a){return qt(a)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=H0(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CR(a){nh=a}function VE(a){return nh.loadJS(a)}function IR(){return nh.recaptchaEnterpriseScript}function MR(){return nh.gapiScript}function DR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new NR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OR="recaptcha-enterprise",PE="NO_RECAPTCHA";class VR{constructor(e){this.type=OR,this.auth=Gr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{hR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new cR(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(PE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(g=>{if(!n&&xv(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=IR();p.length!==0&&(p+=g),VE(p).then(()=>{l(g,c,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Jv(a,e,n,r=!1,l=!1){const c=new VR(a);let f;if(l)f=PE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Kd(a,e,n,r,l){var c;if(!((c=a._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Jv(a,e,n,n==="getOobCode");return r(a,f)}else return r(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Jv(a,e,n,n==="getOobCode");return r(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(a,e){const n=dm(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Lr(c,e??{}))return l;Wn(l,"already-initialized")}return n.initialize({options:e})}function LR(a,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zR(a,e,n){const r=Gr(a);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=LE(e),{host:f,port:g}=xR(e),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Lr(y,r.config.emulator)&&Lr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Zs(f)?(uE(`${c}//${f}${p}`),cE("Auth",!0)):BR()}function LE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function xR(a){const e=LE(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Kv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Kv(f)}}}function Kv(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function BR(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function UR(a,e){return Xa(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(a,e){return Hl(a,"POST","/v1/accounts:signInWithPassword",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(a,e){return Hl(a,"POST","/v1/accounts:signInWithEmailLink",Wa(a,e))}async function qR(a,e){return Hl(a,"POST","/v1/accounts:signInWithEmailLink",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends _m{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,n,"signInWithPassword",HR);case"emailLink":return GR(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,r,"signUpPassword",UR);case"emailLink":return qR(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(a,e){return Hl(a,"POST","/v1/accounts:signInWithIdp",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="http://localhost";class xr extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=n,c=mm(n,["providerId","signInMethod"]);if(!r||!l)return null;const f=new xr(r,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:JR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FR(a){const e=gl(pl(a)).link,n=e?gl(pl(e)).deep_link_id:null,r=gl(pl(a)).deep_link_id;return(r?gl(pl(r)).link:null)||r||n||e||a}class Em{constructor(e){var n,r,l,c,f,g;const p=gl(pl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(r=p.oobCode)!==null&&r!==void 0?r:null,R=KR((l=p.mode)!==null&&l!==void 0?l:null);Ee(y&&E&&R,"argument-error"),this.apiKey=y,this.operation=R,this.code=E,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=FR(e);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Em.parseLink(n);return Ee(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Gl{constructor(){super("facebook.com")}static credential(e){return xr._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xr._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Va.credential(n,r)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Gl{constructor(){super("github.com")}static credential(e){return xr._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Gl{constructor(){super("twitter.com")}static credential(e,n){return xr._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return La.credential(n,r)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(a,e){return Hl(a,"POST","/v1/accounts:signUp",Wa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Qn._fromIdTokenResponse(e,r,l),f=Fv(r);return new Br({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=Fv(r);return new Br({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function Fv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends na{constructor(e,n,r,l){var c;super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Uc(e,n,r,l)}}function xE(a,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(a,c,e,r):c})}async function YR(a,e,n=!1){const r=await Il(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return Br._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(a,e,n=!1){const{auth:r}=a;if(Gn(r.app))return Promise.reject(Qi(r));const l="reauthenticate";try{const c=await Il(a,xE(r,l,e,a),n);Ee(c.idToken,r,"internal-error");const f=ym(c.idToken);Ee(f,r,"internal-error");const{sub:g}=f;return Ee(a.uid===g,r,"user-mismatch"),Br._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BE(a,e,n=!1){if(Gn(a.app))return Promise.reject(Qi(a));const r="signIn",l=await xE(a,r,e),c=await Br._fromIdTokenResponse(a,r,l);return n||await a._updateCurrentUser(c.user),c}async function WR(a,e){return BE(Gr(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(a){const e=Gr(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XR(a,e,n){if(Gn(a.app))return Promise.reject(Qi(a));const r=Gr(a),f=await Kd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&UE(a),p}),g=await Br._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function $R(a,e,n){return Gn(a.app)?Promise.reject(Qi(a)):WR(qt(a),to.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UE(a),r})}function ZR(a,e,n,r){return qt(a).onIdTokenChanged(e,n,r)}function ew(a,e,n){return qt(a).beforeAuthStateChanged(e,n)}function tw(a,e,n,r){return qt(a).onAuthStateChanged(e,n,r)}function nw(a){return qt(a).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=1e3,aw=10;class GE extends HE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);TR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,aw):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GE.type="LOCAL";const rw=GE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends HE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qE.type="SESSION";const JE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await sw(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(a="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=Tm("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(R){const b=R;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(b.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function lw(a){pi().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function uw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cw(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function hw(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",fw=1,Gc="firebaseLocalStorage",jE="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(a,e){return a.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function dw(){const a=indexedDB.deleteDatabase(FE);return new ql(a).toPromise()}function Fd(){const a=indexedDB.open(FE,fw);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Gc,{keyPath:jE})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Gc)?e(r):(r.close(),await dw(),e(await Fd()))})})}async function jv(a,e,n){const r=ah(a,!0).put({[jE]:e,value:n});return new ql(r).toPromise()}async function mw(a,e){const n=ah(a,!1).get(e),r=await new ql(n).toPromise();return r===void 0?null:r.value}function Yv(a,e){const n=ah(a,!0).delete(e);return new ql(n).toPromise()}const gw=800,pw=3;class YE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(hw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uw(),!this.activeServiceWorker)return;this.sender=new ow(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fd();return await jv(e,Hc,"1"),await Yv(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mw(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new ql(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YE.type="LOCAL";const yw=YE;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(a,e){return e?Yi(e):(Ee(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _w(a){return BE(a.auth,new Am(a),a.bypassAuthState)}function Ew(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),QR(n,new Am(a),a.bypassAuthState)}async function Tw(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),YR(n,new Am(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return Tw;case"reauthViaPopup":case"reauthViaRedirect":return Ew;default:Wn(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Ul(2e3,1e4);class Us extends QE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aw.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="pendingRedirect",Cc=new Map;class bw extends QE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(a,e){const n=Iw(e),r=Cw(a);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function ww(a,e){Cc.set(a._key(),e)}function Cw(a){return Yi(a._redirectPersistence)}function Iw(a){return wc(Sw,a.config.apiKey,a.name)}async function Mw(a,e,n=!1){if(Gn(a.app))return Promise.reject(Qi(a));const r=Gr(a),l=vw(r,e),f=await new bw(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=10*60*1e3;class kw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WE(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}saveEventToCache(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}function Qv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function WE({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(a,e={}){return Xa(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pw=/^https?/;async function Lw(a){if(a.config.emulator)return;const{authorizedDomains:e}=await Ow(a);for(const n of e)try{if(zw(n))return}catch{}Wn(a,"unauthorized-domain")}function zw(a){const e=qd(),{protocol:n,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&r===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!Pw.test(n))return!1;if(Vw.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Ul(3e4,6e4);function Wv(){const a=pi().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function Bw(a){return new Promise((e,n)=>{var r,l,c;function f(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(gi(a,"network-request-failed"))},timeout:xw.get()})}if(!((l=(r=pi().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=pi().gapi)===null||c===void 0)&&c.load)f();else{const g=DR("iframefcb");return pi()[g]=()=>{gapi.load?f():n(gi(a,"network-request-failed"))},VE(`${MR()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function Uw(a){return Ic=Ic||Bw(a),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Ul(5e3,15e3),Gw="__/auth/iframe",qw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(a){const e=a.config;Ee(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?pm(e,qw):`https://${a.config.authDomain}/${Gw}`,r={apiKey:e.apiKey,appName:a.name,v:eo},l=Kw.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Bl(r).slice(1)}`}async function jw(a){const e=await Uw(a),n=pi().gapi;return Ee(n,a,"internal-error"),e.open({where:document.body,url:Fw(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const f=gi(a,"network-request-failed"),g=pi().setTimeout(()=>{c(f)},Hw.get());function p(){pi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Ww=600,Xw="_blank",$w="http://localhost";class Xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zw(a,e,n,r=Qw,l=Ww){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Yw),{width:r.toString(),height:l.toString(),top:c,left:f}),y=ln().toLowerCase();n&&(g=CE(y)?Xw:n),RE(y)&&(e=e||$w,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[x,J])=>`${b}${x}=${J},`,"");if(ER(y)&&g!=="_self")return eC(e||"",g),new Xv(null);const R=window.open(e||"",g,E);Ee(R,a,"popup-blocked");try{R.focus()}catch{}return new Xv(R)}function eC(a,e){const n=document.createElement("a");n.href=a,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__/auth/handler",nC="emulator/auth/handler",iC=encodeURIComponent("fac");async function $v(a,e,n,r,l,c){Ee(a.config.authDomain,a,"auth-domain-config-required"),Ee(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:r,v:eo,eventId:l};if(e instanceof zE){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",U0(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof Gl){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await a._getAppCheckToken(),y=p?`#${iC}=${encodeURIComponent(p)}`:"";return`${aC(a)}?${Bl(g).slice(1)}${y}`}function aC({config:a}){return a.emulator?pm(a,nC):`https://${a.authDomain}/${tC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class rC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=Mw,this._overrideRedirectResult=ww}async _openPopup(e,n,r,l){var c;$i((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await $v(e,n,r,qd(),l);return Zw(e,f,Tm())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await $v(e,n,r,qd(),l);return lw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jw(e),r=new kw(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nd,{type:Nd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Nd];f!==void 0&&n(!!f),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NE()||wE()||vm()}}const sC=rC;var Zv="@firebase/auth",e_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uC(a){Ks(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(a)},y=new wR(r,l,c,p);return LR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new zr("auth-internal",e=>{const n=Gr(e.getProvider("auth").getImmediate());return(r=>new oC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(Zv,e_,lC(a)),Ha(Zv,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=5*60,hC=lE("authIdTokenMaxAge")||cC;let t_=null;const fC=a=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hC)return;const l=n==null?void 0:n.token;t_!==l&&(t_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dC(a=mE()){const e=dm(a,"auth");if(e.isInitialized())return e.getImmediate();const n=PR(a,{popupRedirectResolver:sC,persistence:[yw,rw,JE]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=fC(c.toString());ew(n,f,()=>f(n.currentUser)),ZR(n,g=>f(g))}}const l=sE("auth");return l&&zR(n,`http://${l}`),n}function mC(){var a,e;return(e=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&e!==void 0?e:document}CR({loadJS(a){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=l=>{const c=gi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",mC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uC("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,XE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(D,O,P){for(var w=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)w[rt-2]=arguments[rt];return S.prototype[O].apply(D,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,I){I||(I=0);var D=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)D[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;16>O;++O)D[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],O=V.g[2];var P=V.g[3],w=S+(P^I&(O^P))+D[0]+3614090360&4294967295;S=I+(w<<7&4294967295|w>>>25),w=P+(O^S&(I^O))+D[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(I^P&(S^I))+D[2]+606105819&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(S^O&(P^S))+D[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(P^I&(O^P))+D[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=P+(O^S&(I^O))+D[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(I^P&(S^I))+D[6]+2821735955&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(S^O&(P^S))+D[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(P^I&(O^P))+D[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=P+(O^S&(I^O))+D[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(I^P&(S^I))+D[10]+4294925233&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(S^O&(P^S))+D[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(P^I&(O^P))+D[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=P+(O^S&(I^O))+D[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(I^P&(S^I))+D[14]+2792965006&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(S^O&(P^S))+D[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(O^P&(I^O))+D[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(S^I))+D[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(P^S))+D[11]+643717713&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^S&(O^P))+D[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(I^O))+D[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(S^I))+D[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(P^S))+D[15]+3634488961&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^S&(O^P))+D[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(I^O))+D[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(S^I))+D[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(P^S))+D[3]+4107603335&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^S&(O^P))+D[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(I^O))+D[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(S^I))+D[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(P^S))+D[7]+1735328473&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^S&(O^P))+D[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(I^O^P)+D[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=P+(S^I^O)+D[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^I)+D[11]+1839030562&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^S)+D[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^P)+D[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=P+(S^I^O)+D[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^I)+D[7]+4139469664&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^S)+D[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^P)+D[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=P+(S^I^O)+D[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^I)+D[3]+3572445317&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^S)+D[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^P)+D[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=P+(S^I^O)+D[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^I)+D[15]+530742520&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^S)+D[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(O^(I|~P))+D[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=P+(I^(S|~O))+D[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~I))+D[14]+2878612391&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~S))+D[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~P))+D[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=P+(I^(S|~O))+D[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~I))+D[10]+4293915773&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~S))+D[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~P))+D[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=P+(I^(S|~O))+D[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~I))+D[6]+2734768916&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~S))+D[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~P))+D[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=P+(I^(S|~O))+D[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~I))+D[2]+718787259&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~S))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,D=this.B,O=this.h,P=0;P<S;){if(O==0)for(;P<=I;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(D[O++]=V.charCodeAt(P++),O==this.blockSize){l(this,D),O=0;break}}else for(;P<S;)if(D[O++]=V[P++],O==this.blockSize){l(this,D),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var D=0;32>D;D+=8)V[I++]=this.g[S]>>>D&255;return V};function c(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function f(V,S){this.h=S;for(var I=[],D=!0,O=V.length-1;0<=O;O--){var P=V[O]|0;D&&P==S||(I[O]=P,D=!1)}this.g=I}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return $(y(-V));for(var S=[],I=1,D=0;V>=I;D++)S[D]=V/I|0,I*=4294967296;return new f(S,0)}function E(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return $(E(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(S,8)),D=R,O=0;O<V.length;O+=8){var P=Math.min(8,V.length-O),w=parseInt(V.substring(O,O+P),S);8>P?(P=y(Math.pow(S,P)),D=D.j(P).add(y(w))):(D=D.j(I),D=D.add(y(w)))}return D}var R=p(0),b=p(1),x=p(16777216);a=f.prototype,a.m=function(){if(ee(this))return-$(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var D=this.i(I);V+=(0<=D?D:4294967296+D)*S,S*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(J(this))return"0";if(ee(this))return"-"+$(this).toString(V);for(var S=y(Math.pow(V,6)),I=this,D="";;){var O=Se(I,S).g;I=ue(I,O.j(S));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=O,J(I))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function J(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function ee(V){return V.h==-1}a.l=function(V){return V=ue(this,V),ee(V)?-1:J(V)?0:1};function $(V){for(var S=V.g.length,I=[],D=0;D<S;D++)I[D]=~V.g[D];return new f(I,~V.h).add(b)}a.abs=function(){return ee(this)?$(this):this},a.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0,O=0;O<=S;O++){var P=D+(this.i(O)&65535)+(V.i(O)&65535),w=(P>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);D=w>>>16,P&=65535,w&=65535,I[O]=w<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ue(V,S){return V.add($(S))}a.j=function(V){if(J(this)||J(V))return R;if(ee(this))return ee(V)?$(this).j($(V)):$($(this).j(V));if(ee(V))return $(this.j($(V)));if(0>this.l(x)&&0>V.l(x))return y(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],D=0;D<2*S;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<V.g.length;O++){var P=this.i(D)>>>16,w=this.i(D)&65535,rt=V.i(O)>>>16,Qe=V.i(O)&65535;I[2*D+2*O]+=w*Qe,re(I,2*D+2*O),I[2*D+2*O+1]+=P*Qe,re(I,2*D+2*O+1),I[2*D+2*O+1]+=w*rt,re(I,2*D+2*O+1),I[2*D+2*O+2]+=P*rt,re(I,2*D+2*O+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new f(I,0)};function re(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function oe(V,S){this.g=V,this.h=S}function Se(V,S){if(J(S))throw Error("division by zero");if(J(V))return new oe(R,R);if(ee(V))return S=Se($(V),S),new oe($(S.g),$(S.h));if(ee(S))return S=Se(V,$(S)),new oe($(S.g),S.h);if(30<V.g.length){if(ee(V)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var I=b,D=S;0>=D.l(V);)I=de(I),D=de(D);var O=be(I,1),P=be(D,1);for(D=be(D,2),I=be(I,2);!J(D);){var w=P.add(D);0>=w.l(V)&&(O=O.add(I),P=w),D=be(D,1),I=be(I,1)}return S=ue(V,O.j(S)),new oe(O,S)}for(O=R;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=y(I),w=P.j(S);ee(w)||0<w.l(V);)I-=D,P=y(I),w=P.j(S);J(P)&&(P=b),O=O.add(P),V=ue(V,w)}return new oe(O,V)}a.A=function(V){return Se(this,V).h},a.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)&V.i(D);return new f(I,this.h&V.h)},a.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)|V.i(D);return new f(I,this.h|V.h)},a.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)^V.i(D);return new f(I,this.h^V.h)};function de(V){for(var S=V.g.length+1,I=[],D=0;D<S;D++)I[D]=V.i(D)<<1|V.i(D-1)>>>31;return new f(I,V.h)}function be(V,S){var I=S>>5;S%=32;for(var D=V.g.length-I,O=[],P=0;P<D;P++)O[P]=0<S?V.i(P+I)>>>S|V.i(P+I+1)<<32-S:V.i(P+I);return new f(O,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ga=f}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,yl,ZE,Mc,jd,eT,tT,nT;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break e;v=v[z]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,A=!1,z={next:function(){if(!A&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function R(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function b(u,m,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,b.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function J(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,z,q){for(var ne=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ne[Be-2]=arguments[Be];return m.prototype[z].apply(A,ne)}}function ee(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function $(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=u.length||0,q=A.length||0;u.length=z+q;for(let ne=0;ne<q;ne++)u[z+ne]=A[ne]}else u.push(A)}}class ue{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Se(u){return Se[" "](u),u}Se[" "]=function(){};var de=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function be(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function V(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let q=0;q<I.length;q++)v=I[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Oe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const A=Qe.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new ue(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ce=!1,Oe=new rt,M=()=>{const u=g.Promise.resolve(void 0);ie=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(v){P(v)}var m=Qe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ce=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Me(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(de){e:{try{Se(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}J(Me,Z);var ve={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function un(u,m,v,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=z,this.key=++Ke,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,m,v,A,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ne=ot(u,m,A,z);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new un(m,this.src,q,!!A,z),m.fa=v,u.push(m)),m};function it(u,m){var v=m.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(A,z,1),q&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,m,v,A){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return z}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Ie={};function ut(u,m,v,A,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ut(u,m[q],v,A,z);return null}return v=Kr(v),u&&u[mt]?u.K(m,v,y(A)?!!A.capture:!1,z):gt(u,m,v,!1,A,z)}function gt(u,m,v,A,z,q){if(!m)throw Error("Invalid event type");var ne=y(z)?!!z.capture:!!z,Be=Ti(u);if(Be||(u[lt]=Be=new Re(u)),v=Be.add(m,v,A,ne,q),v.proxy)return v;if(A=Jt(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)he||(z=ne),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Kt(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jt(){function u(v){return m.call(u.src,u.listener,v)}const m=oo;return u}function en(u,m,v,A,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)en(u,m[q],v,A,z);else A=y(A)?!!A.capture:!!A,v=Kr(v),u&&u[mt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=ot(q,v,A,z),-1<v&&(me(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ti(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,v,A,z)),(v=-1<u?m[u]:null)&&Fe(v))}function Fe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])it(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Kt(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ti(m))?(it(v,u),v.h==0&&(v.src=null,m[lt]=null)):me(u)}}}function Kt(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new Me(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Fe(u),u=v.call(A,m)}return u}function Ti(u){return u=u[lt],u instanceof Re?u:null}var ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(u){return typeof u=="function"?u:(u[ia]||(u[ia]=function(m){return u.handleEvent(m)}),u[ia])}function ht(){te.call(this),this.i=new Re(this),this.M=this,this.F=null}J(ht,te),ht.prototype[mt]=!0,ht.prototype.removeEventListener=function(u,m,v,A){en(this,u,m,v,A)};function We(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var z=m;m=new Z(A,u),D(m,z)}if(z=!0,v)for(var q=v.length-1;0<=q;q--){var ne=m.g=v[q];z=En(ne,A,!0,m)&&z}if(ne=m.g=u,z=En(ne,A,!0,m)&&z,z=En(ne,A,!1,m)&&z,v)for(q=0;q<v.length;q++)ne=m.g=v[q],z=En(ne,A,!1,m)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ht.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function En(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var ne=m[q];if(ne&&!ne.da&&ne.capture==v){var Be=ne.listener,kt=ne.ha||ne.src;ne.fa&&it(u.i,ne),z=Be.call(kt,A)!==!1&&z}}return z&&!A.defaultPrevented}function tn(u,m,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Xl(u){u.g=tn(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ah extends te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){te.call(this),this.h=u,this.g={}}J(tr,te);var nr=[];function ir(u){be(u.g,function(m,v){this.g.hasOwnProperty(v)&&Fe(m)},u),u.g={}}tr.prototype.N=function(){tr.aa.N.call(this),ir(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=g.JSON.stringify,Fr=g.JSON.parse,ar=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function lo(){}lo.prototype.h=null;function uo(u){return u.h||(u.h=u.i())}function co(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){Z.call(this,"d")}J(Si,Z);function ho(){Z.call(this,"c")}J(ho,Z);var $n={},fo=null;function aa(){return fo=fo||new ht}$n.La="serverreachability";function jr(u){Z.call(this,$n.La,u)}J(jr,Z);function ra(u){const m=aa();We(m,new jr(m))}$n.STAT_EVENT="statevent";function $l(u,m){Z.call(this,$n.STAT_EVENT,u),this.stat=m}J($l,Z);function ft(u){const m=aa();We(m,new $l(m,u))}$n.Ma="timingevent";function Dt(u,m){Z.call(this,$n.Ma,u),this.size=m}J(Dt,Z);function bt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function mo(u,m,v,A,z,q){u.info(function(){if(u.g)if(q)for(var ne="",Be=q.split("&"),kt=0;kt<Be.length;kt++){var Ue=Be[kt].split("=");if(1<Ue.length){var xt=Ue[0];Ue=Ue[1];var Nt=xt.split("_");ne=2<=Nt.length&&Nt[1]=="type"?ne+(xt+"="+Ue+"&"):ne+(xt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+v+`
`+ne})}function Sh(u,m,v,A,z,q,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+v+`
`+q+" "+ne})}function sa(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rr(u,v)+(A?" "+A:"")})}function Zl(u,m){u.info(function(){return"TIMEOUT: "+m})}Dn.prototype.info=function(){};function rr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<z.length;ne++)z[ne]=""}}}}return qn(v)}catch{return m}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function ei(){}J(ei,lo),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Zn=new ei;function cn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var go={},Yr={};function Jn(u,m,v){u.L=1,u.v=cr(Tn(m)),u.m=v,u.P=!0,Ri(u,null)}function Ri(u,m){u.F=Date.now(),sr(u),u.A=Tn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),To(v.i,"t",A),u.C=0,v=u.j.J,u.h=new Et,u.g=gu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ah(b(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(nr[0]=z.toString()),z=nr);for(var q=0;q<z.length;q++){var ne=ut(v,z[q],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ra(),mo(u.i,u.u,u.A,u.l,u.R,u.m)}cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Vn(u)==3?m.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=Vn(this.g);var m=this.g.Ba();const Oi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=Oi?ra(3):ra(2)),la(this);var v=this.g.Z();this.X=v;t:if(eu(this)){var A=ou(this.g);u="";var z=A.length,q=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),ti(this);var ne="";break t}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Sh(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,kt=this.g;if((Be=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Be)){var Ue=Be;break t}}Ue=null}if(v=Ue)sa(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,v);else{this.o=!1,this.s=3,ft(12),Ft(this),ti(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<ne.length;)if(jt=tu(this,ne),jt==Yr){Nt==4&&(this.s=4,ft(14),v=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==go){this.s=4,ft(15),sa(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else sa(this.i,this.l,jt,null),or(this,jt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ne.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)sa(this.i,this.l,ne,"[Invalid Chunked Response]"),Ft(this),ti(this);else if(0<ne.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),vr(xt),xt.M=!0,ft(11))}}else sa(this.i,this.l,ne,null),or(this,ne);Nt==4&&Ft(this),this.o&&!this.J&&(Nt==4?fu(this.j,this):(this.o=!1,sr(this)))}else Ih(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Ft(this),ti(this)}}}catch{}finally{}};function eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Yr:(v=Number(m.substring(v,A)),isNaN(v)?go:(A+=1,A+v>m.length?Yr:(m=m.slice(A,A+v),u.C=A+v,m)))}cn.prototype.cancel=function(){this.J=!0,Ft(this)};function sr(u){u.S=Date.now()+u.I,nu(u,u.I)}function nu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bt(b(u.ba,u),m)}function la(u){u.B&&(g.clearTimeout(u.B),u.B=null)}cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zl(this.i,this.A),this.L!=2&&(ra(),ft(17)),Ft(this),this.s=2,ti(this)):nu(this,this.S-u)};function ti(u){u.j.G==0||u.J||fu(u.j,u)}function Ft(u){la(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ir(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function or(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||po(v.h,u))){if(!u.K&&po(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ss(v),as(v);else break e;wo(v),ft(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=bt(b(v.Za,v),6e3));if(1>=Wr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ni(v,11)}else if((u.K||v.g==u)&&ss(v),!re(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Ue=z[m];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const xt=Ue[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const Nt=Ue[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Oi=Ue[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(A=1.5*Oi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const jt=u.g;if(jt){const li=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var q=A.h;q.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xr(q,q.h),q.h=null))}if(A.D){const Io=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(A.ya=Io,Ze(A.I,A.D,Io))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ne=u;if(A.qa=mu(A,A.J?A.ia:null,A.W),ne.K){hn(A.h,ne);var Be=ne,kt=A.L;kt&&(Be.I=kt),Be.B&&(la(Be),sr(Be)),A.g=ne}else cu(A);0<v.i.length&&rs(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Ni(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ni(v,7):bo(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}ra(4)}catch{}}var iu=class{constructor(u,m){this.g=u,this.map=m}};function wi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wr(u){return u.h?1:u.g?u.g.size:0}function po(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xr(u,m){u.g?u.g.add(m):u.h=m}function hn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wi.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return ee(u.i)}function bh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function $r(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function vo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=$r(u),A=bh(u),z=A.length,q=0;q<z;q++)m.call(void 0,A[q],v&&v[q],u)}var lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),z=null;if(0<=A){var q=u[v].substring(0,A);z=u[v].substring(A+1)}else q=u[v];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Rt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rt){this.h=u.h,ur(this,u.j),this.o=u.o,this.g=u.g,ua(this,u.s),this.l=u.l;var m=u.i,v=new Ii;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ci(this,v),this.m=u.m}else u&&(m=String(u).match(lr))?(this.h=!1,ur(this,m[1]||"",!0),this.o=kn(m[2]||""),this.g=kn(m[3]||"",!0),ua(this,m[4]),this.l=kn(m[5]||"",!0),Ci(this,m[6]||"",!0),this.m=kn(m[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Rt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(hr(m,_o,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,_o,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?wh:Eo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,Zr)),u.join("")};function Tn(u){return new Rt(u)}function ur(u,m,v){u.j=v?kn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ua(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ci(u,m,v){m instanceof Ii?(u.i=m,ru(u.i,u.h)):(v||(m=hr(m,Ch)),u.i=new Ii(m,u.h))}function Ze(u,m,v){u.i.set(m,v)}function cr(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,au),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,Eo=/[#\?:]/g,wh=/[#\?]/g,Ch=/[#\?@]/g,Zr=/#/g;function Ii(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Ii.prototype,a.add=function(u,m){Nn(this),this.i=null,u=ni(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Mi(u,m){Nn(u),m=ni(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Di(u,m){return Nn(u),m=ni(u,m),u.g.has(m)}a.forEach=function(u,m){Nn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(m,z,A,this)},this)},this)},a.na=function(){Nn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const z=u[A];for(let q=0;q<z.length;q++)v.push(m[A])}return v},a.V=function(u){Nn(this);let m=[];if(typeof u=="string")Di(this,u)&&(m=m.concat(this.g.get(ni(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return Nn(this),this.i=null,u=ni(this,u),Di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function To(u,m,v){Mi(u,m),0<v.length&&(u.i=null,u.g.set(ni(u,m),ee(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const q=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var z=q;ne[A]!==""&&(z+="="+encodeURIComponent(String(ne[A]))),u.push(z)}}return this.i=u.join("&")};function ni(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(Nn(u),u.i=null,u.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Mi(this,A),To(this,z,v))},u)),u.j=m}function fr(u,m){const v=new Dn;if(g.Image){const A=new Image;A.onload=x(On,v,"TestLoadImage: loaded",!0,m,A),A.onerror=x(On,v,"TestLoadImage: error",!1,m,A),A.onabort=x(On,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=x(On,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Kn(u,m){const v=new Dn,A=new AbortController,z=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function dr(){this.g=new ar}function ii(u,m,v){const A=v||"";try{vo(u,function(z,q){let ne=z;y(z)&&(ne=qn(z)),m.push(A+q+"="+encodeURIComponent(ne))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function ca(u){this.l=u.Ub||null,this.j=u.eb||!1}J(ca,lo),ca.prototype.g=function(){return new ki(this.l,this.j)},ca.prototype.i=function(u){return function(){return u}}({});function ki(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ki,ht),a=ki.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ri(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ai(this):ri(this),this.readyState==3&&Ao(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ai(this))},a.Qa=function(u){this.g&&(this.response=u,ai(this))},a.ga=function(){this.g&&ai(this)};function ai(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ri(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function So(u){let m="";return be(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function zt(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=So(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ze(u,m,v))}function je(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(je,ht);var es=/^https?$/i,mr=["POST","PUT"];a=je.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?uo(this.o):uo(Zn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){su(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(mr,m,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){su(this,q)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ts(u),si(u)}function ts(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),si(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),je.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ns(this):this.bb())},a.bb=function(){ns(this)};function ns(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)tn(u.Ea,0,u);else if(We(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=ne===0){var z=String(u.D).match(lr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!es.test(z?z.toLowerCase():"")}v=A}if(v)We(u,"complete"),We(u,"success");else{u.m=6;try{var q=2<Vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",ts(u)}}finally{si(u)}}}}function si(u,m){if(u.g){gr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||We(u,"ready");try{v.onreadystatechange=A}catch{}}}function gr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fr(m)}};function ou(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(u){const m={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(re(u[A]))continue;var v=O(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[z]||[];m[z]=q,q.push(v)}V(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function is(u){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,u),this.cb=pr("retryDelaySeedMs",1e4,u),this.Wa=pr("forwardChannelMaxRetries",2,u),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(u&&u.concurrentRequestLimit),this.Da=new dr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=is.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,A){ft(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),rs(this)};function bo(u){if(lu(u),u.G==3){var m=u.U++,v=Tn(u.I);if(Ze(v,"SID",u.K),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),yr(u,v),m=new cn(u,u.j,m),m.L=2,m.v=cr(Tn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),sr(m)}du(u)}function as(u){u.g&&(vr(u),u.g.cancel(),u.g=null)}function lu(u){as(u),u.u&&(g.clearTimeout(u.u),u.u=null),ss(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function rs(u){if(!Qr(u.h)&&!u.s){u.s=!0;var m=u.Ga;ie||M(),ce||(ie(),ce=!0),Oe.add(m,u),u.B=0}}function Mh(u,m){return Wr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bt(b(u.Ga,u,m),Co(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new cn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=uu(this,z,m),v=Tn(this.I),Ze(v,"RID",u),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),yr(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(So(q)))+"&"+m:this.m&&zt(v,this.m,q)),Xr(this.h,z),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",m),Ze(v,"SID","null"),z.T=!0,Jn(z,v,null)):Jn(z,v,m),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||Qr(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.U++;const A=Tn(u.I);Ze(A,"SID",u.K),Ze(A,"RID",v),Ze(A,"AID",u.T),yr(u,A),u.m&&u.o&&zt(A,u.m,u.o),v=new cn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=uu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xr(u.h,v),Jn(v,A,m)}function yr(u,m){u.H&&be(u.H,function(v,A){Ze(m,A,v)}),u.l&&vo({},function(v,A){Ze(m,A,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);var A=u.l?b(u.l.Na,u.l,u):null;e:{var z=u.i;let q=-1;for(;;){const ne=["count="+v];q==-1?0<v?(q=z[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Be=!0;for(let kt=0;kt<v;kt++){let Ue=z[kt].g;const xt=z[kt].map;if(Ue-=q,0>Ue)q=Math.max(0,z[kt].g-100),Be=!1;else try{ii(xt,ne,"req"+Ue+"_")}catch{A&&A(xt)}}if(Be){A=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,A}function cu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ie||M(),ce||(ie(),ce=!0),Oe.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bt(b(u.Fa,u),Co(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bt(b(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),as(this),hu(this))};function vr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function hu(u){u.g=new cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Tn(u.qa);Ze(m,"RID","rpc"),Ze(m,"SID",u.K),Ze(m,"AID",u.T),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(m,"TO",u.ja),Ze(m,"TYPE","xmlhttp"),yr(u,m),u.m&&u.o&&zt(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=cr(Tn(m)),v.m=null,v.P=!0,Ri(v,u)}a.Za=function(){this.C!=null&&(this.C=null,as(this),wo(this),ft(19))};function ss(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){ss(u),vr(u),u.g=null;var A=2}else if(po(u.h,m))v=m.D,hn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=aa(),We(A,new Dt(A,v)),rs(u)}else cu(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Mh(u,m)||A==2&&wo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Co(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=b(u.fb,u),A=u.Xa;const z=!A;A=new Rt(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ur(A,"https"),cr(A),z?fr(A.toString(),v):Kn(A.toString(),v)}else ft(2);u.G=0,u.l&&u.l.sa(m),du(u),lu(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function du(u){if(u.G=0,u.ka=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function mu(u,m,v){var A=v instanceof Rt?Tn(v):new Rt(v);if(A.g!="")m&&(A.g=m+"."+A.g),ua(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new Rt(null);A&&ur(q,A),m&&(q.g=m),z&&ua(q,z),v&&(q.l=v),A=q}return v=u.D,m=u.ya,v&&m&&Ze(A,v,m),Ze(A,"VER",u.la),yr(u,A),A}function gu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new je(new ca({eb:v})):new je(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}a=pu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function os(){}os.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){ht.call(this),this.g=new is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!re(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!re(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new oi(this)}J(fn,ht),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){bo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=qn(u),u=v);m.i.push(new iu(m.Ya++,u)),m.G==3&&rs(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,fn.aa.N.call(this)};function yu(u){Si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(yu,Si);function vu(){ho.call(this),this.status=1}J(vu,ho);function oi(u){this.g=u}J(oi,pu),oi.prototype.ua=function(){We(this.g,"a")},oi.prototype.ta=function(u){We(this.g,new yu(u))},oi.prototype.sa=function(u){We(this.g,new vu)},oi.prototype.ra=function(){We(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,nT=function(){return new os},tT=function(){return aa()},eT=$n,jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,Mc=oa,bi.COMPLETE="complete",ZE=bi,co.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ht.prototype.listen=ht.prototype.K,yl=co,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,$E=je}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",a_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new hm("@firebase/firestore");function Ls(){return Ur.logLevel}function se(a,...e){if(Ur.logLevel<=ze.DEBUG){const n=e.map(Sm);Ur.debug(`Firestore (${no}): ${a}`,...n)}}function Zi(a,...e){if(Ur.logLevel<=ze.ERROR){const n=e.map(Sm);Ur.error(`Firestore (${no}): ${a}`,...n)}}function Fs(a,...e){if(Ur.logLevel<=ze.WARN){const n=e.map(Sm);Ur.warn(`Firestore (${no}): ${a}`,...n)}}function Sm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iT(a,r,n)}function iT(a,e,n){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zi(r),new Error(r)}function Ye(a,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,a||iT(e,l,r)}function Ce(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class pC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yC{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new aT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class vC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _C{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=TC(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Ne(a,e){return a<e?-1:a>e?1:0}function Yd(a,e){let n=0;for(;n<a.length&&n<e.length;){const r=a.codePointAt(n),l=e.codePointAt(n);if(r!==l){if(r<128&&l<128)return Ne(r,l);{const c=rT(),f=AC(c.encode(s_(a,n)),c.encode(s_(e,n)));return f!==0?f:Ne(r,l)}}n+=r>65535?2:1}return Ne(a.length,e.length)}function s_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function AC(a,e){for(let n=0;n<a.length&&n<e.length;++n)if(a[n]!==e[n])return Ne(a[n],e[n]);return Ne(a.length,e.length)}function js(a,e,n){return a.length===e.length&&a.every((r,l)=>n(r,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,l_=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l_);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o_)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Pt(0,0))}static max(){return new we(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=mi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ne(e.length,n.length)}static compareSegments(e,n){const r=mi.isNumericId(e),l=mi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Yd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class ct extends mi{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends mi{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new $t([u_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(c(),l++)}if(c(),f)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ct.fromString(e))}static fromName(e){return new pe(ct.fromString(e).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function bC(a,e){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Ja(l,pe.empty(),e)}function RC(a){return new Ja(a.readTime,a.key,Dl)}class Ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ja(we.min(),pe.empty(),Dl)}static max(){return new Ja(we.max(),pe.empty(),Dl)}}function wC(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(a.documentKey,e.documentKey),n!==0?n:Ne(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==CC)throw a;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let l=0,c=0,f=!1;e.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>r(p))}),f=!0,c===l&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(l=>l?W.resolve(l):r());return n}static forEach(e,n){const r=[];return e.forEach((l,c)=>{r.push(n.call(this,l,c))}),this.waitFor(r)}static mapArray(e,n){return new W((r,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++g,g===c&&r(f)},E=>l(E))}})}static doWhile(e,n){return new W((r,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):r()};c()})}}function MC(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function sh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function DC(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="";function kC(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=c_(e)),e=NC(a.get(n),e);return c_(e)}function NC(a,e){let n=e;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":n+="";break;case oT:n+="";break;default:n+=c}}return n}function c_(a){return a+oT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function $a(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function lT(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=l??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Xt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Xt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Lt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uT("Invalid base64 string: "+c):c}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(a){if(Ye(!!a,39018),typeof a=="string"){let e=0;const n=OC.exec(a);if(Ye(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(a.seconds),nanos:St(a.nanos)}}function St(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Fa(a){return typeof a=="string"?Zt.fromBase64String(a):Zt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function Rm(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===cT}function oh(a){const e=a.mapValue.fields[fT];return Rm(e)?oh(e):e}function kl(a){const e=Ka(a.mapValue.fields[dT].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,l,c,f,g,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Jc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Jc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",PC="__max__",Ac={mapValue:{}},gT="__vector__",Kc="value";function ja(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rm(a)?4:zC(a)?9007199254740991:LC(a)?10:11:Te(28295,{value:a})}function Ei(a,e){if(a===e)return!0;const n=ja(a);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return kl(a).isEqual(kl(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Ka(l.timestampValue),g=Ka(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(l,c){return Fa(l.bytesValue).isEqual(Fa(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(l,c){return St(l.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(c.geoPointValue.longitude)}(a,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return St(l.integerValue)===St(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=St(l.doubleValue),g=St(c.doubleValue);return f===g?qc(f)===qc(g):isNaN(f)&&isNaN(g)}return!1}(a,e);case 9:return js(a.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(h_(f)!==h_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ei(f[p],g[p])))return!1;return!0}(a,e);default:return Te(52216,{left:a})}}function Ol(a,e){return(a.values||[]).find(n=>Ei(n,e))!==void 0}function Ys(a,e){if(a===e)return 0;const n=ja(a),r=ja(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(a.booleanValue,e.booleanValue);case 2:return function(c,f){const g=St(c.integerValue||c.doubleValue),p=St(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return d_(a.timestampValue,e.timestampValue);case 4:return d_(kl(a),kl(e));case 5:return Yd(a.stringValue,e.stringValue);case 6:return function(c,f){const g=Fa(c),p=Fa(f);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ne(g[y],p[y]);if(E!==0)return E}return Ne(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,f){const g=Ne(St(c.latitude),St(f.latitude));return g!==0?g:Ne(St(c.longitude),St(f.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return m_(a.arrayValue,e.arrayValue);case 10:return function(c,f){var g,p,y,E;const R=c.fields||{},b=f.fields||{},x=(g=R[Kc])===null||g===void 0?void 0:g.arrayValue,J=(p=b[Kc])===null||p===void 0?void 0:p.arrayValue,ee=Ne(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=J==null?void 0:J.values)===null||E===void 0?void 0:E.length)||0);return ee!==0?ee:m_(x,J)}(a.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ac.mapValue&&f===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const b=Yd(p[R],E[R]);if(b!==0)return b;const x=Ys(g[p[R]],y[E[R]]);if(x!==0)return x}return Ne(p.length,E.length)}(a.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function d_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ne(a,e);const n=Ka(a),r=Ka(e),l=Ne(n.seconds,r.seconds);return l!==0?l:Ne(n.nanos,r.nanos)}function m_(a,e){const n=a.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Ys(n[l],r[l]);if(c)return c}return Ne(n.length,r.length)}function Qs(a){return Qd(a)}function Qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const r=Ka(n);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return Fa(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return pe.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Qd(c);return r+"]"}(a.arrayValue):"mapValue"in a?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of r)c?c=!1:l+=",",l+=`${f}:${Qd(n.fields[f])}`;return l+"}"}(a.mapValue):Te(61005,{value:a})}function Dc(a){switch(ja(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(a);return e?16+Dc(e):16;case 5:return 2*a.stringValue.length;case 6:return Fa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+Dc(c),0)}(a.arrayValue);case 10:case 11:return function(r){let l=0;return $a(r.fields,(c,f)=>{l+=c.length+Dc(f)}),l}(a.mapValue);default:throw Te(13486,{value:a})}}function g_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Wd(a){return!!a&&"integerValue"in a}function wm(a){return!!a&&"arrayValue"in a}function p_(a){return!!a&&"nullValue"in a}function y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function kc(a){return!!a&&"mapValue"in a}function LC(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[mT])===null||n===void 0?void 0:n.stringValue)===gT}function Sl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return $a(a.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(a.arrayValue.values[n]);return e}return Object.assign({},a)}function zC(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===PC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=$t.emptyPath(),r={},l=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=Sl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){$a(n,(l,c)=>e[l]=c);for(const l of r)delete e[l]}clone(){return new _n(Sl(this.value))}}function pT(a){const e=[];return $a(a.fields,(n,r)=>{const l=new $t([n]);if(kc(r)){const c=pT(r.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,l,c,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,r,l){return new on(e,1,n,we.min(),r,l,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.position=e,this.inclusive=n}}function v_(a,e,n){let r=0;for(let l=0;l<a.position.length;l++){const c=e[l],f=a.position[l];if(c.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=Ys(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function __(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Ei(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function xC(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{}class Mt extends yT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UC(e,n,r):n==="array-contains"?new qC(e,r):n==="in"?new JC(e,r):n==="not-in"?new KC(e,r):n==="array-contains-any"?new FC(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HC(e,r):new GC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xn(e,n)}matches(e){return vT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function vT(a){return a.op==="and"}function _T(a){return BC(a)&&vT(a)}function BC(a){for(const e of a.filters)if(e instanceof Xn)return!1;return!0}function Xd(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+Qs(a.value);if(_T(a))return a.filters.map(e=>Xd(e)).join(",");{const e=a.filters.map(n=>Xd(n)).join(",");return`${a.op}(${e})`}}function ET(a,e){return a instanceof Mt?function(r,l){return l instanceof Mt&&r.op===l.op&&r.field.isEqual(l.field)&&Ei(r.value,l.value)}(a,e):a instanceof Xn?function(r,l){return l instanceof Xn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,f,g)=>c&&ET(f,l.filters[g]),!0):!1}(a,e):void Te(19439)}function TT(a){return a instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(a):a instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(a):"Filter"}class UC extends Mt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class HC extends Mt{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class qC extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wm(n)&&Ol(n.arrayValue,this.value)}}class JC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class KC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class FC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n=null,r=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function E_(a,e=null,n=[],r=[],l=null,c=null,f=null){return new jC(a,e,n,r,l,c,f)}function Cm(a){const e=Ce(a);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qs(r)).join(",")),e.Ie=n}return e.Ie}function Im(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!xC(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!ET(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!__(a.startAt,e.startAt)&&__(a.endAt,e.endAt)}function $d(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n=null,r=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YC(a,e,n,r,l,c,f,g){return new ro(a,e,n,r,l,c,f,g)}function Mm(a){return new ro(a)}function T_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ST(a){return a.collectionGroup!==null}function bl(a){const e=Ce(a);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Lt($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Vl(c,r))}),n.has($t.keyField().canonicalString())||e.Ee.push(new Vl($t.keyField(),r))}return e.Ee}function yi(a){const e=Ce(a);return e.de||(e.de=QC(e,bl(a))),e.de}function QC(a,e){if(a.limitType==="F")return E_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Vl(l.field,c)});const n=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return E_(a.path,a.collectionGroup,e,a.filters,a.limit,n,r)}}function Zd(a,e){const n=a.filters.concat([e]);return new ro(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function jc(a,e,n){return new ro(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function lh(a,e){return Im(yi(a),yi(e))&&a.limitType===e.limitType}function bT(a){return`${Cm(yi(a))}|lt:${a.limitType}`}function zs(a){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>TT(l)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>Qs(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>Qs(l)).join(",")),`Target(${r})`}(yi(a))}; limitType=${a.limitType})`}function uh(a,e){return e.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(a,e)&&function(r,l){for(const c of bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,e)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(a,e)&&function(r,l){return!(r.startAt&&!function(f,g,p){const y=v_(f,g,p);return f.inclusive?y<=0:y<0}(r.startAt,bl(r),l)||r.endAt&&!function(f,g,p){const y=v_(f,g,p);return f.inclusive?y>=0:y>0}(r.endAt,bl(r),l))}(a,e)}function WC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function RT(a){return(e,n)=>{let r=!1;for(const l of bl(a)){const c=XC(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function XC(a,e,n){const r=a.field.isKeyField()?pe.comparator(e.key,n.key):function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ys(p,y):Te(42886)}(a.field,e,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(n,r)=>{for(const[l,c]of r)e(l,c)})}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new yt(pe.comparator);function ea(){return $C}const wT=new yt(pe.comparator);function vl(...a){let e=wT;for(const n of a)e=e.insert(n.key,n);return e}function CT(a){let e=wT;return a.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pr(){return Rl()}function IT(){return Rl()}function Rl(){return new qr(a=>a.toString(),(a,e)=>a.isEqual(e))}const ZC=new yt(pe.comparator),e1=new Lt(pe.comparator);function xe(...a){let e=e1;for(const n of a)e=e.add(n);return e}const t1=new Lt(Ne);function n1(){return t1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function MT(a){return{integerValue:""+a}}function DT(a,e){return DC(e)?MT(e):Dm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function i1(a,e,n){return a instanceof Yc?function(l,c){const f={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rm(c)&&(c=oh(c)),c&&(f.fields[fT]=c),{mapValue:f}}(n,e):a instanceof Pl?NT(a,e):a instanceof Ll?OT(a,e):function(l,c){const f=kT(l,c),g=A_(f)+A_(l.Re);return Wd(f)&&Wd(l.Re)?MT(g):Dm(l.serializer,g)}(a,e)}function a1(a,e,n){return a instanceof Pl?NT(a,e):a instanceof Ll?OT(a,e):n}function kT(a,e){return a instanceof zl?function(r){return Wd(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class Yc extends ch{}class Pl extends ch{constructor(e){super(),this.elements=e}}function NT(a,e){const n=VT(e);for(const r of a.elements)n.some(l=>Ei(l,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends ch{constructor(e){super(),this.elements=e}}function OT(a,e){let n=VT(e);for(const r of a.elements)n=n.filter(l=>!Ei(l,r));return{arrayValue:{values:n}}}class zl extends ch{constructor(e,n){super(),this.serializer=e,this.Re=n}}function A_(a){return St(a.integerValue||a.doubleValue)}function VT(a){return wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.field=e,this.transform=n}}function s1(a,e){return a.field.isEqual(e.field)&&function(r,l){return r instanceof Pl&&l instanceof Pl||r instanceof Ll&&l instanceof Ll?js(r.elements,l.elements,Ei):r instanceof zl&&l instanceof zl?Ei(r.Re,l.Re):r instanceof Yc&&l instanceof Yc}(a.transform,e.transform)}class o1{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class hh{}function PT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zT(a.key,vi.none()):new Jl(a.key,a.data,vi.none());{const n=a.data,r=_n.empty();let l=new Lt($t.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),l=l.add(c)}return new Za(a.key,r,new Mn(l.toArray()),vi.none())}}function l1(a,e,n){a instanceof Jl?function(l,c,f){const g=l.value.clone(),p=b_(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(a,e,n):a instanceof Za?function(l,c,f){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=b_(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(LT(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(a,e,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function wl(a,e,n,r){return a instanceof Jl?function(c,f,g,p){if(!Nc(c.precondition,f))return g;const y=c.value.clone(),E=R_(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(a,e,n,r):a instanceof Za?function(c,f,g,p){if(!Nc(c.precondition,f))return g;const y=R_(c.fieldTransforms,p,f),E=f.data;return E.setAll(LT(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(a,e,n,r):function(c,f,g){return Nc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(a,e,n)}function u1(a,e){let n=null;for(const r of a.fieldTransforms){const l=e.data.field(r.field),c=kT(r.transform,l||null);c!=null&&(n===null&&(n=_n.empty()),n.set(r.field,c))}return n||null}function S_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&js(r,l,(c,f)=>s1(c,f))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Jl extends hh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Za extends hh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LT(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=a.data.field(n);e.set(n,r)}}),e}function b_(a,e,n){const r=new Map;Ye(a.length===n.length,32656,{Ve:n.length,me:a.length});for(let l=0;l<n.length;l++){const c=a[l],f=c.transform,g=e.data.field(c.field);r.set(c.field,a1(f,g,n[l]))}return r}function R_(a,e,n){const r=new Map;for(const l of a){const c=l.transform,f=n.data.field(l.field);r.set(l.field,i1(c,f,e))}return r}class zT extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c1 extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&l1(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IT();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=PT(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>S_(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>S_(n,r))}}class km{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let l=function(){return ZC}();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,r[f].version);return new km(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ge;function m1(a){switch(a){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:a})}}function xT(a){if(a===void 0)return Zi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:a})}}(Ge=It||(It={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Ga([4294967295,4294967295],0);function w_(a){const e=rT().encode(a),n=new XE;return n.update(e),new Uint8Array(n.digest())}function C_(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ga([n,r],0),new Ga([l,c],0)]}class Nm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ga.fromNumber(this.pe)}we(e,n,r){let l=e.add(n.multiply(Ga.fromNumber(r)));return l.compare(g1)===1&&(l=new Ga([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=w_(e),[r,l]=C_(n);for(let c=0;c<this.hashCount;c++){const f=this.we(r,l,c);if(!this.be(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Nm(c,l,n);return r.forEach(g=>f.insert(g)),f}insert(e){if(this.pe===0)return;const n=w_(e),[r,l]=C_(n);for(let c=0;c<this.hashCount;c++){const f=this.we(r,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fh(we.min(),l,new yt(Ne),ea(),xe())}}class Kl{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,l){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=l}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class UT{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class I_{constructor(){this.Fe=0,this.Me=M_(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xe(),n=xe(),r=xe();return this.Me.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}}),new Kl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=M_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class p1{constructor(e){this.ze=e,this.je=new Map,this.He=ea(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new yt(Ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,l)=>{this.it(l)&&n(l)})}ot(e){const n=e.targetId,r=e.Ce.count,l=this._t(n);if(l){const c=l.target;if($d(c))if(r===0){const f=new pe(c.path);this.tt(n,f,on.newNoDocument(f,we.min()))}else Ye(r===1,20013,{expectedCount:r});else{const f=this.ut(n);if(f!==r){const g=this.ct(e),p=g?this.lt(g,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Fa(r).toUint8Array()}catch(p){if(p instanceof uT)return Fs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Nm(f,l,c)}catch(p){return Fs(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let l=0;return r.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(e){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&$d(g.target)){const p=new pe(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,on.newNoDocument(p,e))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let r=xe();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.He.forEach((c,f)=>f.setReadTime(e));const l=new fh(e,n,this.Ze,this.He,r);return this.He=ea(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new yt(Ne),l}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const l=this.rt(e);this.dt(e,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new I_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Lt(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Lt(Ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new I_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new yt(pe.comparator)}function M_(){return new yt(pe.comparator)}const y1={asc:"ASCENDING",desc:"DESCENDING"},v1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_1={and:"AND",or:"OR"};class E1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(a,e){return a.useProto3Json||sh(e)?e:{value:e}}function Qc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function T1(a,e){return Qc(a,e.toTimestamp())}function _i(a){return Ye(!!a,49232),we.fromTimestamp(function(n){const r=Ka(n);return new Pt(r.seconds,r.nanos)}(a))}function Om(a,e){return tm(a,e).canonicalString()}function tm(a,e){const n=function(l){return new ct(["projects",l.projectId,"databases",l.database])}(a).child("documents");return e===void 0?n:n.child(e)}function GT(a){const e=ct.fromString(a);return Ye(jT(e),10190,{key:e.toString()}),e}function nm(a,e){return Om(a.databaseId,e.path)}function Od(a,e){const n=GT(e);if(n.get(1)!==a.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new pe(JT(n))}function qT(a,e){return Om(a.databaseId,e)}function A1(a){const e=GT(a);return e.length===4?ct.emptyPath():JT(e)}function im(a){return new ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function JT(a){return Ye(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function D_(a,e,n){return{name:nm(a,e),fields:n.value.mapValue.fields}}function S1(a,e){let n;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Zt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zt.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(y){const E=y.code===void 0?Y.UNKNOWN:xT(y.code);return new ae(E,y.message||"")}(f);n=new UT(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(a,r.document.name),c=_i(r.document.updateTime),f=r.document.createTime?_i(r.document.createTime):we.min(),g=new _n({mapValue:{fields:r.document.fields}}),p=on.newFoundDocument(l,c,f,g),y=r.targetIds||[],E=r.removedTargetIds||[];n=new Oc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Od(a,r.document),c=r.readTime?_i(r.readTime):we.min(),f=on.newNoDocument(l,c),g=r.removedTargetIds||[];n=new Oc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Od(a,r.document),c=r.removedTargetIds||[];n=new Oc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,f=new d1(l,c),g=r.targetId;n=new BT(g,f)}}return n}function b1(a,e){let n;if(e instanceof Jl)n={update:D_(a,e.key,e.value)};else if(e instanceof zT)n={delete:nm(a,e.key)};else if(e instanceof Za)n={update:D_(a,e.key,e.data),updateMask:O1(e.fieldMask)};else{if(!(e instanceof c1))return Te(16599,{ft:e.type});n={verify:nm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(c,f){const g=f.transform;if(g instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw Te(20930,{transform:f.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:T1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)}(a,e.precondition)),n}function R1(a,e){return a&&a.length>0?(Ye(e!==void 0,14353),a.map(n=>function(l,c){let f=l.updateTime?_i(l.updateTime):_i(c);return f.isEqual(we.min())&&(f=_i(c)),new o1(f,l.transformResults||[])}(n,e))):[]}function w1(a,e){return{documents:[qT(a,e.path)]}}function C1(a,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qT(a,l);const c=function(y){if(y.length!==0)return FT(Xn.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:xs(b.field),direction:D1(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=em(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:l}}function I1(a){let e=A1(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(R){const b=KT(R);return b instanceof Xn&&_T(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(b=>function(J){return new Vl(Bs(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(b))}(n.orderBy));let g=null;n.limit&&(g=function(R){let b;return b=typeof R=="object"?R.value:R,sh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(R){const b=!!R.before,x=R.values||[];return new Fc(x,b)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const b=!R.before,x=R.values||[];return new Fc(x,b)}(n.endAt)),YC(e,l,f,c,g,"F",p,y)}function M1(a,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bs(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Bs(n.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bs(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Bs(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(a):a.fieldFilter!==void 0?function(n){return Mt.create(Bs(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>KT(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(a):Te(30097,{filter:a})}function D1(a){return y1[a]}function k1(a){return v1[a]}function N1(a){return _1[a]}function xs(a){return{fieldPath:a.canonicalString()}}function Bs(a){return $t.fromServerFormat(a.fieldPath)}function FT(a){return a instanceof Mt?function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:k1(n.op),value:n.value}}}(a):a instanceof Xn?function(n){const r=n.getFilters().map(l=>FT(l));return r.length===1?r[0]:{compositeFilter:{op:N1(n.op),filters:r}}}(a):Te(54877,{filter:a})}function O1(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,l,c=we.min(),f=we.min(),g=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.wt=e}}function P1(a){const e=I1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.Cn=new z1}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ja.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class z1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Lt(ct.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(YT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ws(0)}static lr(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="LruGarbageCollector",x1=1048576;function O_([a,e],[n,r]){const l=Ne(a,n);return l===0?Ne(e,r):l}class B1{constructor(e){this.Er=e,this.buffer=new Lt(O_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U1{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){se(N_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?se(N_,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.mr(3e5)})}}class H1{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(rh.le);const r=new B1(n);return this.gr.forEachTarget(e,l=>r.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>r.Rr(l))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(k_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,l,c,f,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(r=R,g=Date.now(),this.removeTargets(e,r,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(y=Date.now(),Ls()<=ze.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function G1(a,e){return new H1(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.changes=new qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(r!==null&&wl(r.mutation,l,Mn.empty(),Pt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const l=Pr();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,r).next(c=>{let f=vl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const r=Pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const l=[];return r.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,r,l){let c=ea();const f=Rl(),g=function(){return Rl()}();return n.forEach((p,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Za)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),wl(E.mutation,y,E.mutation.getFieldMask(),Pt.now())):f.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var R;return g.set(y,new J1(E,(R=f.get(y))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,n){const r=Rl();let l=new yt((f,g)=>f-g),c=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||Mn.empty();E=g.applyToLocalView(y,E),r.set(p,E);const R=(l.get(g.batchId)||xe()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,R=IT();E.forEach(b=>{if(!c.has(b)){const x=PT(n.get(b),r.get(b));x!==null&&R.set(b,x),c=c.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return W.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,l){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(Pr());let g=Dl,p=c;return f.next(y=>W.forEach(y,(E,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,xe())).next(E=>({batchId:g,changes:CT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let l=vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let f=vl();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,p=>{const y=function(R,b){return new ro(b,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next(E=>{E.forEach((R,b)=>{f=f.insert(R,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l))).next(f=>{c.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))});let g=vl();return f.forEach((p,y)=>{const E=c.get(p);E!==void 0&&wl(E.mutation,y,Mn.empty(),Pt.now()),uh(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:_i(l.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(l){return{name:l.name,query:P1(l.bundledQuery),readTime:_i(l.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.overlays=new yt(pe.comparator),this.Qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pr();return W.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((l,c)=>{this.St(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Qr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=Pr(),c=n.length+1,f=new pe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new yt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Pr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Pr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=l)););return W.resolve(g)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(r.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new f1(n,r));let c=this.Qr.get(n);c===void 0&&(c=xe(),this.Qr.set(n,c)),this.Qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.$r=new Lt(Gt.Ur),this.Kr=new Lt(Gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Gt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new pe(new ct([])),r=new Gt(n,e),l=new Gt(n,e+1),c=[];return this.Kr.forEachInRange([r,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new ct([])),r=new Gt(n,e),l=new Gt(n,e+1);let c=xe();return this.Kr.forEachInRange([r,l],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Gt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Ne(e.Zr,n.Zr)}static Wr(e,n){return Ne(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Gt.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new h1(c,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Gt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ti(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?bm:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),l=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([r,l],f=>{const g=this.ei(f.Zr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ne);return n.forEach(l=>{const c=new Gt(l,0),f=new Gt(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{r=r.add(g.Zr)})}),W.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;pe.isDocumentKey(c)||(c=c.child(""));const f=new Gt(new pe(c),0);let g=new Lt(Ne);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Zr)),!0)},f),W.resolve(this.ni(g))}ni(e){const n=[];return e.forEach(r=>{const l=this.ei(r);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return W.forEach(n.mutations,l=>{const c=new Gt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Gt(n,0),l=this.Xr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.ii=e,this.docs=function(){return new yt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ea();const f=n.path,g=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||wC(RC(E),r)<=0||(l.has(E.key)||uh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Te(9500)}si(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X1(this)}getSize(e){return W.resolve(this.size)}}class X1 extends q1{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(e,l)):this.Br.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.persistence=e,this.oi=new qr(n=>Cm(n),Im),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new Vm,this.targetCount=0,this.ui=Ws.cr()}forEachTarget(e,n){return this.oi.forEach((r,l)=>n(l)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),W.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Tr(n),W.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),W.waitFor(c).next(()=>l)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.ci={},this.overlays={},this.li=new rh(0),this.hi=!1,this.hi=!0,this.Pi=new Y1,this.referenceDelegate=e(this),this.Ti=new $1(this),this.indexManager=new L1,this.remoteDocumentCache=function(l){return new W1(l)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new V1(n),this.Ei=new F1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Q1(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const l=new Z1(this.li.next());return this.referenceDelegate.di(),r(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(e,n){return W.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Z1 extends IC{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Vi=new Vm,this.mi=null}static fi(e){return new Pm(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,r=>{const l=pe.fromPath(r);return this.pi(e,l).next(c=>{c||n.removeEntry(l,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Wc{constructor(e,n){this.persistence=e,this.yi=new qr(r=>kC(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=G1(this,n)}static fi(e,n){return new Wc(e,n)}di(){}Ai(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(l=>r+l))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return W.forEach(this.yi,(r,l)=>this.Dr(e,r,l).next(c=>c?W.resolve():n(l)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(e,f=>this.Dr(e,f,n).next(g=>{g||(r++,c.removeEntry(f,we.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}Dr(e,n,r){return W.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.yi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.ds=r,this.As=l}static Rs(e,n){let r=xe(),l=xe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lm(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return V0()?8:MC(ln())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ws(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(e,n,l,r).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new eI;return this.Ss(e,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(e,n,f,g.size)})}).next(()=>c.result)}Ds(e,n,r,l){return r.documentReadCount<this.gs?(Ls()<=ze.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(Ls()<=ze.DEBUG&&se("QueryEngine","Query:",zs(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ps*l?(Ls()<=ze.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):W.resolve())}ws(e,n){if(T_(n))return W.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=jc(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const f=xe(...c);return this.ys.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.vs(n,g);return this.Cs(n,y,f,p.readTime)?this.ws(e,jc(n,null,"F")):this.Fs(e,y,n,p)}))})))}bs(e,n,r,l){return T_(n)||l.isEqual(we.min())?W.resolve(null):this.ys.getDocuments(e,r).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,r,l)?W.resolve(null):(Ls()<=ze.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),zs(n)),this.Fs(e,f,n,bC(l,Dl)).next(g=>g))})}vs(e,n){let r=new Lt(RT(e));return n.forEach((l,c)=>{uh(e,c)&&(r=r.add(c))}),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return Ls()<=ze.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",zs(n)),this.ys.getDocumentsMatchingQuery(e,n,Ja.min(),r)}Fs(e,n,r,l){return this.ys.getDocumentsMatchingQuery(e,r,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="LocalStore",nI=3e8;class iI{constructor(e,n,r,l){this.persistence=e,this.Ms=n,this.serializer=l,this.xs=new yt(Ne),this.Os=new qr(c=>Cm(c),Im),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K1(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function aI(a,e,n,r){return new iI(a,e,n,r)}async function WT(a,e){const n=Ce(a);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const f=[],g=[];let p=xe();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:g}))})})}function rI(a,e){const n=Ce(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=e.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const R=y.batch,b=R.keys();let x=W.resolve();return b.forEach(J=>{x=x.next(()=>E.getEntry(p,J)).next(ee=>{const $=y.docVersions.get(J);Ye($!==null,48541),ee.version.compareTo($)<0&&(R.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),E.addEntry(ee)))})}),x.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=xe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,l))})}function XT(a){const e=Ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function sI(a,e){const n=Ce(a),r=e.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];e.targetChanges.forEach((E,R)=>{const b=l.get(R);if(!b)return;g.push(n.Ti.removeMatchingKeys(c,E.removedDocuments,R).next(()=>n.Ti.addMatchingKeys(c,E.addedDocuments,R)));let x=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?x=x.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,r)),l=l.insert(R,x),function(ee,$,ue){return ee.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=nI?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0}(b,x,E)&&g.push(n.Ti.updateTargetData(c,x))});let p=ea(),y=xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(oI(c,f,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!r.isEqual(we.min())){const E=n.Ti.getLastRemoteSnapshotVersion(c).next(R=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(E)}return W.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.xs=l,c))}function oI(a,e,n){let r=xe(),l=xe();return n.forEach(c=>r=r.add(c)),e.getEntries(a,r).next(c=>{let f=ea();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):se(zm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function lI(a,e){const n=Ce(a);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uI(a,e){const n=Ce(a);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Ti.getTargetData(r,e).next(c=>c?(l=c,W.resolve(l)):n.Ti.allocateTargetId(r).next(f=>(l=new za(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.xs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function am(a,e,n){const r=Ce(a),l=r.xs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!ao(f))throw f;se(zm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.xs=r.xs.remove(e),r.Os.delete(l.target)}function V_(a,e,n){const r=Ce(a);let l=we.min(),c=xe();return r.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const R=Ce(p),b=R.Os.get(E);return b!==void 0?W.resolve(R.xs.get(b)):R.Ti.getTargetData(y,E)}(r,f,yi(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>r.Ms.getDocumentsMatchingQuery(f,e,n?l:we.min(),n?c:xe())).next(g=>(cI(r,WC(e),g),{documents:g,$s:c})))}function cI(a,e,n){let r=a.Ns.get(e)||we.min();n.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),a.Ns.set(e,r)}class P_{constructor(){this.activeTargetIds=n1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.xo=new P_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new P_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class z_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){se(L_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){se(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function rm(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${l}`,this.Go=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}zo(e,n,r,l,c){const f=rm(),g=this.jo(e,n.toUriEncodedString());se(Vd,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:y}=new URL(g),E=Zs(y);return this.Jo(e,g,p,r,E).then(R=>(se(Vd,`Received RPC '${e}' ${f}: `,R),R),R=>{throw Fs(Vd,`RPC '${e}' ${f} failed with error: `,R,"url: ",g,"request:",r),R})}Yo(e,n,r,l,c,f){return this.zo(e,n,r,l,c)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),r&&r.headers.forEach((l,c)=>e[c]=l)}jo(e,n){const r=dI[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class pI extends mI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const f=rm();return new Promise((g,p)=>{const y=new $E;y.setWithCredentials(!0),y.listenOnce(ZE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const R=y.getResponseJson();se(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),g(R);break;case Mc.TIMEOUT:se(rn,`RPC '${e}' ${f} timed out`),p(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const b=y.getStatus();if(se(rn,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const J=x==null?void 0:x.error;if(J&&J.status&&J.message){const ee=function(ue){const re=ue.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(re)>=0?re:Y.UNKNOWN}(J.status);p(new ae(ee,J.message))}else p(new ae(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{se(rn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(l);se(rn,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",E,r,15)})}I_(e,n,r){const l=rm(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=nT(),g=tT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const E=c.join("");se(rn,`Creating RPC '${e}' stream ${l}: ${E}`,p);const R=f.createWebChannel(E,p);this.E_(R);let b=!1,x=!1;const J=new gI({Zo:$=>{x?se(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(b||(se(rn,`Opening RPC '${e}' stream ${l} transport.`),R.open(),b=!0),se(rn,`RPC '${e}' stream ${l} sending:`,$),R.send($))},Xo:()=>R.close()}),ee=($,ue,re)=>{$.listen(ue,oe=>{try{re(oe)}catch(Se){setTimeout(()=>{throw Se},0)}})};return ee(R,yl.EventType.OPEN,()=>{x||(se(rn,`RPC '${e}' stream ${l} transport opened.`),J.__())}),ee(R,yl.EventType.CLOSE,()=>{x||(x=!0,se(rn,`RPC '${e}' stream ${l} transport closed`),J.u_(),this.d_(R))}),ee(R,yl.EventType.ERROR,$=>{x||(x=!0,Fs(rn,`RPC '${e}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.u_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),ee(R,yl.EventType.MESSAGE,$=>{var ue;if(!x){const re=$.data[0];Ye(!!re,16349);const oe=re,Se=(oe==null?void 0:oe.error)||((ue=oe[0])===null||ue===void 0?void 0:ue.error);if(Se){se(rn,`RPC '${e}' stream ${l} received error:`,Se);const de=Se.status;let be=function(I){const D=It[I];if(D!==void 0)return xT(D)}(de),V=Se.message;be===void 0&&(be=Y.INTERNAL,V="Unknown error status: "+de+" with message "+Se.message),x=!0,J.u_(new ae(be,V)),R.close()}else se(rn,`RPC '${e}' stream ${l} received:`,re),J.c_(re)}}),ee(g,eT.STAT_EVENT,$=>{$.stat===jd.PROXY?se(rn,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===jd.NOPROXY&&se(rn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(a){return new E1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r=1e3,l=1.5,c=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-r);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class ZT{constructor(e,n,r,l,c,f,g,p){this.xi=e,this.S_=r,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $T(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.v_===n&&this.z_(r,l)},r=>{e(()=>{const l=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(l)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{r(()=>this.j_(l))}),this.stream.onMessage(l=>{r(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return se(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(se(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yI extends ZT{constructor(e,n,r,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=S1(this.serializer,e),r=function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_i(f.readTime):we.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=im(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=$d(p)?{documents:w1(c,p)}:{query:C1(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=HT(c,f.resumeToken);const y=em(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=Qc(c,f.snapshotVersion.toTimestamp());const y=em(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const r=M1(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=im(this.serializer),n.removeTarget=e,this.Q_(n)}}class vI extends ZT{constructor(e,n,r,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=R1(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=im(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>b1(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class EI extends _I{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(e,tm(n,r),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())})}Yo(e,n,r,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(e,tm(n,r),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(Y.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class TI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zi(n),this.ua=!1):se("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class AI{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{r.enqueueAndForget(async()=>{Jr(this)&&(se(Hr,"Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.da.add(4),await Fl(y),y.Va.set("Unknown"),y.da.delete(4),await mh(y)}(this))})}),this.Va=new TI(r,l)}}async function mh(a){if(Jr(a))for(const e of a.Aa)await e(!0)}async function Fl(a){for(const e of a.Aa)await e(!1)}function eA(a,e){const n=Ce(a);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Hm(n)?Um(n):so(n).N_()&&Bm(n,e))}function xm(a,e){const n=Ce(a),r=so(n);n.Ea.delete(e),r.N_()&&tA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Jr(n)&&n.Va.set("Unknown"))}function Bm(a,e){if(a.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(a).Z_(e)}function tA(a,e){a.ma.Ke(e),so(a).X_(e)}function Um(a){a.ma=new p1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Ea.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),so(a).start(),a.Va.ca()}function Hm(a){return Jr(a)&&!so(a).O_()&&a.Ea.size>0}function Jr(a){return Ce(a).da.size===0}function nA(a){a.ma=void 0}async function SI(a){a.Va.set("Online")}async function bI(a){a.Ea.forEach((e,n)=>{Bm(a,e)})}async function RI(a,e){nA(a),Hm(a)?(a.Va.Pa(e),Um(a)):a.Va.set("Unknown")}async function wI(a,e,n){if(a.Va.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ea.delete(g),l.ma.removeTarget(g))}(a,e)}catch(r){se(Hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(a,r)}else if(e instanceof Oc?a.ma.Xe(e):e instanceof BT?a.ma.ot(e):a.ma.nt(e),!n.isEqual(we.min()))try{const r=await XT(a.localStore);n.compareTo(r)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ea.get(y);E&&c.Ea.set(y,E.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const E=c.Ea.get(p);if(!E)return;c.Ea.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),tA(c,p);const R=new za(E.target,p,y,E.sequenceNumber);Bm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(a,n)}catch(r){se(Hr,"Failed to raise snapshot:",r),await Xc(a,r)}}async function Xc(a,e,n){if(!ao(e))throw e;a.da.add(1),await Fl(a),a.Va.set("Offline"),n||(n=()=>XT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{se(Hr,"Retrying IndexedDB access"),await n(),a.da.delete(1),await mh(a)})}function iA(a,e){return e().catch(n=>Xc(a,n,e))}async function gh(a){const e=Ce(a),n=Ya(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:bm;for(;CI(e);)try{const l=await lI(e.localStore,r);if(l===null){e.Ia.length===0&&n.k_();break}r=l.batchId,II(e,l)}catch(l){await Xc(e,l)}aA(e)&&rA(e)}function CI(a){return Jr(a)&&a.Ia.length<10}function II(a,e){a.Ia.push(e);const n=Ya(a);n.N_()&&n.ea&&n.ta(e.mutations)}function aA(a){return Jr(a)&&!Ya(a).O_()&&a.Ia.length>0}function rA(a){Ya(a).start()}async function MI(a){Ya(a).ia()}async function DI(a){const e=Ya(a);for(const n of a.Ia)e.ta(n.mutations)}async function kI(a,e,n){const r=a.Ia.shift(),l=km.from(r,e,n);await iA(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await gh(a)}async function NI(a,e){e&&Ya(a).ea&&await async function(r,l){if(function(f){return m1(f)&&f!==Y.ABORTED}(l.code)){const c=r.Ia.shift();Ya(r).L_(),await iA(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await gh(r)}}(a,e),aA(a)&&rA(a)}async function B_(a,e){const n=Ce(a);n.asyncQueue.verifyOperationInProgress(),se(Hr,"RemoteStore received new credentials");const r=Jr(n);n.da.add(3),await Fl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await mh(n)}async function OI(a,e){const n=Ce(a);e?(n.da.delete(2),await mh(n)):e||(n.da.add(2),await Fl(n),n.Va.set("Unknown"))}function so(a){return a.fa||(a.fa=function(n,r,l){const c=Ce(n);return c.oa(),new yI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{e_:SI.bind(null,a),n_:bI.bind(null,a),i_:RI.bind(null,a),Y_:wI.bind(null,a)}),a.Aa.push(async e=>{e?(a.fa.L_(),Hm(a)?Um(a):a.Va.set("Unknown")):(await a.fa.stop(),nA(a))})),a.fa}function Ya(a){return a.ga||(a.ga=function(n,r,l){const c=Ce(n);return c.oa(),new vI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:MI.bind(null,a),i_:NI.bind(null,a),na:DI.bind(null,a),ra:kI.bind(null,a)}),a.Aa.push(async e=>{e?(a.ga.L_(),await gh(a)):(await a.ga.stop(),a.Ia.length>0&&(se(Hr,`Stopping write stream with ${a.Ia.length} pending writes`),a.Ia=[]))})),a.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const f=Date.now()+r,g=new Gm(e,n,f,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(a,e){if(Zi("AsyncQueue",`${e}: ${a}`),ao(a))return new ae(Y.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.pa=new yt(pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xs{constructor(e,n,r,l,c,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Xs(e,n,Js.emptySet(n),f,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class PI{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ce(n),c=l.queries;l.queries=H_(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(r)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function H_(){return new qr(a=>bT(a),lh)}async function sA(a,e){const n=Ce(a);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Da()&&e.va()&&(r=2):(c=new VI,r=e.va()?0:1);try{switch(r){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=qm(f,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.Fa(n.onlineState),c.ba&&e.Ma(c.ba)&&Jm(n)}async function oA(a,e){const n=Ce(a),r=e.query;let l=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.va()?0:1:!c.Da()&&e.va()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LI(a,e){const n=Ce(a);let r=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(l)&&(r=!0);f.ba=l}}r&&Jm(n)}function zI(a,e,n){const r=Ce(a),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function Jm(a){a.Ca.forEach(e=>{e.next()})}var sm,G_;(G_=sm||(sm={})).xa="default",G_.Cache="cache";class lA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.key=e}}class cA{constructor(e){this.key=e}}class xI{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.Za=RT(e),this.Xa=new Js(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new U_,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,R)=>{const b=l.get(E),x=uh(this.query,R)?R:null,J=!!b&&this.mutatedKeys.has(b.key),ee=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let $=!1;b&&x?b.data.isEqual(x.data)?J!==ee&&(r.track({type:3,doc:x}),$=!0):this.ru(b,x)||(r.track({type:2,doc:x}),$=!0,(p&&this.Za(x,p)>0||y&&this.Za(x,y)<0)&&(g=!0)):!b&&x?(r.track({type:0,doc:x}),$=!0):b&&!x&&(r.track({type:1,doc:b}),$=!0,(p||y)&&(g=!0)),$&&(x?(f=f.add(x),c=ee?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{Xa:f,nu:r,Cs:g,mutatedKeys:c}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,R)=>function(x,J){const ee=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:$})}};return ee(x)-ee(J)}(E.type,R.type)||this.Za(E.doc,R.doc)),this.iu(r),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new Xs(this.query,e.Xa,c,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new cA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new uA(r))}),n}au(e){this.Ha=e.$s,this.Ya=xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Km="SyncEngine";class BI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UI{constructor(e){this.key=e,this.cu=!1}}class HI{constructor(e,n,r,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new qr(g=>bT(g),lh),this.Pu=new Map,this.Tu=new Set,this.Iu=new yt(pe.comparator),this.Eu=new Map,this.du=new Vm,this.Au={},this.Ru=new Map,this.Vu=Ws.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GI(a,e,n=!0){const r=pA(a);let l;const c=r.hu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await hA(r,e,n,!0),l}async function qI(a,e){const n=pA(a);await hA(n,e,!0,!1)}async function hA(a,e,n,r){const l=await uI(a.localStore,yi(e)),c=l.targetId,f=a.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await JI(a,e,c,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&eA(a.remoteStore,l),g}async function JI(a,e,n,r,l){a.fu=(R,b,x)=>async function(ee,$,ue,re){let oe=$.view.tu(ue);oe.Cs&&(oe=await V_(ee.localStore,$.query,!1).then(({documents:V})=>$.view.tu(V,oe)));const Se=re&&re.targetChanges.get($.targetId),de=re&&re.targetMismatches.get($.targetId)!=null,be=$.view.applyChanges(oe,ee.isPrimaryClient,Se,de);return J_(ee,$.targetId,be.ou),be.snapshot}(a,R,b,x);const c=await V_(a.localStore,e,!0),f=new xI(e,c.$s),g=f.tu(c.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",l),y=f.applyChanges(g,a.isPrimaryClient,p);J_(a,n,y.ou);const E=new BI(e,n,f);return a.hu.set(e,E),a.Pu.has(n)?a.Pu.get(n).push(e):a.Pu.set(n,[e]),y.snapshot}async function KI(a,e,n){const r=Ce(a),l=r.hu.get(e),c=r.Pu.get(l.targetId);if(c.length>1)return r.Pu.set(l.targetId,c.filter(f=>!lh(f,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await am(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&xm(r.remoteStore,l.targetId),om(r,l.targetId)}).catch(io)):(om(r,l.targetId),await am(r.localStore,l.targetId,!0))}async function FI(a,e){const n=Ce(a),r=n.hu.get(e),l=n.Pu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xm(n.remoteStore,r.targetId))}async function jI(a,e,n){const r=eM(a);try{const l=await function(f,g){const p=Ce(f),y=Pt.now(),E=g.reduce((x,J)=>x.add(J.key),xe());let R,b;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let J=ea(),ee=xe();return p.Bs.getEntries(x,E).next($=>{J=$,J.forEach((ue,re)=>{re.isValidDocument()||(ee=ee.add(ue))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,J)).next($=>{R=$;const ue=[];for(const re of g){const oe=u1(re,R.get(re.key).overlayedDocument);oe!=null&&ue.push(new Za(re.key,oe,pT(oe.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,ue,g)}).next($=>{b=$;const ue=$.applyToLocalDocumentSet(R,ee);return p.documentOverlayCache.saveOverlays(x,$.batchId,ue)})}).then(()=>({batchId:b.batchId,changes:CT(R)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let y=f.Au[f.currentUser.toKey()];y||(y=new yt(Ne)),y=y.insert(g,p),f.Au[f.currentUser.toKey()]=y}(r,l.batchId,n),await jl(r,l.changes),await gh(r.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");n.reject(c)}}async function fA(a,e){const n=Ce(a);try{const r=await sI(n.localStore,e);e.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?Ye(f.cu,14607):l.removedDocuments.size>0&&(Ye(f.cu,42227),f.cu=!1))}),await jl(n,r,e)}catch(r){await io(r)}}function q_(a,e,n){const r=Ce(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.hu.forEach((c,f)=>{const g=f.view.Fa(e);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Ce(f);p.onlineState=g;let y=!1;p.queries.forEach((E,R)=>{for(const b of R.Sa)b.Fa(g)&&(y=!0)}),y&&Jm(p)}(r.eventManager,e),l.length&&r.lu.Y_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YI(a,e,n){const r=Ce(a);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Eu.get(e),c=l&&l.key;if(c){let f=new yt(pe.comparator);f=f.insert(c,on.newNoDocument(c,we.min()));const g=xe().add(c),p=new fh(we.min(),new Map,new yt(Ne),f,g);await fA(r,p),r.Iu=r.Iu.remove(c),r.Eu.delete(e),Fm(r)}else await am(r.localStore,e,!1).then(()=>om(r,e,n)).catch(io)}async function QI(a,e){const n=Ce(a),r=e.batch.batchId;try{const l=await rI(n.localStore,e);mA(n,r,null),dA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,l)}catch(l){await io(l)}}async function WI(a,e,n){const r=Ce(a);try{const l=await function(f,g){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(R=>(Ye(R!==null,37113),E=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(r.localStore,e);mA(r,e,n),dA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,l)}catch(l){await io(l)}}function dA(a,e){(a.Ru.get(e)||[]).forEach(n=>{n.resolve()}),a.Ru.delete(e)}function mA(a,e,n){const r=Ce(a);let l=r.Au[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Au[r.currentUser.toKey()]=l}}function om(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Pu.get(e))a.hu.delete(r),n&&a.lu.gu(r,n);a.Pu.delete(e),a.isPrimaryClient&&a.du.Hr(e).forEach(r=>{a.du.containsKey(r)||gA(a,r)})}function gA(a,e){a.Tu.delete(e.path.canonicalString());const n=a.Iu.get(e);n!==null&&(xm(a.remoteStore,n),a.Iu=a.Iu.remove(e),a.Eu.delete(n),Fm(a))}function J_(a,e,n){for(const r of n)r instanceof uA?(a.du.addReference(r.key,e),XI(a,r)):r instanceof cA?(se(Km,"Document no longer in limbo: "+r.key),a.du.removeReference(r.key,e),a.du.containsKey(r.key)||gA(a,r.key)):Te(19791,{pu:r})}function XI(a,e){const n=e.key,r=n.path.canonicalString();a.Iu.get(n)||a.Tu.has(r)||(se(Km,"New document in limbo: "+n),a.Tu.add(r),Fm(a))}function Fm(a){for(;a.Tu.size>0&&a.Iu.size<a.maxConcurrentLimboResolutions;){const e=a.Tu.values().next().value;a.Tu.delete(e);const n=new pe(ct.fromString(e)),r=a.Vu.next();a.Eu.set(r,new UI(n)),a.Iu=a.Iu.insert(n,r),eA(a.remoteStore,new za(yi(Mm(n.path)),r,"TargetPurposeLimboResolution",rh.le))}}async function jl(a,e,n){const r=Ce(a),l=[],c=[],f=[];r.hu.isEmpty()||(r.hu.forEach((g,p)=>{f.push(r.fu(p,e,n).then(y=>{var E;if((y||n)&&r.isPrimaryClient){const R=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){l.push(y);const R=Lm.Rs(p.targetId,y);c.push(R)}}))}),await Promise.all(f),r.lu.Y_(l),await async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(y,b=>W.forEach(b.ds,x=>E.persistence.referenceDelegate.addReference(R,b.targetId,x)).next(()=>W.forEach(b.As,x=>E.persistence.referenceDelegate.removeReference(R,b.targetId,x)))))}catch(R){if(!ao(R))throw R;se(zm,"Failed to update sequence numbers: "+R)}for(const R of y){const b=R.targetId;if(!R.fromCache){const x=E.xs.get(b),J=x.snapshotVersion,ee=x.withLastLimboFreeSnapshotVersion(J);E.xs=E.xs.insert(b,ee)}}}(r.localStore,c))}async function $I(a,e){const n=Ce(a);if(!n.currentUser.isEqual(e)){se(Km,"User change. New user:",e.toKey());const r=await WT(n.localStore,e);n.currentUser=e,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ae(Y.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.ks)}}function ZI(a,e){const n=Ce(a),r=n.Eu.get(e);if(r&&r.cu)return xe().add(r.key);{let l=xe();const c=n.Pu.get(e);if(!c)return l;for(const f of c){const g=n.hu.get(f);l=l.unionWith(g.view.eu)}return l}}function pA(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YI.bind(null,e),e.lu.Y_=LI.bind(null,e.eventManager),e.lu.gu=zI.bind(null,e.eventManager),e}function eM(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WI.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return aI(this.persistence,new tI,e.initialUser,this.serializer)}Su(e){return new QT(Pm.fi,this.serializer)}bu(e){return new hI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class tM extends $c{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ye(this.persistence.referenceDelegate instanceof Wc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U1(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new QT(r=>Wc.fi(r,n),this.serializer)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$I.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PI}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),r=function(c){return new pI(c)}(e.databaseInfo);return function(c,f,g,p){return new EI(c,f,g,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,l,c,f,g){return new AI(r,l,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>q_(this.syncEngine,n,0),function(){return z_.C()?new z_:new fI}())}createSyncEngine(e,n){return function(l,c,f,g,p,y,E){const R=new HI(l,c,f,g,p,y);return E&&(R.mu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ce(l);se(Hr,"RemoteStore shutting down."),c.da.add(5),await Fl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class nM{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=sT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async f=>{se(Qa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(se(Qa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ld(a,e){a.asyncQueue.verifyOperationInProgress(),se(Qa,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let r=n.initialUser;a.setCredentialChangeListener(async l=>{r.isEqual(l)||(await WT(e.localStore,l),r=l)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function K_(a,e){a.asyncQueue.verifyOperationInProgress();const n=await iM(a);se(Qa,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(r=>B_(e.remoteStore,r)),a.setAppCheckTokenChangeListener((r,l)=>B_(e.remoteStore,l)),a._onlineComponents=e}async function iM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){se(Qa,"Using user provided OfflineComponentProvider");try{await Ld(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await Ld(a,new $c)}}else se(Qa,"Using default OfflineComponentProvider"),await Ld(a,new tM(void 0));return a._offlineComponents}async function vA(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(se(Qa,"Using user provided OnlineComponentProvider"),await K_(a,a._uninitializedComponentsProvider._online)):(se(Qa,"Using default OnlineComponentProvider"),await K_(a,new lm))),a._onlineComponents}function aM(a){return vA(a).then(e=>e.syncEngine)}async function _A(a){const e=await vA(a),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=KI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FI.bind(null,e.syncEngine),n}function rM(a,e,n={}){const r=new Wi;return a.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const E=new yA({next:b=>{E.xu(),f.enqueueAndForget(()=>oA(c,R));const x=b.docs.has(g);!x&&b.fromCache?y.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?y.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),R=new lA(Mm(g.path),E,{includeMetadataChanges:!0,Qa:!0});return sA(c,R)}(await _A(a),a.asyncQueue,e,n,r)),r.promise}function sM(a,e,n={}){const r=new Wi;return a.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const E=new yA({next:b=>{E.xu(),f.enqueueAndForget(()=>oA(c,R)),b.fromCache&&p.source==="server"?y.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),R=new lA(g,E,{includeMetadataChanges:!0,Qa:!0});return sA(c,R)}(await _A(a),a.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(a,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function oM(a,e,n,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function j_(a){if(!pe.isDocumentKey(a))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Y_(a){if(pe.isDocumentKey(a))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ph(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Te(12329,{type:typeof a})}function ta(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(a);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function lM(a,e){if(e<=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",Q_=!0;class W_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=Q_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x1)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gC;switch(r.type){case"firstParty":return new _C(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F_.get(n);r&&(se("ComponentProvider","Removing Datastore"),F_.delete(n),r.terminate())}(this),Promise.resolve()}}function uM(a,e,n,r={}){var l;a=ta(a,yh);const c=Zs(e),f=a._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${n}`;c&&(uE(`https://${p}`),cE("Firestore",!0)),f.host!==AA&&f.host!==p&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:r});if(!Lr(y,g)&&(a._setSettings(y),r.mockUserToken)){let E,R;if(typeof r.mockUserToken=="string")E=r.mockUserToken,R=sn.MOCK_USER;else{E=R0(r.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new sn(b)}a._authCredentials=new pC(new aT(E,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class qa extends er{constructor(e,n,r){super(e,n,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new pe(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function cM(a,e,...n){if(a=qt(a),TA("collection","path",e),a instanceof yh){const r=ct.fromString(e,...n);return Y_(r),new qa(a,null,r)}{if(!(a instanceof mn||a instanceof qa))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ct.fromString(e,...n));return Y_(r),new qa(a.firestore,null,r)}}function vh(a,e,...n){if(a=qt(a),arguments.length===1&&(e=sT.newId()),TA("doc","path",e),a instanceof yh){const r=ct.fromString(e,...n);return j_(r),new mn(a,null,new pe(r))}{if(!(a instanceof mn||a instanceof qa))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ct.fromString(e,...n));return j_(r),new mn(a.firestore,a instanceof qa?a.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $T(this,"async_queue_retry"),this.rc=()=>{const r=Pd();r&&se(X_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Pd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Wi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ao(e))throw e;se(X_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Zi("INTERNAL UNHANDLED ERROR: ",Z_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const l=Gm.createAndSchedule(this,e,n,r,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Te(47125,{cc:Z_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Z_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Yl extends yh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new $_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function hM(a,e){const n=typeof a=="object"?a:mE(),r=typeof a=="string"?a:Jc,l=dm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=S0("firestore");c&&uM(l,...c)}return l}function jm(a){if(a._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||fM(a),a._firestoreClient}function fM(a){var e,n,r;const l=a._freezeSettings(),c=function(g,p,y,E){return new VC(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,EA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new nM(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Zt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=/^__.*__$/;class mM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:a})}}class Wm{constructor(e,n,r,l,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.dc({path:r,Rc:!1});return l.Vc(e),l}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.dc({path:r,Rc:!1});return l.Ec(),l}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(bA(this.Ic)&&dM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}bc(e,n,r,l=!1){return new Wm({Ic:e,methodName:n,wc:r,path:$t.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(a){const e=a._freezeSettings(),n=dh(a._databaseId);return new gM(a._databaseId,!!e.ignoreUndefinedProperties,n)}function pM(a,e,n,r,l,c={}){const f=a.bc(c.merge||c.mergeFields?2:0,e,n,l);Zm("Data must be an object, but it was:",f,r);const g=RA(r,f);let p,y;if(c.merge)p=new Mn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const R of c.mergeFields){const b=um(e,R,n);if(!f.contains(b))throw new ae(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);CA(E,b)||E.push(b)}p=new Mn(E),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new mM(new _n(g),p,y)}class Th extends Eh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}class $m extends Eh{constructor(e,n){super(e),this.Dc=n}_toFieldTransform(e){const n=new zl(e.serializer,DT(e.serializer,this.Dc));return new r1(e.path,n)}isEqual(e){return e instanceof $m&&this.Dc===e.Dc}}function yM(a,e,n,r){const l=a.bc(1,e,n);Zm("Data must be an object, but it was:",l,r);const c=[],f=_n.empty();$a(r,(p,y)=>{const E=eg(e,p,n);y=qt(y);const R=l.mc(E);if(y instanceof Th)c.push(E);else{const b=Ql(y,R);b!=null&&(c.push(E),f.set(E,b))}});const g=new Mn(c);return new SA(f,g,l.fieldTransforms)}function vM(a,e,n,r,l,c){const f=a.bc(1,e,n),g=[um(e,r,n)],p=[l];if(c.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)g.push(um(e,c[b])),p.push(c[b+1]);const y=[],E=_n.empty();for(let b=g.length-1;b>=0;--b)if(!CA(y,g[b])){const x=g[b];let J=p[b];J=qt(J);const ee=f.mc(x);if(J instanceof Th)y.push(x);else{const $=Ql(J,ee);$!=null&&(y.push(x),E.set(x,$))}}const R=new Mn(y);return new SA(E,R,f.fieldTransforms)}function _M(a,e,n,r=!1){return Ql(n,a.bc(r?4:3,e))}function Ql(a,e){if(wA(a=qt(a)))return Zm("Unsupported field value:",e,a),RA(a,e);if(a instanceof Eh)return function(r,l){if(!bA(l.Ic))throw l.gc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,l){const c=[];let f=0;for(const g of r){let p=Ql(g,l.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(a,e)}return function(r,l){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Pt.fromDate(r);return{timestampValue:Qc(l.serializer,c)}}if(r instanceof Pt){const c=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(r instanceof Ym)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:HT(l.serializer,r._byteString)};if(r instanceof mn){const c=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Qm)return function(f,g){return{mapValue:{fields:{[mT]:{stringValue:gT},[Kc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.gc("VectorValues must only contain numeric values.");return Dm(g.serializer,y)})}}}}}}(r,l);throw l.gc(`Unsupported field value: ${ph(r)}`)}(a,e)}function RA(a,e){const n={};return lT(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(a,(r,l)=>{const c=Ql(l,e.Ac(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function wA(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Pt||a instanceof Ym||a instanceof $s||a instanceof mn||a instanceof Eh||a instanceof Qm)}function Zm(a,e,n){if(!wA(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const r=ph(n);throw r==="an object"?e.gc(a+" a custom object"):e.gc(a+" "+r)}}function um(a,e,n){if((e=qt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return eg(a,e);throw Zc("Field path arguments must be of type string or ",a,!1,void 0,n)}const EM=new RegExp("[~\\*/\\[\\]]");function eg(a,e,n){if(e.search(EM)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Zc(a,e,n,r,l){const c=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new ae(Y.INVALID_ARGUMENT,g+a+p)}function CA(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TM extends IA{data(){return super.data()}}function tg(a,e){return typeof e=="string"?eg(a,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class ig extends ng{}function SM(a,e,...n){let r=[];e instanceof ng&&r.push(e),r=r.concat(n),function(c){const f=c.filter(p=>p instanceof rg).length,g=c.filter(p=>p instanceof ag).length;if(f>1||f>0&&g>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)a=l._apply(a);return a}class ag extends ig{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ag(e,n,r)}_apply(e){const n=this._parse(e);return MA(e._query,n),new er(e.firestore,e.converter,Zd(e._query,n))}_parse(e){const n=Xm(e.firestore);return function(c,f,g,p,y,E,R){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tE(R,E);const J=[];for(const ee of R)J.push(eE(p,c,ee));b={arrayValue:{values:J}}}else b=eE(p,c,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tE(R,E),b=_M(g,f,R,E==="in"||E==="not-in");return Mt.create(y,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)MA(f,p),f=Zd(f,p)}(e._query,n),new er(e.firestore,e.converter,Zd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends ig{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sg(e,n)}_apply(e){const n=function(l,c,f){if(l.startAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(c,f)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new ro(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function bM(a,e="asc"){const n=e,r=tg("orderBy",a);return sg._create(r,n)}class og extends ig{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new og(e,n,r)}_apply(e){return new er(e.firestore,e.converter,jc(e._query,this._limit,this._limitType))}}function RM(a){return lM("limit",a),og._create("limit",a,"F")}function eE(a,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&n.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!pe.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g_(a,new pe(r))}if(n instanceof mn)return g_(a,n._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function tE(a,e){if(!Array.isArray(a)||a.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MA(a,e){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wM{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $a(e,(l,c)=>{r[l]=this.convertValue(c,n)}),r}convertVectorValue(e){var n,r,l;const c=(l=(r=(n=e.fields)===null||n===void 0?void 0:n[Kc].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(f=>St(f.doubleValue));return new Qm(c)}convertGeoPoint(e){return new Ym(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Ka(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Ye(jT(r),9688,{name:e});const l=new Nl(r.get(1),r.get(3)),c=new pe(r.popFirst(5));return l.isEqual(n)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(a,e,n){let r;return r=a?a.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DA extends IA{constructor(e,n,r,l,c,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vc extends DA{data(e={}){return super.data(e)}}class IM{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:MM(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(a){a=ta(a,mn);const e=ta(a.firestore,Yl);return rM(jm(e),a._key).then(n=>OM(e,a,n))}class kA extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function kM(a){a=ta(a,er);const e=ta(a.firestore,Yl),n=jm(e),r=new kA(e);return AM(a._query),sM(n,a._query).then(l=>new IM(e,r,a,l))}function NM(a,e,n){a=ta(a,mn);const r=ta(a.firestore,Yl),l=CM(a.converter,e);return OA(r,[pM(Xm(r),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,vi.none())])}function NA(a,e,n,...r){a=ta(a,mn);const l=ta(a.firestore,Yl),c=Xm(l);let f;return f=typeof(e=qt(e))=="string"||e instanceof _h?vM(c,"updateDoc",a._key,e,n,r):yM(c,"updateDoc",a._key,e),OA(l,[f.toMutation(a._key,vi.exists(!0))])}function OA(a,e){return function(r,l){const c=new Wi;return r.asyncQueue.enqueueAndForget(async()=>jI(await aM(r),l,c)),c.promise}(jm(a),e)}function OM(a,e,n){const r=n.docs.get(e._key),l=new kA(a);return new DA(a,l,e._key,r,new El(n.hasPendingWrites,n.fromCache),e.converter)}function VM(a){return new $m("increment",a)}(function(e,n=!0){(function(l){no=l})(eo),Ks(new zr("firestore",(r,{instanceIdentifier:l,options:c})=>{const f=r.getProvider("app").getImmediate(),g=new Yl(new yC(r.getProvider("auth-internal")),new EC(f,r.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(y.options.projectId,E)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ha(i_,a_,e),Ha(i_,a_,"esm2017")})();const PM={apiKey:"AIzaSyCh0Zy4oESdqjtAC9IptErRM1Qmy4sJKdM",authDomain:"guesskodb.firebaseapp.com",projectId:"guesskodb",storageBucket:"guesskodb.firebasestorage.app",messagingSenderId:"154267857621",appId:"1:154267857621:web:d9f19fdb103929da07285c",measurementId:"G-32Q9VYPJCS"},VA=dE(PM),eh=dC(VA),Wl=hM(VA),LM=async(a,e)=>{try{console.log("Creating user profile for:",a,"with data:",e);const n=vh(Wl,"users",a),r={username:e.username,email:e.email,totalPoints:e.totalPoints||0,createdAt:new Date().toISOString()};console.log("About to write profile data:",r),await NM(n,r),console.log("User profile created successfully")}catch(n){throw console.error("Error creating user profile:",n),console.error("Error details:",n.message),console.error("Error code:",n.code),n}},nE=async a=>{try{const e=vh(Wl,"users",a),n=await DM(e);return n.exists()?n.data():(console.log("No user profile found"),null)}catch(e){throw console.error("Error getting user profile:",e),e}},zM=async(a,e)=>{try{const n=vh(Wl,"users",a);await NA(n,{totalPoints:VM(e),lastUpdated:new Date().toISOString()})}catch(n){throw console.error("Error adding points to user:",n),n}},xM=async a=>{try{const e=vh(Wl,"users",a);await NA(e,{lastActive:new Date().toISOString()})}catch(e){console.error("Error updating last active:",e)}},BM=async(a=10)=>{try{const e=cM(Wl,"users"),n=SM(e,bM("totalPoints","desc"),RM(a)),r=await kM(n),l=[];return r.forEach(c=>{const f=c.data();l.push({id:c.id,username:f.username,totalPoints:f.totalPoints||0})}),l.sort((c,f)=>f.totalPoints-c.totalPoints),l}catch(e){return console.error("Error getting leaderboard:",e),[]}},UM=({onStartGame:a,onStartDaily:e,onShowLogin:n,currentUser:r,onLogout:l,userProfile:c,setUserProfile:f})=>{const[g,p]=ge.useState([]),[y,E]=ge.useState(!0);ge.useEffect(()=>{(async()=>{try{const J=await BM(10);if(p(J),r&&J.length>0){const ee=J.find($=>$.id===r.uid);ee&&f&&f(ee)}}catch(J){console.error("Error loading leaderboard:",J)}finally{E(!1)}})()},[r,f]);const R=()=>{if(!r||!g.length)return 0;console.log("Current user UID:",r.uid),console.log("Leaderboard data:",g);const x=g.find(J=>J.id===r.uid);return console.log("Found user in leaderboard:",x),(x==null?void 0:x.totalPoints)||0},b=()=>{if(!r||!g.length)return null;const x=g.findIndex(J=>J.id===r.uid);return x!==-1?x+1:"Casual"};return N.createElement("div",{className:"welcome-screen"},N.createElement("div",{className:"welcome-header"},r?N.createElement("div",{className:"user-info"},N.createElement("div",{className:"user-stats"},N.createElement("div",{className:"user-points"},N.createElement("span",{className:"points-label"},"🏆 "),N.createElement("span",{className:"points-value"},`${R()} pts`)),b()&&N.createElement("div",{className:"user-rank"},N.createElement("span",{className:"rank-label"},"Rank: #"),N.createElement("span",{className:"rank-value"},b()))),N.createElement("span",{className:"user-email"},(()=>{const x=g.find(J=>J.id===r.uid);return(x==null?void 0:x.username)||r.email})()),N.createElement("button",{className:"logout-button",onClick:l},"Logout")):N.createElement("button",{className:"login-button",onClick:n},"Login")),N.createElement("div",{className:"welcome-content"},N.createElement("div",{className:"hero-section"},N.createElement("h1",{className:"game-title"},N.createElement("img",{src:"/images/left.webp",alt:"Boxing Glove",className:"title-icon-img"})," GUESS THE KNOCKOUT ",N.createElement("img",{src:"/images/right.webp",alt:"Boxing Glove",className:"title-icon-img"})),N.createElement("p",{className:"game-description"},"Test your UFC knowledge! Watch knockout highlights and guess which fighter delivered the finishing blow.")),N.createElement("div",{className:"game-modes"},N.createElement("div",{className:"mode-card daily-card"},N.createElement("div",{className:"card-header"},N.createElement("div",{className:"mode-icon"},"📆"),N.createElement("h3",{className:"mode-title"},"Daily Knockout Archive")),N.createElement("p",{className:"mode-description"},"Each day brings a new challenger. Answer a range of questions, test your knowledge, and try as many times as you like — it's completely free."),N.createElement("button",{className:"mode-button daily-button",onClick:e},N.createElement("span",{className:"button-text"},"View Menu"),N.createElement("span",{className:"button-arrow"}," →"))),N.createElement("div",{className:"mode-card quiz-card"},N.createElement("div",{className:"card-header"},N.createElement("div",{className:"mode-icon"},"📝"),N.createElement("h3",{className:"mode-title"},"Quiz Mode")),N.createElement("p",{className:"mode-description"},"Answer multiple questions in a row with different difficulty levels and compete for high scores."),N.createElement("button",{className:"mode-button quiz-button",onClick:a},N.createElement("span",{className:"button-text"},"START QUIZ MODE"),N.createElement("span",{className:"button-arrow"}," →")))),N.createElement("div",{className:"leaderboard"},N.createElement("h3",{className:"leaderboard-title"},"Leaderboard"),y?N.createElement("p",{className:"loading-text"},"Loading..."):g.length>0?N.createElement("table",{className:"leaderboard-table"},N.createElement("thead",{},N.createElement("tr",{},N.createElement("th",{},"Rank"),N.createElement("th",{},"Name"),N.createElement("th",{},"Points"))),N.createElement("tbody",{},...g.map((x,J)=>N.createElement("tr",{key:x.id,className:`leaderboard-row ${J===0?"first-place":J===1?"second-place":J===2?"third-place":""}${r&&x.id===r.uid?" current-user":""}`},N.createElement("td",{className:"rank-cell"},J===0?"🥇 1":J===1?"🥈 2":J===2?"🥉 3":`${J+1}`),N.createElement("td",{className:"name-cell"},x.username),N.createElement("td",{className:"points-cell"},x.totalPoints))))):N.createElement("p",{className:"no-data-text"},"No players yet. Be the first!")),N.createElement("div",{className:"simple-footer"},N.createElement("p",{className:"footer-text"},"This is an independent project. I'll update it as often as I can — hope you all enjoy!",N.createElement("br"),N.createElement("br"),"©2025 Guess The Knockout"))))},xa=["Aalon Cruz","Aaron Brink","Aaron Jeffery","Aaron Phillips","Aaron Riley","Aaron Rosa","Aaron Simpson","Aaron Wilkinson","Abdul Razak Alhassan","Abdul Azeem Badakhshi","Abdul-kareem Al-selwady","Abdul-kerim Edilov","Abel Trujillo","Abner Lloveras","Abu Azaitar","Abubakar Nurmagomedov","Abus Magomedov","Acacio Dos Santos","Achilles Estremadura","Adam Antolin","Adam Cella","Adam Fugitt","Adam Hunter","Adam Khaliev","Adam Milstead","Adam Wieczorek","Adam Yandiev","Adlan Amagov","Adli Edwards","Adrian Diaz","Adrian Serrano","Adrian Yanez","Adriano Martins","Adriano Santos","Ahmad Hassanzada","Aiemann Zahabi","Aili Muratbek","Ailin Perez","Aisling Daly","Aj Cunningham","Aj Dobson","Aj Fletcher","Akbarh Arreola","Akihiro Gono","Akira Corassani","Akitoshi Tamura","Al Iaquinta","Al Matavao","Alan Baudot","Alan Belcher","Alan Jouban","Alan Omer","Alan Patrick","Alatengheili","Albert Cheng","Albert Duraev","Albert Morales","Albert Tumenov","Alberta Cerra","Alberto Crane","Alberto Cerro Leon","Alberto Mina","Alberto Montes","Alberto Pereira","Alejandro Flores","Alejandro Pérez","Aleksa Camur","Aleksandar Rakić","Aleksandre Topuria","Aleksei Kunchenko","Aleksei Oleinik","Alen Amedovski","Alessandro Costa","Alessandro Ricci","Alessio Di Chirico","Alessio Sakara","Alex Andrade","Alex Caceres","Alex Chambers","Alex Da Silva","Alex Enlund","Alex Garcia","Alex Gilpin","Alex Gorgees","Alex Hunter","Alex Karalexis","Alex Morono","Alex Nicholson","Alex Oliveira","Alex Pereira","Alex Perez","Alex Reyes","Alex Schoenauer","Alex Serdyukov","Alex Soto","Alex Steibling","Alex Torres","Alex White","Alexa Grasso","Alexander Gustafsson","Alexander Hernandez","Alexander Morgan","Alexander Munoz","Alexander Poppeck","Alexander Soldatkin","Alexander Volkanovski","Alexander Volkov","Alexander Yakovlev","Alexandr Romanov","Alexandra Albu","Alexandre Barros","Alexandre Dantas","Alexandre Ferreira","Alexandre Nogueira","Alexandre Pantoja","Alexia Thainara","Alexis Davis","Alexis Dufresne","Alfonso Alcarez","Alfred Khashakyan","Ali Al-qaisi","Ali Bagautinov","Aliaskhab Khizriev","Alice Ardelean","Alistair Overeem","Aljamain Sterling","Allan Begosso","Allan Goes","Allan Nascimento","Allan Zuniga","Allen Berube","Allen Crowder","Alonzo Menifield","Alptekin Ozkilic","Alton Cunningham","Alton Meeks","Alvaro Herrera","Alvaro Ivan Lopez Rodrigues","Alvin Robinson","Amanda Cooper","Amanda Lemos","Amanda Nunes","Amanda Ribas","Amar Suloev","Amaury Bitetti","Amilcar Alves","Amir Albazi","Amir Aliakbari","Amir Sadollah","Amiran Gogoladze","Anderson Dos Santos","Anderson Silva","Andre Ewell","Andre Fialho","Andre Fili","Andre Gusmao","Andre Lima","Andre Muniz","Andre Pederneiras","Andre Petroski","Andre Roberts","Andre Soukhamthath","Andre Winner","Andrea Lee","Andreas Gustafsson","Andreas Michailidis","Andreas Spang","Andreas Stahl","Andrei Arlovski","Andrei Semenov","Andrew Craig","Andrew Holbrook","Andrew Sanchez","Andrew Todhunter","Andrey Pulyaev","Andy Anderson","Andy Enz","Andy Ogle","Andy Wang","Ange Loosa","Angel De Anda","Angel Pacheco","Angela Hill","Angela Magana","Angelo Trevino","Anistavio Medeiros","Anna Elmose","Ansar Chalangov","Anshul Jubli","Ante Delija","Anthony Adams","Anthony Birchak","Anthony Christodoulou","Anthony Fryklund","Anthony Hamilton","Anthony Hernandez","Anthony Ivy","Anthony Johnson","Anthony Lapsley","Anthony Leone","Anthony Macias","Anthony Rocco Martin","Anthony Morrison","Anthony Njokuani","Anthony Perosh","Anthony Pettis","Anthony Romero","Anthony Smith","Anthony Torres","Anton Berzin","Anton Kuivanen","Anton Turkalj","Anton Zafir","Antoni Hardonk","Antonina Shevchenko","Antonio Arroyo","Antonio Banuelos","Antonio Carlos Junior","Antonio Carvalho","Antonio Dos Santos","Antonio Jones","Antonio Mckee","Antonio Mendes","Antonio Braga Neto","Antonio Rogerio Nogueira","Antonio Silva","Antonio Trocoli","Antwain Britt","Anvar Boynazarov","Aoriqileng","Ariane Carnelossi","Ariane Da Silva","Ariel Beck","Ariel Gandulla","Arjan Singh Bhullar","Arman Ashimov","Arman Tsarukyan","Armando Villarreal","Armen Petrosyan","Arnold Allen","Art Jimmerson","Art Santore","Artem Frolov","Artem Lobov","Artem Vakhitov","Asbel Cancio","Ashiek Ajim","Ashkan Mokhtarian","Ashlee Evans-smith","Ashley Yoder","Asikeerbai Jinensibieke","Asikerbai Jinensibieke","Askar Askar","Askar Askarov","Askar Mozharov","Aspen Ladd","Assuerio Silva","Asu Almabayev","Ateba Gautier","Augusto Mendes","Augusto Montano","Augusto Sakai","Austen Lane","Austin Arnett","Austin Bashi","Austin Hubbard","Austin Lingo","Austin Springer","Austin Tweedy","Austin Vanderford","Azamat Bekoev","Azamat Gashimov","Azamat Murzakanov","Azat Maksum","Baergeng Jieleyisi","Bahatebole Batebolati","Barb Honchak","Bart Palaszewski","Bartosz Fabinski","Bas Rutten","Bassil Hafez","Batgerel Danaa","Bea Malecki","Bec Rawlings","Bekzat Almakhan","Belal Muhammad","Ben Askren","Ben Earwood","Ben Nguyen","Ben Rothwell","Ben Saunders","Ben Sosoli","Ben Wall","Benardo Sopaj","Beneil Dariush","Benito Lopez","Benji Radach","Benny Alloway","Benoît Saint Denis","Benson Henderson","Bentley Syler","Bernardo Magalhaes","Besam Yousef","Bethe Correia","Bevon Lewis","Bharat Kandare","Bill Algeo","Bill Mahood","Billy Elekana","Billy Ray Goff","Billy Pasulatan","Billy Quarantillo","Bilyal Makhov","Bj Penn","Blagoy Ivanov","Blake Bilder","Blood Diamond","Bo Nickal","Bob Cook","Bob Gilstrap","Bobby Hoffman","Bobby Moffett","Bobby Nash","Bobby Southworth","Bobby Voelker","Bogdan Grad","Bogdan Guskov","Bojan Mihajlovic","Bojan Velickovic","Bolaji Oki","Boston Salmon","Brad Blackburn","Brad Gumm","Brad Imes","Brad Katona","Brad Kohler","Brad Morris","Brad Pickett","Brad Riddell","Brad Tavares","Bradley Scott","Brady Hiestand","Brady Huang","Branden Lee Hinkle","Brandon Davis","Brandon Jenkins","Brandon Lewis","Brandon Moreno","Brandon Royval","Brandon Sayles","Brandon Thatch","Brandon Vera","Brandon Wolff","Braxton Smith","Brendan Allen","Brendan Loughnane","Brendan O'reilly","Brendan Schaub","Brendon Marotte","Brendson Ribeiro","Brett Johns","Brian Bowles","Brian Camozzi","Brian Cobb","Brian Ebersole","Brian Foster","Brian Gassaway","Brian Geraghty","Brian Houston","Brian Johnston","Brian Kelleher","Brian Melancon","Brian Ortega","Brian Stann","Brianna Fortino","Bristol Marunde","Brock Jardine","Brock Larson","Brock Lesnar","Brodie Farber","Brogan Walker","Brok Weaver","Bruna Brasil","Brunno Ferreira","Bruno Assis","Bruno Korea","Bruno Lopes","Bruno Oliveira","Bruno Santos","Bruno Silva","Bruno Souza","Bryan Barberena","Bryan Battle","Bryan Caraway","Bryce Mitchell","Bubba Bush","Bubba Mcdaniel","Buddy Roberts","Byron Bloodworth","C.j. Keith","Cain Carrizosa","Cain Velasquez","Caio Bittencourt","Caio Borralho","Caio Machado","Caio Magalhaes","Cal Worsham","Cale Yarbrough","Calen Born","Callan Potter","Calvin Kattar","Cam Rowston","Cameron Church","Cameron Dollar","Cameron Else","Cameron Olson","Cameron Saaiman","Cameron Smotherman","Cameron Vancamp","Canaan Kawaihae","Caol Uno","Caolán Loughran","Carl Deaton","Carla Esparza","Carli Judice","Carlo Pedersoli","Carlo Prater","Carlos Baretto","Carlos Candelario","Carlos Condit","Carlos Felipe","Carlos Hernandez","Carlos Huachin","Carlos Leal","Carlos Mota","Carlos Newton","Carlos Prates","Carlos Eduardo Rocha","Carlos Ulberg","Carlos Vera","Carls John De Tomas","Carlston Harris","Carlton Minus","Carmelo Marrero","Caros Fodor","Carrese Archer","Casey Kenney","Casey O'neill","Cat Zingano","Cathal Pendred","Cb Dollaway","Cedric Doumbe","Cesar Almeida","Cesar Arzamendia","Cesar Marscucci","Cezar Ferreira","Chad Anheliger","Chad Griggs","Chad Hanekom","Chad Johnson","Chad Laprise","Chad Mendes","Chad Reiner","Chan Sung Jung","Chance Rencountre","Chandler Cole","Changho Lee","Chanmi Jeon","Charalampos Grigoriou","Charles Byrd","Charles Johnson","Charles Jourdain","Charles Mccarthy","Charles Oliveira","Charles Radtke","Charles Rosa","Charlie Brenneman","Charlie Campbell","Charlie Ontiveros","Charlie Valencia","Charlie Ward","Chas Skelly","Chase Gibson","Chase Gormley","Chase Hooper","Chase Sherman","Chase Waldon","Che Mills","Cheick Kongo","Chelsea Chandler","Chelsea Hackett","Chepe Mariscal","Cheyanne Vlismas","Cheyden Leialoha","Chi Lewis-parry","Chibwikem Onyenegecha","Chico Camus","Chidi Njokuani","Chris Avila","Chris Barnett","Chris Beal","Chris Birchler","Chris Brennan","Chris Camozzi","Chris Cariaso","Chris Clements","Chris Condo","Chris Cope","Chris Curtis","Chris Daukaus","Chris De La Rocha","Chris Dempsey","Chris Duncan","Chris Fishgold","Chris Gruetzemacher","Chris Gutierrez","Chris Haseman","Chris Heatherly","Chris Hofmann","Chris Holdsworth","Chris Indich","Chris Kelades","Chris Leben","Chris Ligouri","Chris Lytle","Chris Padilla","Chris Price","Chris Sanford","Chris Saunders","Chris Spang","Chris Tuchscherer","Chris Wade","Chris Weidman","Chris Wilson","Christian Aguilera","Christian Colombo","Christian Leroy Duncan","Christian Lohsen","Christian Morecraft","Christian Ocon","Christian Rodriguez","Christian Wellisch","Christina Marks","Christophe Leininger","Christophe Midoux","Christos Giagos","Chuck Liddell","Chuck O'neil","Cindy Dandois","Ciryl Gane","Cj Fernandes","Cj Hamilton","Cj Vergara","Claude Patrick","Claudia Gadelha","Claudia Leite","Claudio Puelles","Claudio Ribeiro","Claudio Silva","Clay Collard","Clay Guida","Clay Harvison","Clayton Carpenter","Clifford Starks","Clint Hester","Cm Punk","Cody Belisle","Cody Brundage","Cody Donovan","Cody Durden","Cody East","Cody Garbrandt","Cody Gibson","Cody Haddon","Cody Mckenzie","Cody Pfister","Cody Stamann","Colby Covington","Colby Thicknesse","Cole Escovedo","Cole Miller","Cole Smith","Cole Williams","Colin Fletcher","Colin Robinson","Collin Anglin","Collin Hart","Collin Huckbody","Coltin Cole","Colton Smith","Connor Matthews","Conor Mcgregor","Corey Anderson","Corey Hill","Corinne Laframboise","Cortavious Romious","Cortney Casey","Cory Corbin","Cory Hendricks","Cory Mckenna","Cory Sandhagen","Cory Walmsley","Costas Philippou","Court Mcgee","Courtney Turner","Crafton Wallace","Craig White","Cris Cyborg","Cristian Quiñonez","Cristiano Marcello","Cristina Stanciu","Cub Swanson","Cung Le","Curt Warburton","Curtis Blaydes","Curtis Millender","Curtis Stout","Cynthia Calvillo","Cyril Asker","Cyrille Diabate","Da Woon Jung","Da'mon Blackshear","Daermisi Zhawupasi","Daichi Abe","Daiju Takase","Dakota Bush","Dakota Weigher","Dalcha Lungiambula","Dale Hartt","Dallas Marron","Damarques Johnson","Damian Grabowski","Damian Stasiak","Damien Brown","Damir Hadžović","Damir Ismagulov","Damon Jackson","Dan Argueta","Dan Barrera","Dan Christison","Dan Cramer","Dan Downes","Dan Evensen","Dan Hardy","Dan Henderson","Dan Hooker","Dan Ige","Dan Lauzon","Dan Miller","Dan Moret","Dan Severn","Dan Stittgen","Daniel Barez","Daniel Bobish","Daniel Cormier","Daniel Frunza","Daniel Gallemore","Daniel Jolly","Daniel Kelly","Daniel Lacerda","Daniel Marcos","Daniel Omielanczuk","Daniel Pereira","Daniel Pineda","Daniel Roberts","Daniel Rodriguez","Daniel Santos","Daniel Spitz","Daniel Spohn","Daniel Swain","Daniel Teymur","Daniel Zellhuber","Danielle Taylor","Danillo Villefort","Danilo Belluardo","Danilo Marques","Danilo Suzart","Danny Abbadi","Danny Barlow","Danny Castillo","Danny Chavez","Danny Henry","Danny Martinez","Danny Mitchell","Danny Roberts","Danny Sabatello","Danny Silva","Dante Rivera","Danyelle Wolf","Danylo Voievodkin","Daria Zhelezniakova","Darian Weeks","Darko Stosic","Daron Cruickshank","Darrel Gholar","Darrell Horcher","Darrell Montague","Darren Elkins","Darren Stewart","Darren Till","Darren Uyenoyama","Darrick Minner","Darrill Schoonover","Darrius Flowers","Dashawn Boatwright","Dashon Johnson","Dave Beneteau","Dave Berry","Dave Galera","Dave Herman","Dave Kaplan","Dave Menne","Dave Strasser","Davey Grant","Davi Costa","Davi Ramos","David Baron","David Bielkheden","David Branch","David Dodd","David Dvorak","David Heath","David Hood","David Lee","David Levicki","David Loiseau","David Martinez","David Michaud","David Onama","David Terrell","David Teymur","David Velasquez","David Zawada","Dayana Da Silva Santos","Dean Barry","Dean Lister","Deanna Bennett","Deiveson Figueiredo","Delson Heleno","Demetrious Johnson","Demian Maia","Denis Kang","Denis Stojnic","Denis Tiuliulin","Denise Gomes","Dennis Bermudez","Dennis Bryant","Dennis Buzukja","Dennis Hallman","Dennis Siver","Denys Bondar","Dequan Townsend","Derek Brunson","Derek Downey","Deron Winn","Derrick Krantz","Derrick Lewis","Derrick Noble","Desmond Green","Desmond Torres","Devin Clark","Devin Powell","Devin Smyth","Devonte Smith","Dhiego Lima","Diana Belbita","Diego Brandao","Diego Henrique Da Silva","Diego Ferreira","Diego Lopes","Diego Nunes","Diego Rivas","Diego Sanchez","Diego Saraiva","Dieusel Berto","Dileno Lopes","Din Thomas","Dinis Paiva","Dion Staring","Dione Barbosa","Diyar Nurgozhay","Djorden Santos","Dmitrei Stepanov","Dmitrii Smoliakov","Dmitry Poberezhets","Dmitry Sosnovskiy","Dokonjonosuke Mishima","Domingo Pilarte","Dominic Waters","Dominick Cruz","Dominick Reyes","Dominik Melendez","Dominique Steele","Don Frye","Don Madge","Don Shainis","Don'tale Mayes","Donald Cerrone","Donavan Beard","Donavon Frelow","Dong Hyun Kim","Dong Hyun Ma","Donghun Choi","Dongi Yang","Donnie Chappell","Donny Walker","Dooho Choi","Dorian Price","Doug Evans","Doug Marshall","Douglas Silva De Andrade","Drakkar Klose","Drako Rodriguez","Drew Dober","Drew Fickett","Drew Mcfedries","Dricus Du Plessis","Duane Cason","Duane Ludwig","Duda Santana","Dustin Hazelett","Dustin Jacoby","Dustin Joynson","Dustin Kimura","Dustin Neace","Dustin Ortiz","Dustin Pague","Dustin Poirier","Dustin Stoltzfus","Duško Todorović","Dwight Grant","Dwight Joseph","Dylan Andrews","Dylan Budka","Dylan Lockard","Dylan Potter","Dylan Salvador","Ebenezer Braga","Ed Herman","Eddie Alvarez","Eddie Gordon","Eddie Mendez","Eddie Ruiz","Eddie Sanchez","Eddie Wineland","Eddie Yagin","Edgar Chairez","Edgar Garcia","Edilberto Crocota","Edivan Santos","Edmen Shahbazyan","Ednaldo Oliveira","Edson Barboza","Edson Gomez","Eduarda Moura","Eduardo Matias Torres","Eduardo Neves","Edward Faaloloto","Edwin Dewees","Edwin Figueroa","Efrain Escudero","Eiji Mitsuoka","Eldo Xavier Dias","Eli Aronov","Elias Garcia","Elias Silverio","Elias Theodorou","Elias Urbina","Elijah Smith","Eliot Marshall","Elise Reed","Elizabeth Phillips","Elizeu Zaleski Dos Santos","Elves Brener","Elvis Mutapcic","Elvis Sinosic","Emil Meek","Emiliano Sordi","Emilio Cuellar","Emily Ducote","Emily Peters Kagan","Emily Whitmire","Emmanuel Yarbrough","Emrah Sonmez","Enrique Barzola","Enrique Marin","Enson Inoue","Eperaim Ginting","Eric Martin","Eric Mcconico","Eric Schafer","Eric Shelton","Eric Spicely","Eric Wisely","Erick Gonzalez","Erick Montano","Erick Silva","Ericka Almeida","Erik Koch","Erik Perez","Erik Silva","Erin Blanchfield","Erisson Ferreira","Ernest Chavez","Ernesta Kareckaitė","Ernie Verdicia","Eryk Anders","Esteban Ribovics","Estefani Almeida","Estevan Payan","Eugene Jackson","Eugenio Tadeu","Evan Dunham","Evan Elder","Evan Sweesy","Evan Tanner","Everett Sims","Fabiano Iha","Fabiano Scherner","Fabio Agu","Fabio Cherant","Fabio Gurgel","Fabio Maldonado","Fabiola Pidroni","Fabricio Camoes","Fabricio Werdum","Falaniko Vitale","Farid Basharat","Farès Ziam","Fatima Kline","Felice Herrig","Felicia Spencer","Felipe Arantes","Felipe Bunes","Felipe Colares","Felipe Dos Santos","Felipe Lima","Felipe Olivieri","Felipe Silva","Felix Klinkhammer","Felix Lee Mitchell","Feng Pengchao","Fernando Padilla","Fernie Garcia","Filip Pejic","Flavio Moura","Floyd Sword","Forrest Griffin","Forrest Petz","Francesco Maturi","Francimar Barroso","Francis Carmont","Francis Marshall","Francis Ngannou","Francisco Figueiredo","Francisco Prado","Francisco Rivera","Francisco Trevino","Francisco Trinaldo","Frank Camacho","Frank Caracci","Frank Hamaker","Frank Holland","Frank Lester","Frank Mir","Frank Shamrock","Frank Trigg","Frankie Edgar","Frankie Perez","Frankie Saenz","Fred Ettish","Freddy Emiliano Linares","Fredson Paixao","Fredy Serrano","Gabe Green","Gabe Ruediger","Gabriel Benitez","Gabriel Bonfim","Gabriel Checco","Gabriel Gonzaga","Gabriel Miranda","Gabriel Santos","Gabriel Silva","Gabriella Fernandes","Gadzhi Omargadzhiev","Gadzhimurad Antigulov","Gaetano Pirrello","Galore Bofando","Gan Mcgee","Garett Whiteley","Garreth Mclellan","Garrett Armfield","Garrett Grimes","Garrett Gross","Gary Goodridge","Gary Mangat","Gasan Umalatov","Gaston Bolanos","Gauge Young","Gavin Tucker","Geane Herrera","Gegard Mousasi","Genaro Valdez","Genki Sudo","Geoff Neal","George Hardwick","George Roop","George Sotiropoulos","George Sullivan","Georges St-pierre","Gerald Harris","Gerald Meerschaert","Gerald Strebendt","Geraldo De Freitas Jr.","Gerard Gordeau","Germaine De Randamie","Geronimo Dos Santos","Gerry Harris","Geza Kahlman Jr","Giacomo Lemos","Gian Siqueira","Gian Villante","Gideon Ray","Giga Chikadze","Gil Castillo","Gilbert Aldana","Gilbert Burns","Gilbert Melendez","Gilbert Smith","Gilbert Urbina","Gilbert Yvel","Gillian Robertson","Gina Carano","Gina Mazany","Gisele Moreira","Glaico Franca","Gleidson Cutis","Gleison Tibau","Gloria De Paula","Glover Teixeira","Gokhan Saki","Grant Dawson","Gray Maynard","Greg Hardy","Greg Rebello","Greg Soto","Greg Stott","Greg Velasco","Gregor Gillespie","Gregory Rodrigues","Grigory Popov","Gugun Gusman","Guido Cannetti","Guilherme Vasconcelos","Gunnar Nelson","Guram Kutateladze","Gustavo Gabriel","Gustavo Lopez","Guto Inocente","Guy Mezger","Hacran Dias","Hailey Cowan","Hakeem Dawodu","Hamdy Abdelwahab","Hannah Cifers","Hannah Goldy","Hans Stringer","Hanseul Kim","Harold Howard","Harrison Garcia","Harry Hunsucker","Harry Moskowitz","Harvey Park","Hashem Arkhagha","Hatsu Hioki","Hayato Sakurai","Hayder Hassan","He-man Gipson","Heath Herring","Heather Jo Clark","Hector Aldana","Hector Lombard","Hector Ramirez","Hector Sandoval","Hector Urbina","Henrique Da Silva","Henrique Da Silva Lopes","Henrique Shiguemoto","Henry Briones","Henry Cejudo","Henry Martinez","Herbert Burns","Herdem Alacabek","Hermes Franca","Hernani Perpetuo","Hilarie Rose","Ho Taek Oh","Holly Holm","Homer Moore","Horacio Gutierrez","Houston Alexander","Houston Dorr","Hu Yaozong","Hugo Cunha","Hugo Duarte","Hugo Viana","Humberto Bandenay","Humberto Brown","Hunter Azure","Hyder Amil","Hyun Gyu Lim","Hyunsung Park","Ian Entwistle","Ian Freeman","Ian Heinisch","Ian Loveland","Ian Machado Garry","Ian Mccall","Iasmin Lucindo","Ibo Aslan","Icho Larenas","Ignacio Bahamondes","Igor Araujo","Igor Pokrajac","Igor Severino","Igor Zinoviev","Ihor Potieria","Ike Villanueva","Ikram Aliskerov","Ikuhisa Minowa","Ildemar Alcantara","Ilia Topuria","Iliarde Santos","Ilir Latifi","Impa Kasanganay","Ion Cutelaba","Irene Aldana","Irina Alekseeva","Irwin Rivera","Isaac Dulgarian","Isaac Vallie-flagg","Isabela De Padua","Isi Fitikefu","Isis Verbeek","Islam Dulatov","Islam Makhachev","Ismael Bonfim","Ismail Naurdiev","Israel Adesanya","Issa Isakov","Issei Tamura","Istela Nunes","Iuri Alcantara","Ivan Erslan","Ivan Jorge","Ivan Menjivar","Ivan Salaverry","Ivan Serati","Ivan Shtyrkov","Ivan Valenzuela","Ivana Petrovic","Izabela Badurek","J.c. Cottrell","Jack Cartwright","Jack Della Maddalena","Jack Hermansson","Jack Jenkins","Jack Marshman","Jack May","Jack Mcglaughlin","Jack Nilsson","Jack Shore","Jackie Lee","Jacob Kilburn","Jacob Malkoun","Jacob Rosales","Jacob Silva","Jacob Volkmann","Jacobe Smith","Jacqueline Cavalcanti","Jae Hyun Park","Jafel Filho","Jai Herbert","Jailton Almeida","Jaime Alvarez","Jaimee Nievera","Jair Farias","Jairzinho Rozenstruik","Jake Collier","Jake Ellenberger","Jake Hadley","Jake Hecht","Jake Lindsey","Jake Matthews","Jake O'brien","Jake Rosholt","Jake Shields","Jalin Turner","Jamahal Hill","Jamal Pogues","Jamall Emmers","Jamelle Jones","James Barnes","James Bochnovic","James Giboo","James Gray","James Hammortree","James Head","James Irvin","James Krause","James Lee","James Llontop","James Mcsweeney","James Moontasri","James Mulheron","James Te Huna","James Terry","James Toney","James Vick","James Wallace","James Wilks","James Zikic","Jamey Simmons","Jamey-lyn Horth","Jamie Colleen","Jamie Moyle","Jamie Mullarkey","Jamie Pickett","Jamie Varner","Jamie Yager","Jan Błachowicz","Janaina Silva","Janay Harding","Jansey Silva","Jaqueline Amorim","Jared Cannonier","Jared Gooden","Jared Gordon","Jared Hamman","Jared Papazian","Jared Rollins","Jared Rosholt","Jared Vanderaa","Jarjis Danho","Jarno Errens","Jarred Brooks","Jasmine Jasudavicius","Jason Black","Jason Brilz","Jason Day","Jason Delucia","Jason Dent","Jason Fairn","Jason Gilliam","Jason Gonzalez","Jason High","Jason Jackson","Jason Knight","Jason Lambert","Jason Macdonald","Jason Miller","Jason Novelli","Jason Reinhardt","Jason Saggo","Jason Tan","Jason Thacker","Jason Von Flue","Jason Witt","Jason Young","Javid Basharat","Javier Vazquez","Jay Cucciniello","Jay Hieron","Jay Perrin","Jay Silva","Jean Matsumoto","Jean Silva","Jeff Cox","Jeff Curran","Jeff Hougland","Jeff Hughes","Jeff Joslin","Jeff Monson","Jeff Newton","Jeffrey Molina","Jeka Saragih","Jenel Lausa","Jennifer Gonzalez","Jennifer Maia","Jens Pulver","Jeongyeong Lee","Jeremia Siregar","Jeremiah Wells","Jeremy Horn","Jeremy Jackson","Jeremy Kennedy","Jeremy Kimball","Jeremy Larsen","Jeremy Stephens","Jermaine Andre","Jerome Rivera","Jerrod Sanders","Jerry Bohlander","Jess Liaudin","Jessamyn Duke","Jesse Bongfeldt","Jesse Butler","Jesse Forbes","Jesse Lennox","Jesse Mariotti","Jesse Murray","Jesse Ronson","Jesse Sanders","Jesse Strader","Jesse Taylor","Jessica Aguilar","Jessica Eye","Jessica Penne","Jessica Rakoczy","Jessica-rose Clark","Jessin Ayari","Jesus Aguilar","Jesus Pinedo","Jhonata Diniz","Jhonata Silva","Jhonoven Pati","Ji Yeon Kim","Jianping Yang","Jim Alers","Jim Miller","Jim Mullen","Jimi Manuwa","Jimmie Rivera","Jimmy Crute","Jimmy Flick","Jimmy Lawson","Jimmy Quinlan","Jimmy Wallhead","Jimy Hettes","Jin Soo Son","Jinh Yu Frey","Jinnosuke Kashimura","Jiří Procházka","Jj Aldrich","Jj Okanovich","Joachim Christensen","Joanderson Brito","Joanna Jędrzejczyk","Joanne Wood","Joao Elias","Joao Pierini","Joao Roque","Joao Zaiden","Joaquim Silva","Joaquin Buckley","Joby Sanchez","Jocelyn Jones-lybarger","Jodie Esquibel","Joe Brammer","Joe Charles","Joe Doerksen","Joe Duffy","Joe Ellenberger","Joe Giannetti","Joe Gigliotti","Joe Lauzon","Joe Merritt","Joe Moriera","Joe Pardo","Joe Proctor","Joe Pyfer","Joe Riggs","Joe Slick","Joe Solecki","Joe Son","Joe Soto","Joe Stevenson","Joe Vedepo","Joe Veres","Joel Álvarez","Joel Sutton","Joey Beltran","Joey Gambino","Joey Gilbert","Joey Gomez","Joey Roberts","John Adajar","John Albert","John Alessio","John Allan","John Campetella","John Castaneda","John Cholish","John Cofer","John Dodson","John Dowdy","John Gunderson","John Gunther","John Halverson","John Hathaway","John Howard","John Kolosci","John Lewis","John Lineker","John Lober","John Maguire","John Makdessi","John Marsh","John Matua","John Moraga","John Phillips","John Polakowski","John Salter","John Teixeira","John-olav Einemo","Johnny Bedford","Johnny Case","Johnny Eduardo","Johnny Munoz","Johnny Rees","Johnny Rhodes","Johnny Walker","Johny Hendricks","Joilton Lutterbach","Jon Fitch","Jon Hess","Jon Jones","Jon Koppenhaver","Jon Madsen","Jon Manley","Jon Delos Reyes","Jon Tuck","Jonas Bilharinho","Jonathan Correa","Jonathan Goulet","Jonathan Martinez","Jonathan Meunier","Jonathan Micallef","Jonathan Pearce","Jonathan Wiezorek","Jonathan Wilson","Jonavin Webb","Jonny Parsons","Joosang Yoo","Jordan Espinosa","Jordan Griffin","Jordan Jackson","Jordan Johnson","Jordan Leavitt","Jordan Mein","Jordan Radev","Jordan Rinaldi","Jordan Vucenic","Jordan Williams","Jordan Wright","Jorge De Oliveira","Jorge Gonzalez","Jorge Gurgel","Jorge Lopez","Jorge Masvidal","Jorge Patino","Jorge Rivera","Jorge Santiago","Jorgen Kruth","Jose Alday","Jose Augusto","Jose Daniel Medina","Jose Miguel Delgado","Jose Johnson","Jose Maria","Jose Ochoa","Jose Quinonez","Jose Torres","Josefine Knutsson","Joselyne Edwards","Joseph Benavidez","Joseph Holmes","Joseph Lowry","Joseph Morales","Joseph Sandoval","Josh Appelt","Josh Barnett","Josh Bryant","Josh Clopton","Josh Copeland","Josh Culibao","Josh Emmett","Josh Ferguson","Josh Fremd","Josh Grispi","Josh Haynes","Josh Hendricks","Josh Koscheck","Josh Neer","Josh Parisian","Josh Quinlan","Josh Raferty","Josh Samman","Josh Sampo","Josh Schockman","Josh Shockley","Josh Stuart","Josh Thomson","Josh Wick","Joshua Burkman","Joshua Stansbury","Joshua Van","Joshua Wang-kim","Joshua Weems","Josiah Harrell","Josiane Nunes","Josias Musasa","José Aldo","José Henrique","Journey Newson","Jp Buys","Jr Coughran","Juan Adams","Juan Andres Luna","Juan Espino","Juan Puerta","Juan Puig","Juancamilo Ronderos","Jules Bruchez","Julia Avila","Julia Polastri","Julian Erosa","Julian Marquez","Julian Sanchez","Juliana Lima","Juliana Miller","Julianna Peña","Julie Kedzie","Julija Stoliarenko","Julio Arce","Julio Paulino","Julius Anglickas","Julius Walker","Jumabieke Tuerxun","Jung Hyun Lee","Junie Browning","Junior Albini","Junior Assuncao","Junior Hernandez","Junior Tafa","Junye Gao","Junyong Park","Junyoung Hong","Jussier Formiga","Justin Buchholz","Justin Burlinson","Justin Edwards","Justin Eilers","Justin Frazier","Justin Gaethje","Justin Gonzales","Justin James","Justin Jaynes","Justin Jones","Justin Lawrence","Justin Ledet","Justin Levens","Justin Martin","Justin Mccully","Justin Salas","Justin Scoggins","Justin Sumter","Justin Tafa","Justin Wilcox","Justin Willis","Justin Wren","Justine Kish","Jutaro Nakao","Jéssica Andrade","Kaan Ofli","Kai Asakura","Kai Kara-france","Kai Kamaka","Kaik Brito","Kailan Hill","Kailin Curran","Kajan Johnson","Kaleio Romero","Kali Robbins","Kalib Starnes","Kalindra Faria","Kaloyan Kolev","Kamal Shalorus","Kamaru Usman","Kamuela Kirk","Kanako Murata","Karine Gevorgyan","Karine Silva","Karl Reed","Karl Roberson","Karl Williams","Karlos Vemola","Karo Parisyan","Karol Rosa","Karolina Kowalkiewicz","Karolina Wojcik","Kathryn Paprocki","Katlyn Cerminara","Katsuhisa Fuji","Katsunori Kikuno","Kauê Fernandes","Kay Hansen","Kayla Harrison","Kaynan Kruschewsky","Kazuhiro Nakamura","Kazula Vargas","Kazuma Maruyama","Kazuo Misaki","Kazushi Sakuraba","Kb Bhullar","Keichiro Yamamiya","Keifer Roberts","Keigo Kunihara","Keisuke Sasu","Keita Nakamura","Keith Berish","Keith Hackney","Keith Jardine","Keith Mielke","Keith Rockel","Keith Wisniewski","Kelly Dullanty","Kelly Faszholz","Kelly Velasco","Kelvin Gastelum","Ken Shamrock","Ken Stone","Kendall Grove","Kenichi Yamamoto","Kennedy Nzechukwu","Kenneth Bergh","Kenneth Cross","Kenny Florian","Kenny Robertson","Kerry Kasik","Kerry Schall","Kerry Vera","Ketlen Souza","Ketlen Vieira","Kevin Aguilar","Kevin Borjas","Kevin Burns","Kevin Casey","Kevin Christian","Kevin Croom","Kevin Gray","Kevin Holland","Kevin Jackson","Kevin Jordan","Kevin Jousset","Kevin Lee","Kevin Natividad","Kevin Randleman","Kevin Rosier","Kevin Souza","Kevin Syler","Kevin Szaflarski","Kevin Vallejos","Khabib Nurmagomedov","Khadis Ibragimov","Khadzhimurat Bestaev","Khalid Murtazaliev","Khalid Taha","Khalil Rountree Jr.","Khama Worthy","Khamzat Chimaev","Khaos Williams","Khusein Askhabov","Kiefer Crosbie","Kiichi Kunimoto","Kimbo Slice","Kimo Leopoldo","King Green","Kit Cope","Kitt Campbell","Kj Noons","Klaudia Syguła","Kleydson Rodrigues","Klidson Abreu","Kody Steele","Koji Kitao","Koji Oishi","Kolton Englund","Konstantin Erokhin","Korey Kuppe","Koya Kanda","Koyomi Matsushima","Kris Mccray","Kris Moutinho","Kristian Rothaermel","Kron Gracie","Krzysztof Jotko","Krzysztof Soszynski","Kuniyoshi Hironaka","Kurt Holobaugh","Kurt Pellegrino","Kwan Ho Kwak","Kyeongpyo Kim","Kyle Bochniak","Kyle Bradley","Kyle Daukaus","Kyle Driscoll","Kyle Jensen","Kyle Kingsbury","Kyle Nelson","Kyle Noblitt","Kyle Noke","Kyle Prepolec","Kyle Reyes","Kyle Stewart","Kyle Watson","Kyler Phillips","Kyoji Horiguchi","Kyron Bowen","Kyung Ho Kang","Lance Benoist","Lance Lawrence","Lando Vannata","Landon Quinones","Lara Procopio","Larissa Pacheco","Larry Cureton","Laureano Staropoli","Lauren Mueller","Lauren Murphy","Lavar Johnson","Laverne Clark","Lazar Stojadinovic","Leah Letson","Leandro Issa","Leandro Silva","Lee Murray","Leigh Remedios","Leo Kuntz","Leon Aliu","Leon Edwards","Leon Shahbazyan","Leonard Garcia","Leonardo Augusto Leleco","Leonardo Damiani","Leonardo De Oliveira","Leonardo Mafra","Leonardo Morales","Leonardo Santos","Lerone Murphy","Leslie Smith","Levan Makashvili","Lewis Gonzalez","Li Jingliang","Li Kaiwen","Liana Jojua","Liang Na","Liliya Shakirova","Lina Lansberg","Lisa Ellis","Liudvik Sholinian","Livinha Souza","Liz Carmouche","Lodune Sincaid","Logan Clark","Logan Greenhalgh","Logan Urban","Loik Radzhabov","Loma Lookboonmee","Lone’er Kavanagh","Loopy Godinez","Lorenz Larkin","Lorenzo Hood","Louis Cosce","Louis Gaudinot","Louis Smolka","Lowell Anderson","Lu Kai","Lu Zhengyong","Luan Chagas","Luan Lacerda","Luana Carolina","Luana Pinheiro","Luana Santos","Lucas Alexander","Lucas Almeida","Lucas Fernando","Lucas Martins","Lucas Rocha","Lucie Pudilova","Lucio Linhares","Lucrezia Ria","Ludovit Klein","Luigi Fioravanti","Luigi Vendramini","Luis Gomez","Luis Gurule","Luis Henrique","Luis Pajuelo","Luis Pena","Luis Ramos","Luis Saldana","Luiz Cane","Luiz Dutra","Luiz Garagorri","Lukasz Brzeski","Lukasz Sajewski","Lukasz Sudolski","Luke Barnatt","Luke Caudillo","Luke Cummo","Luke Flores","Luke Jumeau","Luke Rockhold","Luke Sanders","Luke Zachrich","Lv Zhenhong","Lyman Good","Lyoto Machida","Mabelly Lima","Mac Danzig","Mackens Semerzier","Mackenzie Dern","Macy Chiasson","Mads Burnell","Magnus Cedenblad","Magomed Ankalaev","Magomed Bibulatov","Magomed Gadzhiyasulov","Magomed Mustafaev","Maheshate","Maia Stevenson","Maiara Amajanas Dos Santos","Maimaitituoheti Keremuaili","Maiquel Falcao","Mairbek Taisumov","Mairon Santos","Makhmud Muradov","Maki Pitolo","Makwan Amirkhani","Malcolm Gordon","Malcolm Wellmaker","Malik Lewis","Mallory Martin","Mana Martinez","Mando Gutierrez","Mandy Böhm","Manel Kape","Manny Bermudez","Manny Gamburyan","Manny Vazquez","Manolo Zecchini","Manon Fiorot","Mansur Abdul-malik","Manuel Gaxhja","Manuel Rodriguez","Manuel Torres","Mara Romero Borella","Marc Diakiese","Marc-andre Barriault","Marcel Fortuna","Marcello Aguiar","Marcello Mello","Marcelo Golm","Marcelo Guimaraes","Marcelo Rojo","Marcin Bandel","Marcin Held","Marcin Prachnio","Marcin Tybura","Marcin Wrzosek","Marcio Alexandre","Marcio Cruz","Marco Beltran","Marco Polo Reyes","Marco Ruas","Marco Tulio","Marcos Brigagao","Marcos Conrado Junior","Marcos Rogerio De Lima","Marcos Rosa","Marcos Vinicius","Marcus Aurelio","Marcus Bossett","Marcus Brimage","Marcus Da Silviera","Marcus Davis","Marcus Jones","Marcus Levesseur","Marcus Mcghee","Maria Oliveira","Maria Silva","Marilia Santos","Marina Rodriguez","Mario Bautista","Mario Miranda","Mario Neto","Mario Pinto","Mario Sousa","Marion Reneau","Mariusz Ksiazkiewicz","Mariya Agapova","Mark Bocek","Mark Cherico","Mark Choinski","Mark Climaco","Mark Coleman","Mark De La Rosa","Mark Eddiva","Mark Godbeer","Mark Hall","Mark Holst","Mark Hominick","Mark Hughes","Mark Hunt","Mark Kerr","Mark Madsen","Mark Munoz","Mark David Robinson","Mark Scanlon","Mark Schultz","Mark Striegl","Mark Weir","Markus Perez","Marlon Moraes","Marlon Vera","Marnic Mann","Marquel Mederos","Martin Bravo","Martin Buday","Martin Buschkamp","Martin Day","Martin Kampmann","Martin Mishtaku","Martin Sano","Martin Svensson","Marvin Eastman","Marvin Vettori","Maryna Moroz","Masanori Kanehara","Mashrabjon Ruzibaev","Masio Fullen","Mason Jones","Masutatsu Yano","Mateo Vogel","Mateus Mendonça","Mateusz Gamrot","Mateusz Rębecki","Matheus Camilo","Matheus Nicolau","Matheus Scheffel","Mats Nilsson","Matt Andersen","Matt Arroyo","Matt Bessette","Matt Brown","Matt Dixon","Matt Dwyer","Matt Frevola","Matt Grice","Matt Hamill","Matt Hobar","Matt Horwich","Matt Hughes","Matt Lindland","Matt Lucas","Matt Mitrione","Matt Sayles","Matt Schnell","Matt Serra","Matt Van Buren","Matt Veach","Matt Wiman","Matthew Lopez","Matthew Riddle","Matthew Semelsberger","Matěj Peňáz","Maurice Greene","Maurice Mitchell","Maurice Smith","Mauricio Rua","Mauricio Ruffy","Max Griffin","Max Grishin","Max Holloway","Max Mustaki","Max Rohskopf","Maximo Blanco","Mayana Kellem","Maycee Barber","Mayra Bueno Silva","Megan Anderson","Mehdi Baghdad","Melinda Fábián","Melissa Gatto","Melissa Martinez","Melissa Mullins","Melquizael Costa","Melsik Baghdasaryan","Melton Bowen","Melvin Guillard","Merab Dvalishvili","Michael Aswell","Michael Bisping","Michael Bonnette","Michael Chandler","Michael Chiesa","Michael Cora","Michael Graves","Michael Johnson","Michael Kuiper","Michael Lombardo","Michael Mcbride","Michael Mcdonald","Michael Morales","Michael Page","Michael Patt","Michael Smith","Michael Trizano","Michal Figlak","Michal Martinek","Michal Oleksiejczuk","Micheal Gillmore","Michel Batista","Michel Pereira","Michel Prazeres","Michel Quinones","Michelle Waterson-gomez","Michihiro Omigawa","Michinori Tanaka","Mick Parkin","Mickael Lebout","Mickey Gall","Micol Di Segni","Miesha Tate","Miguel Baeza","Miguel Angel Torres","Mike Breeden","Mike Brown","Mike Ciesnolevicz","Mike Davis","Mike De La Torre","Mike Easton","Mike Grundy","Mike Guymon","Mike Jackson","Mike King","Mike Kyle","Mike Lullo","Mike Malott","Mike Massenzio","Mike Nickels","Mike Perry","Mike Pierce","Mike Pyle","Mike Rhodes","Mike Ricci","Mike Rio","Mike Rodriguez","Mike Russow","Mike Santiago","Mike Stumpf","Mike Swick","Mike Van Arsdale","Mike Wessel","Mike Whitehead","Mike Wilkinson","Mikey Burnett","Mikey Gonzalez","Milana Dudieva","Miles Johns","Milton Vieira","Ming Shi","Minoki Ichihara","Minotauro Nogueira","Minwoo Kim","Miranda Granger","Miranda Maverick","Mirko Cro Cop","Mirsad Bektic","Misha Cirkunov","Mitch Clarke","Mitch Gagnon","Mitch Ramirez","Mitch Raposo","Mitchell Sipe","Mizuki","Mizuto Hirota","Mo Miller","Modestas Bukauskas","Mohammad Yahya","Mohammed Usman","Molly Mccann","Montana De La Rosa","Montel Jackson","Montrel Talbert","Montserrat Rendon","Montserrat Ruiz","Morgan Charriere","Mostapha Al Turk","Moti Horenstein","Motonobu Tezuka","Mounir Lazzez","Movsar Evloev","Muhammad Mokaev","Muhammad Naimov","Muin Gafurov","Murilo Bustamante","Murtaza Talha","Muslim Salikhov","Myktybek Orolbai","Myles Jury","Nad Narimani","Nadia Kassem","Nah-shon Burrell","Nair Nelikyan","Nam Phan","Nandor Guelmino","Naoki Inoue","Naoyuki Kotani","Nariman Abbassov","Nasrat Haqparast","Nasrudin Nasrudinov","Nassourdine Imavov","Natalia Silva","Natan Levy","Nate Diaz","Nate Landwehr","Nate Loughran","Nate Maness","Nate Marquardt","Nate Mohr","Nate Quarry","Nate Schroeder","Nate Smith","Nathan Coy","Nathan Fletcher","Nathaniel Wood","Navajo Stirling","Nayara Maia","Nazareno Malegarie","Nazim Sadykhov","Neil Grove","Neil Magny","Neil Seery","Neil Wain","Nicco Montano","Nick Agallar","Nick Aguirre","Nick Catone","Nick Denis","Nick Diaz","Nick Fiore","Nick Hein","Nick Klein","Nick Maximov","Nick Newell","Nick Osipczak","Nick Pace","Nick Penner","Nick Ring","Nick Roehrick","Nick Sanzo","Nick Serra","Nick Thompson","Nick Urso","Nico Musoke","Nicolae Negumereanu","Nicolas Dalby","Nicolle Caliari","Nik Lentz","Nikita Krylov","Niklas Backstrom","Niklas Stolze","Niko Price","Nikolas Motta","Nikolay Veretennikov","Nina Nunes","Ning Guangyou","Nissen Osterneck","Niushiyue Ji","Noad Lahat","Noe Hernandez","Nohelin Hernandez","Nolan Ticman","Nora Cornolle","Nordine Taleb","Norifumi Yamamoto","Norma Dumont","Norman Parke","Nursulton Ruziboev","Nurullo Aliev","Nyamjargal Tumendemberel","Oban Elliott","Ode Osbourne","Olaf Alfonso","Oleg Taktarov","Oleksandr Doskalchuk","Oli Thompson","Oliver Enkamp","Olivier Aubin-mercier","Olivier Murad","Oluwale Bamgbose","Omar Morales","Omari Akhmedov","Onassis Parungao","Orion Cosce","Orlando Welt","Oron Kahlon","Oscar Cota","Oskar Piechota","Ottman Azaitar","Oumar Sy","Ovince Saint Preux","Ozzy Diaz","Pablo Garza","Paddy Holohan","Paddy Pimblett","Paige Vanzant","Pannie Kianzad","Papy Abedi","Parker Porter","Pascal Krauss","Pat Audinwood","Pat Barry","Pat Healy","Pat Miletich","Pat Sabatini","Pat Schilling","Patchy Mix","Patricia Alujas","Patricio Pitbull","Patrick Cote","Patrick Cummins","Patrick Smith","Patrick Walsh","Patrick Williams","Patrik White","Paul Bradley","Paul Buentello","Paul Capaldo","Paul Craig","Paul Creighton","Paul Daley","Paul Felder","Paul Georgieff","Paul Herrera","Paul Jones","Paul Kelly","Paul Redmond","Paul Rodriguez","Paul Sass","Paul Taylor","Paul Varelans","Pauline Macias","Paulo Costa","Paulo Renato Jr.","Paulo Santos","Paulo Thiago","Pawan Maan","Pawel Pawlak","Payton Talbott","Pearl Gonzalez","Pedro Falcao","Pedro Munhoz","Pedro Nobre","Pedro Rizzo","Peggy Morgan","Per Eklund","Pete Rodriguez","Pete Sell","Pete Spratt","Pete Williams","Peter Barrett","Peter Danesoe","Peter Petties","Peter Sobotta","Petr Yan","Phil Baroni","Phil Caracappa","Phil Davis","Phil De Fries","Phil Harris","Phil Hawes","Phil Johns","Phil Rowe","Philipe Lins","Phillip Miller","Phillipe Nover","Piera Rodriguez","Pietro Menga","Pingyuan Liu","Piotr Hallmann","Poliana Botelho","Polyana Viana","Preston Parsons","Priscila Cachoeira","Przemyslaw Mysiala","Puja Tomar","Punahele Soriano","Qihui Yan","Qiu Lun","Quang Le","Quillan Salkilld","Quinn Mulhern","Rachael Ostovich","Rafa Garcia","Rafael Alves","Rafael Carino","Rafael Cavalcante","Rafael Cerqueira","Rafael De Freitas","Rafael Dos Anjos","Rafael Estevam","Rafael Fiziev","Rafael Natal","Rafaello Oliveira","Raimond Magomedaliev","Rainn Guerrero","Rainy Martinez","Rama Supandhi","Ramazan Emeev","Ramazan Kuramagomedov","Ramazan Temirov","Rameau Sokoudjou","Rami Hamed","Ramiz Brahimaj","Ramon Taveras","Ramona Pascual","Rampage Jackson","Ramsey Nijem","Rana Rudra Pratap Singh","Randa Markos","Randall Wallace","Randy Brown","Randy Costa","Randy Couture","Rani Yahya","Raoni Barcelos","Raphael Assunção","Raphael Pessoa Nunes","Raquel Pennington","Rashad Coulter","Rashad Evans","Rashid Magomedov","Raul Rosas Jr.","Raulian Paiva","Ravena Oliveira","Ray Borg","Ray Rodriguez","Ray Wizard","Rayanne Dos Santos","Razak Al-hassan","Reese Andy","Reginaldo Vieira","Rei Tsuruya","Reinier De Ridder","Remco Pardoel","Renan Barao","Renato Moicano","Renato Sobral","Renato Verissimo","Renzo Gracie","Reuben Duran","Rex Holman","Reyes Cortez","Reza Madadi","Reza Nazri","Rheza Arianto","Rhys Mckee","Ricardo Abreu","Ricardo Almeida","Ricardo Funch","Ricardo Lamas","Ricardo Prasel","Ricardo Ramos","Ricardo Romero","Ricco Rodriguez","Rich Attonito","Rich Clementi","Rich Franklin","Rich Walsh","Richard Crunkilton Jr.","Richard Jacobi","Richard Odoms","Richardson Moreira","Richie Hightower","Richie Santiago","Richie Smullen","Richie Vaculik","Rick Davis","Rick Palacios","Rick Story","Rickson Zenidim","Ricky Calatayud","Ricky Camp","Ricky Glenn","Ricky Rainey","Ricky Simon","Ricky Steele","Ricky Turcios","Rico Disciullo","Rico Farrington","Riki Fukuda","Riley Dutro","Rin Nakai","Rinat Fakhretdinov","Rinya Nakamura","Rizvan Kuniev","Roan Carneiro","Rob Broughton","Rob Emerson","Rob Font","Rob Kimmons","Rob Macdonald","Rob Whiteford","Rob Wilkinson","Rob Yundt","Robbie Lawler","Robbie Peralta","Robbie Ring","Robelis Despaigne","Robert Bryczek","Robert Drysdale","Robert Lucarelli","Robert Valentin","Robert Whittaker","Roberto Romero","Roberto Sanchez","Roberto Traven","Rocky Lee","Rodney Wallace","Rodolfo Bellato","Rodolfo Rubio","Rodolfo Vieira","Rodrigo Damm","Rodrigo De Lima","Rodrigo Lidio","Rodrigo Nascimento","Rodrigo Ruas","Roger Bowling","Roger Gracie","Roger Hollett","Roger Huerta","Roger Narvaez","Roger Zapata","Rogerio Bontorin","Roland Delorme","Roland Payne","Rolando Bedoya","Rolando Delgado","Rolando Dy","Roldan Sangcha-an","Rolles Gracie","Roman Bogatov","Roman Dolidze","Roman Kopylov","Roman Mitichyan","Roman Salazar","Romie Aram","Ron Faircloth","Ron Stallings","Ron Van Clief","Ron Waterman","Ronal Siahaan","Ronald Jhun","Ronaldo Candido","Ronaldo Rodriguez","Ronaldo Souza","Ronda Rousey","Rongzhu","Ronnie Lawrence","Ronny Markes","Rony Jason","Ronys Torres","Roosevelt Roberts","Roque Martinez","Rory Macdonald","Rory Markham","Rory Singer","Rose Namajunas","Roshan Mainam","Rosi Sexton","Ross Pearson","Ross Pointon","Rostem Akman","Rousimar Palhares","Roxanne Modafferi","Roy Nelson","Roybert Echeverria","Royce Alger","Royce Gracie","Royston Wee","Ruan Potts","Rudyard Moncayo","Ruslan Magomedov","Russell Doane","Rustam Khabilov","Ryan Bader","Ryan Benoit","Ryan Couture","Ryan Hall","Ryan Janes","Ryan Jensen","Ryan Jimmo","Ryan Laflare","Ryan Loder","Ryan Macdonald","Ryan Madigan","Ryan Mcgilivray","Ryan Parker","Ryan Spann","Ryan Thomas","Ryo Chonan","Sabah Homasi","Sabina Mazo","Saeed Hosseini","Sage Northcutt","Said Nurmagomedov","Saidyokub Kakhramonov","Saimon Oliveira","Sako Chivitchian","Salim Touahri","Sam Adkins","Sam Alvey","Sam Fulton","Sam Hoger","Sam Hughes","Sam Patterson","Sam Sicilia","Sam Stout","Samandar Murodov","Sammy Morgan","Samy Schiavo","Sandra Lavado","Sang Won Kim","Sang Hoon Yoo","Sangwook Kim","Santiago Ponzinibbio","Santo Curatolo","Saparbeg Safarov","Sara Mcmann","Sarah Alpar","Sarah Frota","Sarah Kaufman","Sarah Moras","Sasha Palatnikov","Satoshi Honma","Saul Rogers","Scott Adams","Scott Askham","Scott Baker","Scott Bessac","Scott Ferrozzo","Scott Fielder","Scott Holtzman","Scott Jorgensen","Scott Junk","Scott Mcafee","Scott Morris","Scott Smith","Sean Alvarez","Sean Brady","Sean Daughtery","Sean Gannon","Sean Lally","Sean Loeffler","Sean Mccorkle","Sean Mcinerney","Sean O'connell","Sean O'malley","Sean Pierson","Sean Salmon","Sean Santella","Sean Sharaf","Sean Sherk","Sean Soriano","Sean Spencer","Sean Strickland","Sean Woodson","Sedriques Dumas","Semmy Schilt","Seohee Ham","Seokhyeon Ko","Seongchan Hong","Sergei Pavlovich","Sergey Khandozhko","Sergey Morozov","Serghei Spivac","Sergio Moraes","Sergio Pettis","Serhiy Sidey","Seth Baczynski","Seth Petruzelli","Seungguk Choi","Seungwoo Choi","Shaheen Santana","Shamar Bailey","Shamil Abdurakhimov","Shamil Gamzatov","Shamil Gaziev","Shana Dobson","Shane Burgos","Shane Campbell","Shane Carwin","Shane Del Rosario","Shane Howell","Shane Nelson","Shane Primm","Shane Roller","Shane Young","Shang Zhifa","Shanna Young","Shannon Gugerty","Shannon Ross","Shara Magomedov","Shaun Etchell","Shauna Bannon","Shavkat Rakhmonov","Shawn Jordan","Shawn Teed","Shayilan Nuerdanbieke","Shayna Baszler","Sheila Gaff","Sheldon Westcott","Shelton Graves","Sherman Pendergarst","Sherrard Blackledge","Sheymon Moraes","Shimon Smotritsky","Shin Haraguchi","Shinsho Anzai","Sho Patrick Usami","Shohei Nose","Shonie Carter","Shonte Barnes","Shunichi Shimizu","Shuya Kamikubo","Sidney Outlaw","Sijara Eubanks","Silvana Gomez Juarez","Sim Kai Xiong","Simeon Thoresen","Simon Biyong","Sinae Kikuta","Sione Latu","Sirwan Kakai","Siyar Bahadurzada","Slim Trabelsi","So Yul Kim","Soa Palelei","Sodiq Yusuff","Solomon Hutcherson","Solomon Renfro","Song Kenan","Song Yadong","Sovannahry Em","Spencer Fisher","Spike Carlyle","Stanislav Nedkov","Stefan Sekulic","Stefan Struve","Stephan Bonnar","Stephanie Luciano","Stephanie Egger","Stephanie Frausto","Stephen Bass","Stephen Thompson","Steve Berger","Steve Bosse","Steve Bruno","Steve Byrnes","Steve Cantwell","Steve Erceg","Steve Garcia","Steve Jennum","Steve Judson","Steve Lopez","Steve Montgomery","Steve Nelmark","Steve Regman","Steve Steinbeiss","Steve Vigneault","Steven Kennedy","Steven Koslow","Steven Nguyen","Steven Peterson","Steven Siler","Stevie Lynch","Stevie Ray","Stewart Nicoll","Stipe Miocic","Sultan Aliev","Suman Mokhtarian","Sumit Kumar","Sumudaerji","Sung Bin Jo","Suyoung You","Syuri Kondo","Tabatha Ricci","Tae Hyun Bang","Tafon Nchukwi","Tagir Ulanbekov","Tai Bowden","Tai Tuivasa","Taila Santos","Tainara Lisboa","Taiyilake Nueraji","Takanori Gomi","Takashi Sato","Takenori Sato","Takeru Uchida","Takeya Mizugaki","Talita Alencar","Talita Bernardo","Tallison Teixeira","Tamdan Mccrory","Tamires Vidal","Taneisha Tennant","Tank Abbott","Tanner Boser","Tarec Saffiedine","Tateki Matsuda","Tatiana Suarez","Tatsuro Taira","Tatsuya Ando","Tatsuya Kawajiri","Taylor Callens","Taylor Johnson","Taylor Lapilus","Taylor Moore","Te Edwards","Tebaris Gordon","Tecia Pennington","Tedd Williams","Teddy Ash","Teemu Packalen","Teila Tuli","Tereza Bleda","Terrance Mckinney","Terrence Mitchell","Terrion Ware","Terry Etim","Terry Martin","Teruto Ishihara","Test Fighter2","Testy Test","Tetsuya Seki","Thaddeus Luster","Thales Leites","Thanh Le","Themba Gorimbo","Theo Rlayang","Thiago Alves","Thiago Moisés","Thiago Perpétuo","Thiago Santos","Thiago Tavares","Thibault Gouti","Thomas Almeida","Thomas Gifford","Thomas Paull","Thomas Petersen","Thomas Ramirez","Tiago Trator","Tiequan Zhang","Tiffany Masters","Tiki Ghosn","Tim Boetsch","Tim Caron","Tim Credeur","Tim Elliott","Tim Gorman","Tim Hague","Tim Kennedy","Tim Lajcik","Tim Mckenzie","Tim Means","Tim Sylvia","Tim Williams","Timmy Cuamba","Timo Feucht","Timothy Johnson","Timothy Thomas","Timur Valiev","Tina Lahdemaki","Tito Ortiz","Tj Brown","Tj Dillashaw","Tj Grant","Tj Laramie","Tj O'brien","Tj Waldburger","Toby Misech","Todd Brown","Todd Butler","Todd Duffee","Todd Medina","Tofiq Musayev","Tom Aspinall","Tom Blackledge","Tom Breese","Tom Deblass","Tom Duquesnoy","Tom Egan","Tom Gallicchio","Tom Lawlor","Tom Murphy","Tom Niinimaki","Tom Nolan","Tom Watson","Tomasz Drwal","Tommy Hayden","Tommy Speer","Tony Desouza","Tony Ferguson","Tony Gravely","Tony Halme","Tony Johnson","Tony Kelley","Tony Peterra","Tony Sims","Tonya Evinger","Top Noi Kiwram","Tor Troeng","Torrez Finney","Toshiomi Kazama","Townsend Saunders","Tra Telligman","Tracy Cortez","Travis Browne","Travis Fulton","Travis Lutter","Travis Wiuff","Trent Jenkins","Tresean Gore","Trevin Giles","Trevin Jones","Trevor Peek","Trevor Prangley","Trevor Smith","Trey Ogden","Trey Waters","Tristan Connelly","Troy Mandaloniz","Tsuyoshi Kosaka","Tucker Lutz","Tuco Tokkos","Tulio Palhares","Ty Flores","Tyler Diamond","Tyler Hill","Tyler Toner","Tyron Woodley","Tyrone Roberts","Tyson Griffin","Tyson Nam","Tyson Pedro","Ulka Sasaki","Ulysses Gomez","Umar Nurmagomedov","Uran Satybaldiev","Uriah Hall","Urijah Faber","Uroš Medić","Vagner Rocha","Val Woodburn","Valentina Shevchenko","Valeri Ignatov","Valerie Letourneau","Valesca Machado","Valmir Lazaro","Valter Walker","Vanessa Demopoulos","Vanessa Melo","Vaughan Lee","Vernon Ramos","Vernon White","Veronica Hardy","Viacheslav Borshchev","Vicente Luque","Victor Altamirano","Victor Dias","Victor Henry","Victor Hugo","Victor Madrigal","Victor Martinez","Victor Reyna","Victor Rodriguez","Victor Valimaki","Victoria Leonardo","Vik Grujic","Viktor Pesta","Viktoriia Dudakova","Vinc Pichel","Vince Cachero","Vince Morales","Vince Murdock","Vineesh Subrahmanyan","Vinicius Cenci","Vinicius Moreira","Vinicius Oliveira","Vinicius Queiroz","Vinicius Salvador","Vinny Magalhaes","Virna Jandiroba","Viscardi Andrade","Vitor Belfort","Vitor Miranda","Vitor Petrino","Viviane Araújo","Viviane Pereira","Vladimir Matyushenko","Volkan Oezdemir","Wade Shipp","Wagner Campos","Wagner Prado","Wagner Silva","Wagnney Fabiano","Waldo Cortes Acosta","Walel Watson","Wallen Del Rosario","Wallid Ismail","Walt Harris","Wanderlei Silva","Wang Anying","Wang Cong","Wang Guan","Wang Sai","Warlley Alves","Waylon Lowe","Wellington Turman","Wendell Oliveira","Wendri Patilima","Wes Albritton","Wes Combs","Wes Sims","Wesley Correira","Westin Wilson","Will Brooks","Will Campuzano","Will Chope","Will Santiago","Willamy Freire","William Gomis","William Knight","William Macario","William Marcario","Willian Souza","Willie Gates","Wilson Gouveia","Wilson Reis","Wonbin Ki","Wu Yanan","Wuliji Buren","Wuziazibieke Jiahefu","Xavier Foupa-pokam","Xiao Long","Xie Bin","Yadier Del Valle","Yair Rodriguez","Yamato Nishikawa","Yan Cabral","Yan Xiaonan","Yana Santos","Yanal Ashmouz","Yancy Medeiros","Yanis Ghemmouri","Yao Zhikui","Yaotzin Meza","Yasuhiro Urushitani","Yazan Hajeh","Yazmin Jauregui","Yedam Seo","Yizha","Yoel Romero","Yohan Lainesse","Yoislandy Izquierdo","Yoji Anjo","Yorgan De Castro","Yosdenis Cedeno","Yoshihiro Akiyama","Yoshiki Takahashi","Yoshinori Horie","Yousri Belgaroui","Youssef Zalal","Yui Chul Nam","Yuki Kondo","Yuki Sasaki","Yuma Horiuchi","Yuneisy Duben","Yuri Vaulin","Yuri Villefort","Yusaku Kinoshita","Yushin Okami","Yusuke Kasuya","Yves Edwards","Yves Jabouin","Zabit Magomedsharipov","Zac Pauga","Zach Borrego","Zach Light","Zach Makovsky","Zach Scroggin","Zach Zane","Zachary Reese","Zak Cummings","Zak Ottow","Zane Frazier","Zarah Fairn","Zarrukh Adashev","Zhalgas Zhumagulov","Zhang Lipeng","Zhang Mingyang","Zhang Weili","Zu Anyanwu","Zubaira Tukhugov","Zviad Lazishvili","Zygimantas Ramaska"],HM=[{videoPath:"./clips/BucklyW.mp4",correctAnswer:"Joaquin Buckley",correctVideo:"./correct/Buckly_vs.mp4",hint1:"Explosive fighter",hint2:"Known for viral knockout highlight"},{videoPath:"./clips/ConorW.mp4",correctAnswer:"Conor Mcgregor",correctVideo:"./correct/Conor_vs_Aldo.mp4",hint1:"Southpaw striker",hint2:"Made boxing debut in 2017"},{videoPath:"./clips/IliaW.mp4",correctAnswer:"Ilia Topuria",correctVideo:"./correct/Ilia_vs_Alex.mp4",hint1:"European fighter",hint2:"Undefeated record holder"},{videoPath:"./clips/Izzy_AlexW.mp4",correctAnswer:"Israel Adesanya",correctVideo:"./correct/Alex_vs_Izzy2.mp4",hint1:"Tall striker",hint2:"Has kickboxing background"},{videoPath:"./clips/IzzyW.mp4",correctAnswer:"Israel Adesanya",correctVideo:"./correct/Izzy_vs_Rob.mp4",hint1:"Creative fighter",hint2:"Trained in New Zealand"},{videoPath:"./clips/KaiFranceW.mp4",correctAnswer:"Kai Kara-france",correctVideo:"./correct/France_vs_Cody.mp4",hint1:"Smaller weight class",hint2:"Pacific region fighter"},{videoPath:"./clips/LeonW.mp4",correctAnswer:"Leon Edwards",correctVideo:"./correct/Leon_vs_Usman.mp4",hint1:"British fighter",hint2:"Late-round finisher"},{videoPath:"./clips/MasvidalW.mp4",correctAnswer:"Jorge Masvidal",correctVideo:"./correct/Masvidal_vs_Askren.mp4",hint1:"Veteran fighter",hint2:"Set speed record"},{videoPath:"./clips/MaxHollowayW.mp4",correctAnswer:"Max Holloway",correctVideo:"./correct/Max_vs_Justin.mp4",hint1:"High-volume striker",hint2:"Island-born fighter"},{videoPath:"./clips/OmalleyW.mp4",correctAnswer:"Sean O'malley",correctVideo:"./correct/Omalley_vs_White.mp4",hint1:"Colorful personality",hint2:"Western US fighter"},{videoPath:"./clips/SilvaW.mp4",correctAnswer:"Anderson Silva",correctVideo:"./correct/Silva_vs_Griffin.mp4",hint1:"Brazilian legend",hint2:"Long title reign"},{videoPath:"./clips/VolkanW.mp4",correctAnswer:"Volkan Oezdemir",correctVideo:"./correct/Oezdemir_vs_Walker.mp4",hint1:"European striker",hint2:"Light heavyweight division"}],GM=(a,e)=>[...a].sort(()=>.5-Math.random()).slice(0,Math.min(e,a.length)),qM=({onBackToWelcome:a,difficulty:e="medium",currentUser:n,userProfile:r})=>{const[l]=ge.useState(()=>GM(HM,10)),[c,f]=ge.useState(0),[g,p]=ge.useState(0),[y,E]=ge.useState(""),[R,b]=ge.useState(""),[x,J]=ge.useState(!1),[ee,$]=ge.useState(!1),[ue,re]=ge.useState(!1),[oe,Se]=ge.useState(0),[de,be]=ge.useState(!1),[V,S]=ge.useState([]),[I,D]=ge.useState(!1),[O,P]=ge.useState([]),w=l[c],[rt,Qe]=ge.useState(!1),[K,ie]=ge.useState(15),[ce,Oe]=ge.useState(null),M=async Ie=>{if(!(!n||!r))if(Ie>0)try{await zM(n.uid,Ie);const ut=(r.points||0)+Ie;Oe(ut)}catch(ut){console.error("Error adding points:",ut)}else console.log("Score is 0 or negative, not adding points"),Oe(r.points||0)},te=(()=>{switch(e){case"easy":return{maxAttempts:1/0,hintsAvailable:2};case"medium":return{maxAttempts:3,hintsAvailable:2};case"hard":return{maxAttempts:1,hintsAvailable:0};default:return{maxAttempts:3,hintsAvailable:2}}})(),Z=Ie=>Ie.toLowerCase().trim().replace(/[^a-z0-9\s]/g,""),he=()=>{Qe(!0),be(!0),b(`You gave up! The answer was: ${w.correctAnswer}`),J(!1)},Me=Ie=>{if(E(Ie),Ie.length>0&&!x&&g<3){const ut=xa.filter(gt=>{const Jt=Ie.toLowerCase(),en=gt.toLowerCase(),Fe=en.split(" ");return en.includes(Jt)||Fe.some(Kt=>Kt.startsWith(Jt))}).slice(0,K);S(ut),D(!0)}else D(!1)},ve=()=>{if(y.length>0&&!x&&g<3){const Ie=xa.filter(ut=>{const gt=y.toLowerCase(),Jt=ut.toLowerCase(),en=Jt.split(" ");return Jt.includes(gt)||en.some(Fe=>Fe.startsWith(gt))}).slice(0,K);S(Ie),D(!0)}},mt=Ie=>{E(Ie),D(!1)},Ke=Ie=>{const{scrollTop:ut,scrollHeight:gt,clientHeight:Jt}=Ie.target;ut+Jt>=gt-5&&ie(en=>{const Fe=en+15;if(y.length>0){const Kt=xa.filter(oo=>{const Ti=y.toLowerCase(),ia=oo.toLowerCase(),Kr=ia.split(" ");return ia.includes(Ti)||Kr.some(ht=>ht.startsWith(Ti))}).slice(0,Fe);S(Kt)}return Fe})},un=()=>{let Ie=0;return e==="easy"?Ie=4:e==="medium"?Ie=3:Ie=5,l.length*Ie},me=()=>{if(!y.trim()){b("Please enter an answer!");return}if(!xa.some(Fe=>Fe.toLowerCase()===y.toLowerCase())){b("Please select a fighter from the suggestion list!");return}if(O.some(Fe=>Fe.toLowerCase()===y.toLowerCase())){b("Duplicate submission! You already tried this fighter.");return}const ut=Z(y),gt=Z(w.correctAnswer),Jt=w.correctAnswerAlt?Z(w.correctAnswerAlt):null;if(ut===gt||Jt&&ut===Jt){J(!0),be(!0),b("🎉 Correct! Great job!");let Fe=0;e==="easy"?Fe=Math.max(1,4-g):e==="medium"?Fe=3-g:Fe=5,Se(oe+Fe)}else{P([...O,y]);const Fe=g+1;if(p(Fe),E(""),Fe>=te.maxAttempts)b(`❌ Sorry, that's incorrect. The answer was: ${w.correctAnswer}`),be(!0),J(!1);else if(te.hintsAvailable>0&&Fe<=te.hintsAvailable){let Kt="❌ Incorrect! ";Fe>=1&&(Kt+=`Hint 1: ${w.hint1}`),Fe>=2&&(Kt+=`
Hint 2: ${w.hint2}`),b(Kt),$(!0)}else b("❌ Incorrect! Keep trying!")}},Re=async()=>{c<l.length-1?(f(c+1),it()):(await M(oe),re(!0))},it=()=>{p(0),E(""),b(""),J(!1),$(!1),be(!1),D(!1),P([]),ie(15),Qe(!1)},ot=()=>{f(0),Se(0),re(!1),Oe(null),it()},lt=Ie=>{Ie.key==="Enter"&&!x&&!rt&&g<te.maxAttempts&&me()};return ue?N.createElement("div",{className:"game-complete"},N.createElement("div",{className:"complete-content"},N.createElement("h2",null,"🏆 Game Complete! 🏆"),N.createElement("p",{className:"final-score"},`Final Score: ${oe} points`),n&&r&&ce!==null&&N.createElement("p",{className:"total-points"},`Total Points: ${ce}`),N.createElement("p",{className:"score-breakdown"},`Out of ${l.length} questions with a maximum of ${un()} points`),N.createElement("div",{className:"complete-buttons"},N.createElement("button",{className:"restart-button",onClick:ot},"PLAY AGAIN"),N.createElement("button",{className:"back-button",onClick:a},"BACK TO MENU")))):N.createElement("div",{className:"game-screen"},N.createElement("div",{className:"game-header"},N.createElement("div",{className:"question-info"},N.createElement("h2",null,`Question ${c+1} of ${l.length}`),N.createElement("p",{className:"score"},`Score: ${oe} points`)),N.createElement("button",{className:"back-button-small",onClick:a},"← Back to Menu")),N.createElement("div",{className:"question-container"},N.createElement("h3",{className:"question-text"},"Who scored this knockout?"),N.createElement("div",{className:"video-container"},N.createElement("video",{key:de?w.correctVideo:w.videoPath,controls:!0,autoPlay:!0,muted:!0,loop:!0,className:"knockout-video"},N.createElement("source",{src:de?w.correctVideo:w.videoPath,type:"video/mp4"}),"Your browser does not support the video tag.")),N.createElement("div",{className:"input-section"},N.createElement("div",{className:"attempts-indicator"},e==="easy"?N.createElement("span",null,"Attempts: Unlimited"):N.createElement("span",null,`Attempts: ${g}/${te.maxAttempts}`),N.createElement("span",{className:"difficulty-badge"},e.toUpperCase()),ee&&N.createElement("span",{className:"hint-indicator"})),O.length>0&&N.createElement("div",{className:"used-answers"},N.createElement("p",{className:"used-answers-label"},"Already tried:"),N.createElement("div",{className:"used-answers-list"},O.map((Ie,ut)=>N.createElement("span",{key:ut,className:"used-answer-item"},Ie)))),N.createElement("div",{className:"answer-input"},N.createElement("div",{className:"input-wrapper",style:{position:"relative"}},N.createElement("input",{type:"text",value:y,onChange:Ie=>Me(Ie.target.value),onFocus:ve,onKeyPress:lt,onBlur:()=>setTimeout(()=>D(!1),150),placeholder:"Enter fighter name...",disabled:x||rt||g>=te.maxAttempts,className:"answer-field"}),I&&V.length>0&&N.createElement("div",{className:"suggestions-dropdown",onScroll:Ke,style:{maxHeight:"200px",overflowY:"auto"}},V.map((Ie,ut)=>N.createElement("div",{key:ut,className:"suggestion-item",onClick:()=>mt(Ie)},Ie)))),N.createElement("div",{className:"button-group"},N.createElement("button",{onClick:me,disabled:x||rt||g>=te.maxAttempts,className:"submit-button"},"SUBMIT"),e==="easy"&&!x&&!rt&&N.createElement("button",{onClick:he,className:"give-up-button"},"GIVE UP"))),R&&N.createElement("div",{className:`feedback ${x?"correct":"incorrect"}`},R),(x||rt||g>=te.maxAttempts)&&N.createElement("button",{className:"next-button",onClick:Re},c<l.length-1?"NEXT QUESTION":"FINISH GAME"))))},JM=({onSelectDifficulty:a,onBack:e})=>N.createElement("div",{className:"difficulty-overlay"},N.createElement("div",{className:"difficulty-menu"},N.createElement("div",{className:"difficulty-header"},N.createElement("h2",null,"Choose Difficulty"),N.createElement("button",{className:"close-button",onClick:e},"✕")),N.createElement("div",{className:"difficulty-options"},N.createElement("div",{className:"difficulty-card easy",onClick:()=>a("easy")},N.createElement("h3",null,"🟢 EASY"),N.createElement("div",{className:"difficulty-description"},N.createElement("p",null,"• Unlimited attempts"),N.createElement("p",null,"• 2 hints available"),N.createElement("p",null,"• Perfect for beginners"))),N.createElement("div",{className:"difficulty-card medium",onClick:()=>a("medium")},N.createElement("h3",null,"🟡 MEDIUM"),N.createElement("div",{className:"difficulty-description"},N.createElement("p",null,"• 3 attempts per question"),N.createElement("p",null,"• 2 hints available"),N.createElement("p",null,"• Balanced challenge"))),N.createElement("div",{className:"difficulty-card hard",onClick:()=>a("hard")},N.createElement("h3",null,"🔴 HARD"),N.createElement("div",{className:"difficulty-description"},N.createElement("p",null,"• Only 1 attempt"),N.createElement("p",null,"• No hints"),N.createElement("p",null,"• For UFC experts only")))))),zd=[{videoPath:"./clips/BucklyW.mp4",correctAnswer:"Joaquin Buckley",correctVideo:"./correct/Buckly_vs.mp4",hint1:"Explosive fighter",hint2:"Known for viral knockout highlight",releaseDate:"2025-06-10"},{videoPath:"./clips/ConorW.mp4",correctAnswer:"Conor Mcgregor",correcVideo:"./correct/Conor_vs_Aldo.mp4",hint1:"Southpaw striker",hint2:"Made boxing debut in 2017",releaseDate:"2025-06-09"},{videoPath:"./clips/IliaW.mp4",correctAnswer:"Ilia Topuria",correctVideo:"./correct/Ilia_vs_Alex.mp4",hint1:"European fighter",hint2:"Undefeated record holder",releaseDate:"2025-06-08"},{videoPath:"./clips/Izzy_AlexW.mp4",correctAnswer:"Israel Adesanya",correctVideo:"./correct/Alex_vs_Izzy2.mp4",hint1:"Tall striker",hint2:"Has kickboxing background",releaseDate:"2025-06-07"},{videoPath:"./clips/IzzyW.mp4",correctAnswer:"Israel Adesanya",correctVideo:"./correct/Izzy_vs_Rob.mp4",hint1:"Creative fighter",hint2:"Trained in New Zealand",releaseDate:"2025-06-06"},{videoPath:"./clips/KaiFranceW.mp4",correctAnswer:"Kai Kara-france",correctVideo:"./correct/France_vs_Cody.mp4",hint1:"Smaller weight class",hint2:"Pacific region fighter",releaseDate:"2025-06-05"},{videoPath:"./clips/LeonW.mp4",correctAnswer:"Leon Edwards",correctVideo:"./correct/Leon_vs_Usman.mp4",hint1:"British fighter",hint2:"Late-round finisher",releaseDate:"2025-06-04"},{videoPath:"./clips/MasvidalW.mp4",correctAnswer:"Jorge Masvidal",correctVideo:"./correct/Masvidal_vs_Askren.mp4",hint1:"Veteran fighter",hint2:"Set speed record",releaseDate:"2025-06-03"},{videoPath:"./clips/MaxHollowayW.mp4",correctAnswer:"Max Holloway",correctVideo:"./correct/Max_vs_Justin.mp4",hint1:"High-volume striker",hint2:"Island-born fighter",releaseDate:"2025-06-02"},{videoPath:"./clips/OmalleyW.mp4",correctAnswer:"Sean O'malley",correctVideo:"./correct/Omalley_vs_White.mp4",hint1:"Colorful personality",hint2:"Western US fighter",releaseDate:"2025-06-01"},{videoPath:"./clips/SilvaW.mp4",correctAnswer:"Anderson Silva",correctVideo:"./correct/Silva_vs_Griffin.mp4",hint1:"Brazilian legend",hint2:"Long title reign",releaseDate:"2025-05-31"},{videoPath:"./clips/VolkanW.mp4",correctAnswer:"Volkan Oezdemir",correctVideo:"./correct/Oezdemir_vs_Walker.mp4",hint1:"European striker",hint2:"Light heavyweight division",releaseDate:"2025-05-30"}],KM=({onBackToWelcome:a})=>{const[e,n]=ge.useState(null),[r,l]=ge.useState(!0),[c,f]=ge.useState(null),[g,p]=ge.useState(0),[y,E]=ge.useState(""),[R,b]=ge.useState(""),[x,J]=ge.useState(!1),[ee,$]=ge.useState(!1),[ue,re]=ge.useState([]),[oe,Se]=ge.useState(!1),[de,be]=ge.useState([]),[V,S]=ge.useState(15),[I,D]=ge.useState({}),[O,P]=ge.useState(0),[w,rt]=ge.useState(!1),Qe=zd.map((me,Re)=>({...me,archiveNumber:zd.length-Re,originalIndex:Re})).sort((me,Re)=>new Date(Re.releaseDate)-new Date(me.releaseDate));ge.useEffect(()=>{const me=JSON.parse(localStorage.getItem("knockoutArchiveProgress")||"{}");D(me)},[]);const K=(me,Re,it)=>{const ot={correct:Re,attempts:it,completed:!0,completedAt:new Date().toISOString(),hintsUsed:O},lt={...I,[me]:ot};D(lt),localStorage.setItem("knockoutArchiveProgress",JSON.stringify(lt))},ie=me=>{const[Re,it,ot]=me.split("-");return`${parseInt(it)}/${parseInt(ot)}/${Re}`},ce=me=>{n(me.archiveNumber),f(zd[me.originalIndex]),l(!1),Oe()},Oe=()=>{p(0),E(""),b(""),J(!1),$(!1),Se(!1),be([]),S(15),P(0),rt(!1)},M=me=>me.toLowerCase().trim().replace(/[^a-z0-9\s]/g,""),X=me=>{if(E(me),me.length>0&&!x){const Re=xa.filter(it=>{const ot=me.toLowerCase(),lt=it.toLowerCase(),Ie=lt.split(" ");return lt.includes(ot)||Ie.some(ut=>ut.startsWith(ot))}).slice(0,V);re(Re),Se(!0)}else Se(!1)},te=()=>{if(y.length>0&&!x){const me=xa.filter(Re=>{const it=y.toLowerCase(),ot=Re.toLowerCase(),lt=ot.split(" ");return ot.includes(it)||lt.some(Ie=>Ie.startsWith(it))}).slice(0,V);re(me),Se(!0)}},Z=me=>{E(me),Se(!1)},he=me=>{const{scrollTop:Re,scrollHeight:it,clientHeight:ot}=me.target;Re+ot>=it-5&&S(lt=>{const Ie=lt+15;if(y.length>0){const ut=xa.filter(gt=>{const Jt=y.toLowerCase(),en=gt.toLowerCase(),Fe=en.split(" ");return en.includes(Jt)||Fe.some(Kt=>Kt.startsWith(Jt))}).slice(0,Ie);re(ut)}return Ie})},Me=()=>{O<2&&(P(O+1),rt(!0))},ve=()=>{const me=Math.floor(Math.random()*Qe.length),Re=Qe[me];ce(Re)},mt=()=>{if(!y.trim()){b("Please enter an answer!");return}if(!xa.some(lt=>lt.toLowerCase()===y.toLowerCase())){b("Please select a fighter from the suggestion list!");return}if(de.some(lt=>lt.toLowerCase()===y.toLowerCase())){b("Duplicate submission! You already tried this fighter.");return}const Re=M(y),it=M(c.correctAnswer);if(Re===it)J(!0),$(!0),b("🎉 Correct! Archive entry completed!"),K(e,!0,g+1);else{be([...de,y]);const lt=g+1;p(lt),E(""),b("❌ Incorrect! Try again.")}},Ke=me=>{me.key==="Enter"&&!x&&mt()},un=()=>{l(!0),n(null),f(null),Oe()};return r?N.createElement("div",{className:"levels-challenge"},N.createElement("div",{className:"levels-header"},N.createElement("h1",{className:"levels-title"},"📚 Daily Knockout Archive"),N.createElement("p",{className:"levels-subtitle"},"Browse through our collection of legendary knockouts. Each entry features a classic finish for you to identify!"),N.createElement("button",{className:"back-button-small",onClick:a},"← Back to Menu")),N.createElement("div",{className:"random-fight-container"},N.createElement("button",{className:"random-fight-button",onClick:ve},"🎲 Random Fight")),N.createElement("div",{className:"levels-container"},N.createElement("div",{className:"levels-grid"},Qe.map(me=>{const Re=I[me.archiveNumber],it=Re&&Re.completed,ot=Re&&Re.correct;return N.createElement("div",{key:me.archiveNumber,className:`level-card archive-card ${it?ot?"completed-correct":"completed-incorrect":""}`,onClick:()=>ce(me),style:{cursor:"pointer"}},N.createElement("div",{className:"archive-header"},N.createElement("div",{className:"archive-number"},`#${me.archiveNumber}`),N.createElement("div",{className:"archive-date"},ie(me.releaseDate)),N.createElement("div",{className:"archive-status"},it?ot?"✅":"❌":"▶")),it&&N.createElement("div",{className:"archive-info"},N.createElement("p",{className:"archive-completion"},`✓ Solved in ${Re.attempts} attempt${Re.attempts!==1?"s":""}`),Re.hintsUsed>0&&N.createElement("p",{className:"hints-used-info"},`💡 ${Re.hintsUsed} hint${Re.hintsUsed!==1?"s":""} used`),N.createElement("p",{className:"completion-date"},`Completed: ${new Date(Re.completedAt).toLocaleDateString()}`)))})))):N.createElement("div",{className:"level-question"},N.createElement("div",{className:"level-question-header"},N.createElement("div",{className:"question-info"},N.createElement("h2",null,`Archive Entry #${e}`),N.createElement("div",{className:"level-meta"},N.createElement("span",{className:"attempts-info"},`Attempts: ${g}`))),N.createElement("button",{className:"back-button-small",onClick:un},"← Back to Archive")),N.createElement("div",{className:"question-container"},N.createElement("h3",{className:"question-text"},"Who scored this knockout?"),N.createElement("div",{className:"video-container"},N.createElement("video",{key:ee?c.correctVideo:c.videoPath,controls:!0,autoPlay:!0,muted:!0,loop:!0,className:"knockout-video"},N.createElement("source",{src:ee?c.correctVideo:c.videoPath,type:"video/mp4"}),"Your browser does not support the video tag.")),N.createElement("div",{className:"hint-section"},N.createElement("button",{onClick:Me,disabled:O>=2||x,className:"hint-button"},`💡 Hint (${O}/2)`),O>0&&N.createElement("div",{className:"hints-container"},N.createElement("div",{className:"hint-display hint-1"},N.createElement("p",null,`${c.hint1}`)),O>1&&N.createElement("div",{className:"hint-display hint-2"},N.createElement("p",null,`${c.hint2}`)))),N.createElement("div",{className:"input-section"},de.length>0&&N.createElement("div",{className:"used-answers"},N.createElement("p",{className:"used-answers-label"},"Already tried:"),N.createElement("div",{className:"used-answers-list"},de.map((me,Re)=>N.createElement("span",{key:Re,className:"used-answer-item"},me)))),N.createElement("div",{className:"answer-input"},N.createElement("div",{className:"input-wrapper",style:{position:"relative"}},N.createElement("input",{type:"text",value:y,onChange:me=>X(me.target.value),onFocus:te,onKeyPress:Ke,onBlur:()=>setTimeout(()=>Se(!1),150),placeholder:"Enter fighter name...",disabled:x,className:"answer-field"}),oe&&ue.length>0&&N.createElement("div",{className:"suggestions-dropdown",onScroll:he,style:{maxHeight:"200px",overflowY:"auto"}},ue.map((me,Re)=>N.createElement("div",{key:Re,className:"suggestion-item",onClick:()=>Z(me)},me)))),N.createElement("button",{onClick:mt,disabled:x,className:"submit-button"},"SUBMIT")),R&&N.createElement("div",{className:`feedback ${x?"correct":"incorrect"}`},R),x&&N.createElement("div",{className:"level-complete-buttons"},N.createElement("button",{className:"next-button",onClick:un},"BACK TO ARCHIVE")))))},FM=({onClose:a})=>{const[e,n]=ge.useState(""),[r,l]=ge.useState(""),[c,f]=ge.useState(""),[g,p]=ge.useState(!1),[y,E]=ge.useState(!1),[R,b]=ge.useState(""),x=async ue=>{ue.preventDefault(),E(!0),b("");try{if(g){const re=await XR(eh,e,r);console.log("Account created:",re.user);try{await LM(re.user.uid,{email:e,username:c,totalPoints:0}),console.log("User profile created successfully")}catch(oe){throw console.error("Profile creation failed:",oe),new Error(`Profile creation failed: ${oe.message}`)}alert("Account created successfully!")}else{const re=await $R(eh,e,r);console.log("Signed in:",re.user),alert("Signed in successfully!")}n(""),l(""),f(""),a()}catch(re){console.error("Authentication error:",re),b(J(re.code||re.message))}finally{E(!1)}},J=ue=>{switch(ue){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"Email already registered";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/invalid-email":return"Invalid email address";default:return typeof ue=="string"&&ue.includes("Profile creation failed")?ue:"Authentication failed. Please try again."}},ee=()=>{p(!0),b("")},$=()=>{p(!1),b("")};return N.createElement("div",{className:"login-overlay"},N.createElement("div",{className:"login-modal"},N.createElement("div",{className:"login-header"},N.createElement("h2",{className:"login-title"},g?"Create Account":"Login"),N.createElement("button",{className:"close-button",onClick:a},"×")),R&&N.createElement("div",{className:"error-message",style:{color:"red",marginBottom:"15px",padding:"10px",backgroundColor:"#fee",borderRadius:"5px",fontSize:"14px"}},R),N.createElement("form",{className:"login-form",onSubmit:x},g&&N.createElement("div",{className:"form-group"},N.createElement("label",{className:"form-label"},"Username"),N.createElement("input",{type:"text",className:"form-input",value:c,onChange:ue=>f(ue.target.value),placeholder:"Choose a username",required:!0,disabled:y})),N.createElement("div",{className:"form-group"},N.createElement("label",{className:"form-label"},"Email"),N.createElement("input",{type:"email",className:"form-input",value:e,onChange:ue=>n(ue.target.value),placeholder:"Enter your email",required:!0,disabled:y})),N.createElement("div",{className:"form-group"},N.createElement("label",{className:"form-label"},"Password"),N.createElement("input",{type:"password",className:"form-input",value:r,onChange:ue=>l(ue.target.value),placeholder:"Enter your password",required:!0,disabled:y})),N.createElement("button",{type:"submit",className:"submit-button",disabled:y,style:y?{opacity:.7,cursor:"not-allowed"}:{}},y?g?"Creating Account...":"Signing In...":g?"Create Account":"Login")),N.createElement("div",{className:"login-footer"},g?N.createElement("button",{className:"toggle-button",onClick:$,disabled:y},"Back to Login"):N.createElement("button",{className:"toggle-button",onClick:ee,disabled:y},"Create an Account"))))},PA=ge.createContext();function jM(){return ge.useContext(PA)}function YM({children:a}){const[e,n]=ge.useState(null),[r,l]=ge.useState(null),[c,f]=ge.useState(!0);ge.useEffect(()=>tw(eh,async R=>{if(console.log("Auth state changed:",R?R.uid:"no user"),n(R),R)try{console.log("Fetching profile for user:",R.uid);const b=await nE(R.uid);console.log("Profile loaded:",b),l(b),await xM(R.uid)}catch(b){console.error("Error loading user profile:",b),l(null)}else l(null);f(!1)}),[]);const y={currentUser:e,userProfile:r,refreshUserProfile:async()=>{if(e)try{console.log("Refreshing profile for:",e.uid);const E=await nE(e.uid);console.log("Profile refreshed:",E),l(E)}catch(E){console.error("Error refreshing user profile:",E)}},logout:async()=>{try{await nw(eh),n(null),l(null)}catch(E){console.error("Error signing out:",E)}},loading:c};return N.createElement(PA.Provider,{value:y},a)}const QM=()=>{const[a,e]=ge.useState(!1),[n,r]=ge.useState(!1),[l,c]=ge.useState(!1),[f,g]=ge.useState(!1),[p,y]=ge.useState("medium"),[E,R]=ge.useState(null),{currentUser:b,logout:x}=jM(),J=()=>r(!0),ee=()=>r(!1),$=()=>c(!0),ue=()=>g(!0),re=()=>g(!1),oe=async()=>{try{await x(),R(null),alert("Logged out successfully!")}catch(be){console.error("Logout error:",be)}},Se=be=>{y(be),r(!1),e(!0)},de=()=>{e(!1),r(!1),c(!1)};return N.createElement("div",{className:"App"},!a&&!l?N.createElement(UM,{onStartGame:J,onStartDaily:$,onShowLogin:ue,currentUser:b,onLogout:oe,setUserProfile:R}):l?N.createElement(KM,{onBackToWelcome:de}):N.createElement(qM,{onBackToWelcome:de,difficulty:p,currentUser:b,userProfile:E}),n&&N.createElement(JM,{onSelectDifficulty:Se,onBack:ee}),f&&N.createElement(FM,{onClose:re}))},WM=()=>N.createElement(YM,null,N.createElement(QM)),XM=document.getElementById("app"),$M=m0.createRoot(XM);$M.render(N.createElement(WM));
